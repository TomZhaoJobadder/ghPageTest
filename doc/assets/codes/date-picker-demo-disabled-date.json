{"highlightCode":"<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> differenceInCalendarDays<span class=\"token punctuation\">,</span> setHours <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'date-fns'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> DisabledTimeFn<span class=\"token punctuation\">,</span> DisabledTimePartial <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ng-zorro-antd/date-picker'</span><span class=\"token punctuation\">;</span>\r\n\r\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'nz-demo-date-picker-disabled-date'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token template-string\">template: <span class=\"token html\">`\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nz-date-picker</span>\r\n      <span class=\"token attr-name\">nzFormat</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>yyyy-MM-dd HH:mm:ss<span class=\"token punctuation\">\"</span></span>\r\n      <span class=\"token attr-name\">[nzDisabledDate]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>disabledDate<span class=\"token punctuation\">\"</span></span>\r\n      <span class=\"token attr-name\">[nzDisabledTime]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>disabledDateTime<span class=\"token punctuation\">\"</span></span>\r\n      <span class=\"token attr-name\">[nzShowTime]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{ nzDefaultOpenValue: timeDefaultValue }<span class=\"token punctuation\">\"</span></span>\r\n    <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nz-date-picker</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nz-date-picker</span> <span class=\"token attr-name\">nzMode</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>month<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[nzDisabledDate]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>disabledDate<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nz-date-picker</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nz-date-picker</span> <span class=\"token attr-name\">nzMode</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>year<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">[nzDisabledDate]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>disabledDate<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nz-date-picker</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nz-range-picker</span>\r\n      <span class=\"token attr-name\">[nzDisabledDate]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>disabledDate<span class=\"token punctuation\">\"</span></span>\r\n      <span class=\"token attr-name\">[nzDisabledTime]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>disabledRangeTime<span class=\"token punctuation\">\"</span></span>\r\n      <span class=\"token attr-name\">[nzShowTime]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{ nzHideDisabledOptions: true, nzDefaultOpenValue: timeDefaultValue }<span class=\"token punctuation\">\"</span></span>\r\n      <span class=\"token attr-name\">nzFormat</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>yyyy-MM-dd HH:mm:ss<span class=\"token punctuation\">\"</span></span>\r\n    <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nz-range-picker</span><span class=\"token punctuation\">></span></span>\r\n  `</span></span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token styles-string\">styles: [\r\n    <span class=\"token css\"><span class=\"token selector\">`\r\n      nz-date-picker,\r\n      nz-range-picker </span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token number\">8</span>px <span class=\"token number\">12</span>px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    `</span>\r\n  ]</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NzDemoDatePickerDisabledDateComponent</span> <span class=\"token punctuation\">{</span>\r\n  today <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  timeDefaultValue <span class=\"token operator\">=</span> <span class=\"token function\">setHours</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">range</span><span class=\"token punctuation\">(</span>start<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> end<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> result<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> start<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> end<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  disabledDate <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>current<span class=\"token punctuation\">:</span> Date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">boolean</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span>\r\n    <span class=\"token comment\" spellcheck=\"true\">// Can not select days before today and today</span>\r\n    <span class=\"token function\">differenceInCalendarDays</span><span class=\"token punctuation\">(</span>current<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n\r\n  disabledDateTime<span class=\"token punctuation\">:</span> DisabledTimeFn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    nzDisabledHours<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    nzDisabledMinutes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    nzDisabledSeconds<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">55</span><span class=\"token punctuation\">,</span> <span class=\"token number\">56</span><span class=\"token punctuation\">]</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  disabledRangeTime<span class=\"token punctuation\">:</span> DisabledTimeFn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>_value<span class=\"token punctuation\">,</span> type<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> DisabledTimePartial<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'start'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n        nzDisabledHours<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        nzDisabledMinutes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        nzDisabledSeconds<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">55</span><span class=\"token punctuation\">,</span> <span class=\"token number\">56</span><span class=\"token punctuation\">]</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n      nzDisabledHours<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      nzDisabledMinutes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      nzDisabledSeconds<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">55</span><span class=\"token punctuation\">,</span> <span class=\"token number\">56</span><span class=\"token punctuation\">]</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n","rawCode":"import { Component } from '@angular/core';\r\n\r\nimport { differenceInCalendarDays, setHours } from 'date-fns';\r\n\r\nimport { DisabledTimeFn, DisabledTimePartial } from 'ng-zorro-antd/date-picker';\r\n\r\n@Component({\r\n  selector: 'nz-demo-date-picker-disabled-date',\r\n  template: `\r\n    <nz-date-picker\r\n      nzFormat=\"yyyy-MM-dd HH:mm:ss\"\r\n      [nzDisabledDate]=\"disabledDate\"\r\n      [nzDisabledTime]=\"disabledDateTime\"\r\n      [nzShowTime]=\"{ nzDefaultOpenValue: timeDefaultValue }\"\r\n    ></nz-date-picker>\r\n    <br />\r\n    <nz-date-picker nzMode=\"month\" [nzDisabledDate]=\"disabledDate\"></nz-date-picker>\r\n    <br />\r\n    <nz-date-picker nzMode=\"year\" [nzDisabledDate]=\"disabledDate\"></nz-date-picker>\r\n    <br />\r\n    <nz-range-picker\r\n      [nzDisabledDate]=\"disabledDate\"\r\n      [nzDisabledTime]=\"disabledRangeTime\"\r\n      [nzShowTime]=\"{ nzHideDisabledOptions: true, nzDefaultOpenValue: timeDefaultValue }\"\r\n      nzFormat=\"yyyy-MM-dd HH:mm:ss\"\r\n    ></nz-range-picker>\r\n  `,\r\n  styles: [\r\n    `\r\n      nz-date-picker,\r\n      nz-range-picker {\r\n        margin: 0 8px 12px 0;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class NzDemoDatePickerDisabledDateComponent {\r\n  today = new Date();\r\n  timeDefaultValue = setHours(new Date(), 0);\r\n\r\n  range(start: number, end: number): number[] {\r\n    const result: number[] = [];\r\n    for (let i = start; i < end; i++) {\r\n      result.push(i);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  disabledDate = (current: Date): boolean =>\r\n    // Can not select days before today and today\r\n    differenceInCalendarDays(current, this.today) > 0;\r\n\r\n  disabledDateTime: DisabledTimeFn = () => ({\r\n    nzDisabledHours: () => this.range(0, 24).splice(4, 20),\r\n    nzDisabledMinutes: () => this.range(30, 60),\r\n    nzDisabledSeconds: () => [55, 56]\r\n  });\r\n\r\n  disabledRangeTime: DisabledTimeFn = (_value, type?: DisabledTimePartial) => {\r\n    if (type === 'start') {\r\n      return {\r\n        nzDisabledHours: () => this.range(0, 60).splice(4, 20),\r\n        nzDisabledMinutes: () => this.range(30, 60),\r\n        nzDisabledSeconds: () => [55, 56]\r\n      };\r\n    }\r\n    return {\r\n      nzDisabledHours: () => this.range(0, 60).splice(20, 4),\r\n      nzDisabledMinutes: () => this.range(0, 31),\r\n      nzDisabledSeconds: () => [55, 56]\r\n    };\r\n  };\r\n}\r\n"}
