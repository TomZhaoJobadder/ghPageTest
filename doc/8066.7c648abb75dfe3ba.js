(self.webpackChunkscales_doc_site=self.webpackChunkscales_doc_site||[]).push([[8066],{6708:function(lt){var it,et,V,tt;it={},et=function(S){var C=it[S];if(void 0===C)throw"module ["+S+"] was undefined";return void 0===C.instance&&function(S){for(var C=it[S],c=C.deps,l=C.defn,u=c.length,f=new Array(u),o=0;o<u;++o)f[o]=et(c[o]);var r=l.apply(null,f);if(void 0===r)throw"module ["+S+"] returned undefined";C.instance=r}(S),C.instance},tt=function(S,C){V(S,[],function(){return C})},(V=function(S,C,c){if("string"!=typeof S)throw"module id must be a string";if(void 0===C)throw"no dependencies for "+S;if(void 0===c)throw"no definition function for "+S;it[S]={deps:C,defn:c,instance:void 0}})("tinymce.core.geom.Rect",[],function(){"use strict";var T=Math.min,S=Math.max,C=Math.round;function c(a,n,p){var k,x,y,h,b,m;return k=n.x,x=n.y,y=a.w,h=a.h,b=n.w,m=n.h,"b"===(p=(p||"").split(""))[0]&&(x+=m),"r"===p[1]&&(k+=b),"c"===p[0]&&(x+=C(m/2)),"c"===p[1]&&(k+=C(b/2)),"b"===p[3]&&(x-=h),"r"===p[4]&&(k-=y),"c"===p[3]&&(x-=C(h/2)),"c"===p[4]&&(k-=C(y/2)),r(k,x,y,h)}function r(a,n,p,k){return{x:a,y:n,w:p,h:k}}return{inflate:function u(a,n,p){return r(a.x-n,a.y-p,a.w+2*n,a.h+2*p)},relativePosition:c,findBestRelativePosition:function l(a,n,p,k){var x,y;for(y=0;y<k.length;y++)if((x=c(a,n,k[y])).x>=p.x&&x.x+x.w<=p.w+p.x&&x.y>=p.y&&x.y+x.h<=p.h+p.y)return k[y];return null},intersect:function f(a,n){var p,k,x,y;return p=S(a.x,n.x),k=S(a.y,n.y),x=T(a.x+a.w,n.x+n.w),y=T(a.y+a.h,n.y+n.h),x-p<0||y-k<0?null:r(p,k,x-p,y-k)},clamp:function o(a,n,p){var k,x,y,h,b,m,i,e,d,v;return m=a.y,i=a.x+a.w,e=a.y+a.h,d=n.x+n.w,v=n.y+n.h,k=S(0,n.x-(b=a.x)),x=S(0,n.y-m),y=S(0,i-d),h=S(0,e-v),b+=k,m+=x,p&&(i+=k,e+=x,b-=y,m-=h),r(b,m,(i-=y)-b,(e-=h)-m)},create:r,fromClientRect:function s(a){return r(a.left,a.top,a.width,a.height)}}}),V("tinymce.core.util.Promise",[],function(){if(window.Promise)return window.Promise;var T=c.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)};function S(a,n){return function(){a.apply(n,arguments)}}var C=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function c(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(a,S(u,this),S(f,this))}function l(a){var n=this;null!==this._state?T(function(){var p=n._state?a.onFulfilled:a.onRejected;if(null!==p){var k;try{k=p(n._value)}catch(x){return void a.reject(x)}a.resolve(k)}else(n._state?a.resolve:a.reject)(n._value)}):this._deferreds.push(a)}function u(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var n=a.then;if("function"==typeof n)return void s(S(n,a),S(u,this),S(f,this))}this._state=!0,this._value=a,o.call(this)}catch(p){f.call(this,p)}}function f(a){this._state=!1,this._value=a,o.call(this)}function o(){for(var a=0,n=this._deferreds.length;a<n;a++)l.call(this,this._deferreds[a]);this._deferreds=null}function r(a,n,p,k){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof n?n:null,this.resolve=p,this.reject=k}function s(a,n,p){var k=!1;try{a(function(x){k||(k=!0,n(x))},function(x){k||(k=!0,p(x))})}catch(x){if(k)return;k=!0,p(x)}}return c.prototype.catch=function(a){return this.then(null,a)},c.prototype.then=function(a,n){var p=this;return new c(function(k,x){l.call(p,new r(a,n,k,x))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&C(arguments[0])?arguments[0]:arguments);return new c(function(n,p){if(0===a.length)return n([]);var k=a.length;function x(h,b){try{if(b&&("object"==typeof b||"function"==typeof b)){var m=b.then;if("function"==typeof m)return void m.call(b,function(i){x(h,i)},p)}a[h]=b,0==--k&&n(a)}catch(i){p(i)}}for(var y=0;y<a.length;y++)x(y,a[y])})},c.resolve=function(a){return a&&"object"==typeof a&&a.constructor===c?a:new c(function(n){n(a)})},c.reject=function(a){return new c(function(n,p){p(a)})},c.race=function(a){return new c(function(n,p){for(var k=0,x=a.length;k<x;k++)a[k].then(n,p)})},c}),V("tinymce.core.util.Delay",["tinymce.core.util.Promise"],function(T){var S;function c(r,s){return"number"!=typeof s&&(s=0),setTimeout(r,s)}function l(r,s){return"number"!=typeof s&&(s=1),setInterval(r,s)}function o(r,s){var a,n;return n=function(){var k=arguments;clearTimeout(a),a=c(function(){r.apply(this,k)},s)},n.stop=function(){clearTimeout(a)},n}return{requestAnimationFrame:function(s,a){S?S.then(s):S=new T(function(n){a||(a=document.body),function C(r,s){var a,n=window.requestAnimationFrame,p=["ms","moz","webkit"];for(a=0;a<p.length&&!n;a++)n=window[p[a]+"RequestAnimationFrame"];n||(n=function k(x){window.setTimeout(x,0)}),n(r,s)}(n,a)}).then(s)},setTimeout:c,setInterval:l,setEditorTimeout:function(s,a,n){return c(function(){s.removed||a()},n)},setEditorInterval:function(s,a,n){var p;return p=l(function(){s.removed?clearInterval(p):a()},n)},debounce:o,throttle:o,clearInterval:function f(r){return clearInterval(r)},clearTimeout:function u(r){return clearTimeout(r)}}}),V("tinymce.core.Env",[],function(){var C,c,l,u,f,o,r,s,a,n,p,k,x,T=navigator,S=T.userAgent;function y(b){return"matchMedia"in window&&matchMedia(b).matches}return C=window.opera&&window.opera.buildNumber,a=/Android/.test(S),l=(l=!(c=/WebKit/.test(S))&&!C&&/MSIE/gi.test(S)&&/Explorer/gi.test(T.appName))&&/MSIE (\w+)\./.exec(S)[1],u=-1!=S.indexOf("Trident/")&&(-1!=S.indexOf("rv:")||-1!=T.appName.indexOf("Netscape"))&&11,f=-1!=S.indexOf("Edge/")&&!l&&!u&&12,l=l||u||f,o=!c&&!u&&/Gecko/.test(S),r=-1!=S.indexOf("Mac"),s=/(iPad|iPhone)/.test(S),n="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,p=y("only screen and (max-device-width: 480px)")&&(a||s),k=y("only screen and (min-width: 800px)")&&(a||s),x=-1!=S.indexOf("Windows Phone"),f&&(c=!1),{opera:C,webkit:c,ie:l,gecko:o,mac:r,iOS:s,android:a,contentEditable:!s||n||S.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=l,range:window.getSelection&&"Range"in window,documentMode:l&&!f?document.documentMode||7:10,fileApi:n,ceFalse:!1===l||l>8,canHaveCSP:!1===l||l>11,desktop:!p&&!k,windowsPhone:x}}),V("tinymce.core.dom.EventUtils",["tinymce.core.util.Delay","tinymce.core.Env"],function(T,S){"use strict";var c=/^(?:mouse|contextmenu)|click/,l={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},f=function(){return!1},o=function(){return!0};function r(x,y,h,b){x.addEventListener?x.addEventListener(y,h,b||!1):x.attachEvent&&x.attachEvent("on"+y,h)}function s(x,y,h,b){x.removeEventListener?x.removeEventListener(y,h,b||!1):x.detachEvent&&x.detachEvent("on"+y,h)}function n(x,y){var h,m,b=y||{};for(h in x)l[h]||(b[h]=x[h]);if(b.target||(b.target=b.srcElement||document),S.experimentalShadowDom&&(b.target=function a(x,y){var h,b=y;return(h=x.path)&&h.length>0&&(b=h[0]),x.deepPath&&(h=x.deepPath())&&h.length>0&&(b=h[0]),b}(x,b.target)),x&&c.test(x.type)&&x.pageX===m&&x.clientX!==m){var i=b.target.ownerDocument||document,e=i.documentElement,d=i.body;b.pageX=x.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||0),b.pageY=x.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)}return b.preventDefault=function(){b.isDefaultPrevented=o,x&&(x.preventDefault?x.preventDefault():x.returnValue=!1)},b.stopPropagation=function(){b.isPropagationStopped=o,x&&(x.stopPropagation?x.stopPropagation():x.cancelBubble=!0)},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=o,b.stopPropagation()},!1===function(y){return y.isDefaultPrevented===o||y.isDefaultPrevented===f}(b)&&(b.isDefaultPrevented=f,b.isPropagationStopped=f,b.isImmediatePropagationStopped=f),void 0===b.metaKey&&(b.metaKey=!1),b}function p(x,y,h){var b=x.document,m={type:"ready"};function i(){return"complete"===b.readyState||"interactive"===b.readyState&&b.body}function e(){h.domLoaded||(h.domLoaded=!0,y(m))}h.domLoaded?y(m):(!b.addEventListener||S.ie&&S.ie<11?(r(b,"readystatechange",function d(){i()&&(s(b,"readystatechange",d),e())}),b.documentElement.doScroll&&x.self===x.top&&function v(){try{b.documentElement.doScroll("left")}catch(t){return void T.setTimeout(v)}e()}()):i()?e():r(x,"DOMContentLoaded",e),r(x,"load",e))}function k(){var h,b,m,i,e,x=this,y={};function d(v,t){var g,w,E,A,R=y[t];if(g=R&&R[v.type])for(w=0,E=g.length;w<E;w++)if((A=g[w])&&!1===A.func.call(A.scope,v)&&v.preventDefault(),v.isImmediatePropagationStopped())return}b="mce-data-"+(+new Date).toString(32),i="onmouseenter"in document.documentElement,m="onfocusin"in document.documentElement,e={mouseenter:"mouseover",mouseleave:"mouseout"},h=1,x.domLoaded=!1,x.events=y,x.bind=function(v,t,g,w){var E,A,R,N,_,P,M,D=window;function U(L){d(n(L||D.event),E)}if(v&&3!==v.nodeType&&8!==v.nodeType){for(v[b]?E=v[b]:(E=h++,v[b]=E,y[E]={}),w=w||v,R=(t=t.split(" ")).length;R--;)P=U,_=M=!1,"DOMContentLoaded"===(N=t[R])&&(N="ready"),x.domLoaded&&"ready"===N&&"complete"==v.readyState?g.call(w,n({type:N})):(i||(_=e[N])&&(P=function(B){var I,F;if(I=B.currentTarget,(F=B.relatedTarget)&&I.contains)F=I.contains(F);else for(;F&&F!==I;)F=F.parentNode;F||((B=n(B||D.event)).type="mouseout"===B.type?"mouseleave":"mouseenter",B.target=I,d(B,E))}),!m&&("focusin"===N||"focusout"===N)&&(M=!0,_="focusin"===N?"focus":"blur",P=function(B){(B=n(B||D.event)).type="focus"===B.type?"focusin":"focusout",d(B,E)}),(A=y[E][N])?"ready"===N&&x.domLoaded?g({type:N}):A.push({func:g,scope:w}):(y[E][N]=A=[{func:g,scope:w}],A.fakeName=_,A.capture=M,A.nativeHandler=P,"ready"===N?p(v,P,x):r(v,_||N,P,M)));return v=A=0,g}},x.unbind=function(v,t,g){var w,E,A,R,N,_;if(!v||3===v.nodeType||8===v.nodeType)return x;if(w=v[b]){if(_=y[w],t){for(A=(t=t.split(" ")).length;A--;)if(E=_[N=t[A]]){if(g)for(R=E.length;R--;)if(E[R].func===g){var P=E.nativeHandler,M=E.fakeName,D=E.capture;(E=E.slice(0,R).concat(E.slice(R+1))).nativeHandler=P,E.fakeName=M,E.capture=D,_[N]=E}(!g||0===E.length)&&(delete _[N],s(v,E.fakeName||N,E.nativeHandler,E.capture))}}else{for(N in _)s(v,(E=_[N]).fakeName||N,E.nativeHandler,E.capture);_={}}for(N in _)return x;delete y[w];try{delete v[b]}catch(U){v[b]=null}}return x},x.fire=function(v,t,g){var w;if(!v||3===v.nodeType||8===v.nodeType)return x;(g=n(null,g)).type=t,g.target=v;do{(w=v[b])&&d(g,w),v=v.parentNode||v.ownerDocument||v.defaultView||v.parentWindow}while(v&&!g.isPropagationStopped());return x},x.clean=function(v){var t,g,w=x.unbind;if(!v||3===v.nodeType||8===v.nodeType)return x;if(v[b]&&w(v),v.getElementsByTagName||(v=v.document),v&&v.getElementsByTagName)for(w(v),t=(g=v.getElementsByTagName("*")).length;t--;)(v=g[t])[b]&&w(v);return x},x.destroy=function(){y={}},x.cancel=function(v){return v&&(v.preventDefault(),v.stopImmediatePropagation()),!1}}return(k.Event=new k).bind(window,"ready",function(){}),k}),V("tinymce.core.dom.Sizzle",[],function(){var T,S,C,c,l,u,f,o,r,s,a,n,p,k,x,y,h,b,m,i="sizzle"+-new Date,e=window.document,d=0,v=0,t=Te(),g=Te(),w=Te(),E=function(O,W){return O===W&&(a=!0),0},A="undefined",R=1<<31,N={}.hasOwnProperty,_=[],P=_.pop,M=_.push,D=_.push,U=_.slice,L=_.indexOf||function(H){for(var O=0,W=this.length;O<W;O++)if(this[O]===H)return O;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q="\\["+I+"*("+F+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+I+"*\\]",G=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",ne=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),se=new RegExp("^"+I+"*,"+I+"*"),de=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),ue=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),Se=new RegExp(G),me=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,ae=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),oe=function(O,W,j){var Q="0x"+W-65536;return Q!=Q||j?W:Q<0?String.fromCharCode(Q+65536):String.fromCharCode(Q>>10|55296,1023&Q|56320)};try{D.apply(_=U.call(e.childNodes),e.childNodes)}catch(H){D={apply:_.length?function(O,W){M.apply(O,U.call(W))}:function(O,W){for(var j=O.length,Q=0;O[j++]=W[Q++];);O.length=j-1}}}function te(H,O,W,j){var Q,Y,ee,le,ie,Ce,Re,Be,Pe,He;if((O?O.ownerDocument||O:e)!==p&&n(O),W=W||[],!H||"string"!=typeof H)return W;if(1!==(le=(O=O||p).nodeType)&&9!==le)return[];if(x&&!j){if(Q=re.exec(H))if(ee=Q[1]){if(9===le){if(!(Y=O.getElementById(ee))||!Y.parentNode)return W;if(Y.id===ee)return W.push(Y),W}else if(O.ownerDocument&&(Y=O.ownerDocument.getElementById(ee))&&m(O,Y)&&Y.id===ee)return W.push(Y),W}else{if(Q[2])return D.apply(W,O.getElementsByTagName(H)),W;if((ee=Q[3])&&S.getElementsByClassName)return D.apply(W,O.getElementsByClassName(ee)),W}if(S.qsa&&(!y||!y.test(H))){if(Be=Re=i,Pe=O,He=9===le&&H,1===le&&"object"!==O.nodeName.toLowerCase()){for(Ce=u(H),(Re=O.getAttribute("id"))?Be=Re.replace(we,"\\$&"):O.setAttribute("id",Be),Be="[id='"+Be+"'] ",ie=Ce.length;ie--;)Ce[ie]=Be+Ne(Ce[ie]);Pe=ye.test(H)&&fe(O.parentNode)||O,He=Ce.join(",")}if(He)try{return D.apply(W,Pe.querySelectorAll(He)),W}catch(he){}finally{Re||O.removeAttribute("id")}}}return o(H.replace(ne,"$1"),O,W,j)}function Te(){var H=[];return function O(W,j){return H.push(W+" ")>C.cacheLength&&delete O[H.shift()],O[W+" "]=j}}function xe(H){return H[i]=!0,H}function Ae(H){var O=p.createElement("div");try{return!!H(O)}catch(W){return!1}finally{O.parentNode&&O.parentNode.removeChild(O),O=null}}function ve(H,O){for(var W=H.split("|"),j=H.length;j--;)C.attrHandle[W[j]]=O}function Fe(H,O){var W=O&&H,j=W&&1===H.nodeType&&1===O.nodeType&&(~O.sourceIndex||R)-(~H.sourceIndex||R);if(j)return j;if(W)for(;W=W.nextSibling;)if(W===O)return-1;return H?1:-1}function Ue(H){return function(O){return"input"===O.nodeName.toLowerCase()&&O.type===H}}function Ve(H){return function(O){var W=O.nodeName.toLowerCase();return("input"===W||"button"===W)&&O.type===H}}function K(H){return xe(function(O){return O=+O,xe(function(W,j){for(var Q,Y=H([],W.length,O),ee=Y.length;ee--;)W[Q=Y[ee]]&&(W[Q]=!(j[Q]=W[Q]))})})}function fe(H){return H&&typeof H.getElementsByTagName!==A&&H}for(T in S=te.support={},l=te.isXML=function(H){var O=H&&(H.ownerDocument||H).documentElement;return!!O&&"HTML"!==O.nodeName},n=te.setDocument=function(H){var O,W=H?H.ownerDocument||H:e,j=W.defaultView;return W!==p&&9===W.nodeType&&W.documentElement?(p=W,k=W.documentElement,x=!l(W),j&&j!==function Q(Y){try{return Y.top}catch(ee){}return null}(j)&&(j.addEventListener?j.addEventListener("unload",function(){n()},!1):j.attachEvent&&j.attachEvent("onunload",function(){n()})),S.attributes=Ae(function(Y){return Y.className="i",!Y.getAttribute("className")}),S.getElementsByTagName=Ae(function(Y){return Y.appendChild(W.createComment("")),!Y.getElementsByTagName("*").length}),S.getElementsByClassName=J.test(W.getElementsByClassName),S.getById=Ae(function(Y){return k.appendChild(Y).id=i,!W.getElementsByName||!W.getElementsByName(i).length}),S.getById?(C.find.ID=function(Y,ee){if(typeof ee.getElementById!==A&&x){var le=ee.getElementById(Y);return le&&le.parentNode?[le]:[]}},C.filter.ID=function(Y){var ee=Y.replace(ae,oe);return function(le){return le.getAttribute("id")===ee}}):(delete C.find.ID,C.filter.ID=function(Y){var ee=Y.replace(ae,oe);return function(le){var ie=typeof le.getAttributeNode!==A&&le.getAttributeNode("id");return ie&&ie.value===ee}}),C.find.TAG=S.getElementsByTagName?function(Y,ee){if(typeof ee.getElementsByTagName!==A)return ee.getElementsByTagName(Y)}:function(Y,ee){var le,ie=[],Ce=0,Re=ee.getElementsByTagName(Y);if("*"===Y){for(;le=Re[Ce++];)1===le.nodeType&&ie.push(le);return ie}return Re},C.find.CLASS=S.getElementsByClassName&&function(Y,ee){if(x)return ee.getElementsByClassName(Y)},h=[],y=[],(S.qsa=J.test(W.querySelectorAll))&&(Ae(function(Y){Y.innerHTML="<select msallowcapture=''><option selected=''></option></select>",Y.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+I+"*(?:''|\"\")"),Y.querySelectorAll("[selected]").length||y.push("\\["+I+"*(?:value|"+B+")"),Y.querySelectorAll(":checked").length||y.push(":checked")}),Ae(function(Y){var ee=W.createElement("input");ee.setAttribute("type","hidden"),Y.appendChild(ee).setAttribute("name","D"),Y.querySelectorAll("[name=d]").length&&y.push("name"+I+"*[*^$|!~]?="),Y.querySelectorAll(":enabled").length||y.push(":enabled",":disabled"),Y.querySelectorAll("*,:x"),y.push(",.*:")})),(S.matchesSelector=J.test(b=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&Ae(function(Y){S.disconnectedMatch=b.call(Y,"div"),b.call(Y,"[s!='']:x"),h.push("!=",G)}),y=y.length&&new RegExp(y.join("|")),h=h.length&&new RegExp(h.join("|")),O=J.test(k.compareDocumentPosition),m=O||J.test(k.contains)?function(Y,ee){var le=9===Y.nodeType?Y.documentElement:Y,ie=ee&&ee.parentNode;return Y===ie||!(!ie||1!==ie.nodeType||!(le.contains?le.contains(ie):Y.compareDocumentPosition&&16&Y.compareDocumentPosition(ie)))}:function(Y,ee){if(ee)for(;ee=ee.parentNode;)if(ee===Y)return!0;return!1},E=O?function(Y,ee){if(Y===ee)return a=!0,0;var le=!Y.compareDocumentPosition-!ee.compareDocumentPosition;return le||(1&(le=(Y.ownerDocument||Y)===(ee.ownerDocument||ee)?Y.compareDocumentPosition(ee):1)||!S.sortDetached&&ee.compareDocumentPosition(Y)===le?Y===W||Y.ownerDocument===e&&m(e,Y)?-1:ee===W||ee.ownerDocument===e&&m(e,ee)?1:s?L.call(s,Y)-L.call(s,ee):0:4&le?-1:1)}:function(Y,ee){if(Y===ee)return a=!0,0;var le,ie=0,Ce=Y.parentNode,Re=ee.parentNode,Be=[Y],Pe=[ee];if(!Ce||!Re)return Y===W?-1:ee===W?1:Ce?-1:Re?1:s?L.call(s,Y)-L.call(s,ee):0;if(Ce===Re)return Fe(Y,ee);for(le=Y;le=le.parentNode;)Be.unshift(le);for(le=ee;le=le.parentNode;)Pe.unshift(le);for(;Be[ie]===Pe[ie];)ie++;return ie?Fe(Be[ie],Pe[ie]):Be[ie]===e?-1:Pe[ie]===e?1:0},W):p},te.matches=function(H,O){return te(H,null,null,O)},te.matchesSelector=function(H,O){if((H.ownerDocument||H)!==p&&n(H),O=O.replace(ue,"='$1']"),S.matchesSelector&&x&&(!h||!h.test(O))&&(!y||!y.test(O)))try{var W=b.call(H,O);if(W||S.disconnectedMatch||H.document&&11!==H.document.nodeType)return W}catch(j){}return te(O,p,null,[H]).length>0},te.contains=function(H,O){return(H.ownerDocument||H)!==p&&n(H),m(H,O)},te.attr=function(H,O){(H.ownerDocument||H)!==p&&n(H);var W=C.attrHandle[O.toLowerCase()],j=W&&N.call(C.attrHandle,O.toLowerCase())?W(H,O,!x):void 0;return void 0!==j?j:S.attributes||!x?H.getAttribute(O):(j=H.getAttributeNode(O))&&j.specified?j.value:null},te.error=function(H){throw new Error("Syntax error, unrecognized expression: "+H)},te.uniqueSort=function(H){var O,W=[],j=0,Q=0;if(a=!S.detectDuplicates,s=!S.sortStable&&H.slice(0),H.sort(E),a){for(;O=H[Q++];)O===H[Q]&&(j=W.push(Q));for(;j--;)H.splice(W[j],1)}return s=null,H},c=te.getText=function(H){var O,W="",j=0,Q=H.nodeType;if(Q){if(1===Q||9===Q||11===Q){if("string"==typeof H.textContent)return H.textContent;for(H=H.firstChild;H;H=H.nextSibling)W+=c(H)}else if(3===Q||4===Q)return H.nodeValue}else for(;O=H[j++];)W+=c(O);return W},(C=te.selectors={cacheLength:50,createPseudo:xe,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(O){return O[1]=O[1].replace(ae,oe),O[3]=(O[3]||O[4]||O[5]||"").replace(ae,oe),"~="===O[2]&&(O[3]=" "+O[3]+" "),O.slice(0,4)},CHILD:function(O){return O[1]=O[1].toLowerCase(),"nth"===O[1].slice(0,3)?(O[3]||te.error(O[0]),O[4]=+(O[4]?O[5]+(O[6]||1):2*("even"===O[3]||"odd"===O[3])),O[5]=+(O[7]+O[8]||"odd"===O[3])):O[3]&&te.error(O[0]),O},PSEUDO:function(O){var W,j=!O[6]&&O[2];return X.CHILD.test(O[0])?null:(O[3]?O[2]=O[4]||O[5]||"":j&&Se.test(j)&&(W=u(j,!0))&&(W=j.indexOf(")",j.length-W)-j.length)&&(O[0]=O[0].slice(0,W),O[2]=j.slice(0,W)),O.slice(0,3))}},filter:{TAG:function(O){var W=O.replace(ae,oe).toLowerCase();return"*"===O?function(){return!0}:function(j){return j.nodeName&&j.nodeName.toLowerCase()===W}},CLASS:function(O){var W=t[O+" "];return W||(W=new RegExp("(^|"+I+")"+O+"("+I+"|$)"))&&t(O,function(j){return W.test("string"==typeof j.className&&j.className||typeof j.getAttribute!==A&&j.getAttribute("class")||"")})},ATTR:function(O,W,j){return function(Q){var Y=te.attr(Q,O);return null==Y?"!="===W:!W||(Y+="","="===W?Y===j:"!="===W?Y!==j:"^="===W?j&&0===Y.indexOf(j):"*="===W?j&&Y.indexOf(j)>-1:"$="===W?j&&Y.slice(-j.length)===j:"~="===W?(" "+Y+" ").indexOf(j)>-1:"|="===W&&(Y===j||Y.slice(0,j.length+1)===j+"-"))}},CHILD:function(O,W,j,Q,Y){var ee="nth"!==O.slice(0,3),le="last"!==O.slice(-4),ie="of-type"===W;return 1===Q&&0===Y?function(Ce){return!!Ce.parentNode}:function(Ce,Re,Be){var Pe,He,he,ke,be,pe,ce=ee!==le?"nextSibling":"previousSibling",ge=Ce.parentNode,De=ie&&Ce.nodeName.toLowerCase(),Le=!Be&&!ie;if(ge){if(ee){for(;ce;){for(he=Ce;he=he[ce];)if(ie?he.nodeName.toLowerCase()===De:1===he.nodeType)return!1;pe=ce="only"===O&&!pe&&"nextSibling"}return!0}if(pe=[le?ge.firstChild:ge.lastChild],le&&Le){for(ke=(Pe=(He=ge[i]||(ge[i]={}))[O]||[])[0]===d&&Pe[2],he=(be=Pe[0]===d&&Pe[1])&&ge.childNodes[be];he=++be&&he&&he[ce]||(ke=be=0)||pe.pop();)if(1===he.nodeType&&++ke&&he===Ce){He[O]=[d,be,ke];break}}else if(Le&&(Pe=(Ce[i]||(Ce[i]={}))[O])&&Pe[0]===d)ke=Pe[1];else for(;(he=++be&&he&&he[ce]||(ke=be=0)||pe.pop())&&((ie?he.nodeName.toLowerCase()!==De:1!==he.nodeType)||!++ke||(Le&&((he[i]||(he[i]={}))[O]=[d,ke]),he!==Ce)););return(ke-=Y)===Q||ke%Q==0&&ke/Q>=0}}},PSEUDO:function(O,W){var j,Q=C.pseudos[O]||C.setFilters[O.toLowerCase()]||te.error("unsupported pseudo: "+O);return Q[i]?Q(W):Q.length>1?(j=[O,O,"",W],C.setFilters.hasOwnProperty(O.toLowerCase())?xe(function(Y,ee){for(var le,ie=Q(Y,W),Ce=ie.length;Ce--;)Y[le=L.call(Y,ie[Ce])]=!(ee[le]=ie[Ce])}):function(Y){return Q(Y,0,j)}):Q}},pseudos:{not:xe(function(H){var O=[],W=[],j=f(H.replace(ne,"$1"));return j[i]?xe(function(Q,Y,ee,le){for(var ie,Ce=j(Q,null,le,[]),Re=Q.length;Re--;)(ie=Ce[Re])&&(Q[Re]=!(Y[Re]=ie))}):function(Q,Y,ee){return O[0]=Q,j(O,null,ee,W),!W.pop()}}),has:xe(function(H){return function(O){return te(H,O).length>0}}),contains:xe(function(H){return H=H.replace(ae,oe),function(O){return(O.textContent||O.innerText||c(O)).indexOf(H)>-1}}),lang:xe(function(H){return me.test(H||"")||te.error("unsupported lang: "+H),H=H.replace(ae,oe).toLowerCase(),function(O){var W;do{if(W=x?O.lang:O.getAttribute("xml:lang")||O.getAttribute("lang"))return(W=W.toLowerCase())===H||0===W.indexOf(H+"-")}while((O=O.parentNode)&&1===O.nodeType);return!1}}),target:function(O){var W=window.location&&window.location.hash;return W&&W.slice(1)===O.id},root:function(O){return O===k},focus:function(O){return O===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(O.type||O.href||~O.tabIndex)},enabled:function(O){return!1===O.disabled},disabled:function(O){return!0===O.disabled},checked:function(O){var W=O.nodeName.toLowerCase();return"input"===W&&!!O.checked||"option"===W&&!!O.selected},selected:function(O){return!0===O.selected},empty:function(O){for(O=O.firstChild;O;O=O.nextSibling)if(O.nodeType<6)return!1;return!0},parent:function(O){return!C.pseudos.empty(O)},header:function(O){return $.test(O.nodeName)},input:function(O){return Z.test(O.nodeName)},button:function(O){var W=O.nodeName.toLowerCase();return"input"===W&&"button"===O.type||"button"===W},text:function(O){var W;return"input"===O.nodeName.toLowerCase()&&"text"===O.type&&(null==(W=O.getAttribute("type"))||"text"===W.toLowerCase())},first:K(function(){return[0]}),last:K(function(H,O){return[O-1]}),eq:K(function(H,O,W){return[W<0?W+O:W]}),even:K(function(H,O){for(var W=0;W<O;W+=2)H.push(W);return H}),odd:K(function(H,O){for(var W=1;W<O;W+=2)H.push(W);return H}),lt:K(function(H,O,W){for(var j=W<0?W+O:W;--j>=0;)H.push(j);return H}),gt:K(function(H,O,W){for(var j=W<0?W+O:W;++j<O;)H.push(j);return H})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[T]=Ue(T);for(T in{submit:!0,reset:!0})C.pseudos[T]=Ve(T);function Ee(){}function Ne(H){for(var O=0,W=H.length,j="";O<W;O++)j+=H[O].value;return j}function Ie(H,O,W){var j=O.dir,Q=W&&"parentNode"===j,Y=v++;return O.first?function(ee,le,ie){for(;ee=ee[j];)if(1===ee.nodeType||Q)return H(ee,le,ie)}:function(ee,le,ie){var Ce,Re,Be=[d,Y];if(ie){for(;ee=ee[j];)if((1===ee.nodeType||Q)&&H(ee,le,ie))return!0}else for(;ee=ee[j];)if(1===ee.nodeType||Q){if((Ce=(Re=ee[i]||(ee[i]={}))[j])&&Ce[0]===d&&Ce[1]===Y)return Be[2]=Ce[2];if(Re[j]=Be,Be[2]=H(ee,le,ie))return!0}}}function Oe(H){return H.length>1?function(O,W,j){for(var Q=H.length;Q--;)if(!H[Q](O,W,j))return!1;return!0}:H[0]}function Ke(H,O,W,j,Q){for(var Y,ee=[],le=0,ie=H.length,Ce=null!=O;le<ie;le++)(Y=H[le])&&(!W||W(Y,j,Q))&&(ee.push(Y),Ce&&O.push(le));return ee}function je(H,O,W,j,Q,Y){return j&&!j[i]&&(j=je(j)),Q&&!Q[i]&&(Q=je(Q,Y)),xe(function(ee,le,ie,Ce){var Re,Be,Pe,He=[],he=[],ke=le.length,be=ee||function Ye(H,O,W){for(var j=0,Q=O.length;j<Q;j++)te(H,O[j],W);return W}(O||"*",ie.nodeType?[ie]:ie,[]),pe=!H||!ee&&O?be:Ke(be,He,H,ie,Ce),ce=W?Q||(ee?H:ke||j)?[]:le:pe;if(W&&W(pe,ce,ie,Ce),j)for(Re=Ke(ce,he),j(Re,[],ie,Ce),Be=Re.length;Be--;)(Pe=Re[Be])&&(ce[he[Be]]=!(pe[he[Be]]=Pe));if(ee){if(Q||H){if(Q){for(Re=[],Be=ce.length;Be--;)(Pe=ce[Be])&&Re.push(pe[Be]=Pe);Q(null,ce=[],Re,Ce)}for(Be=ce.length;Be--;)(Pe=ce[Be])&&(Re=Q?L.call(ee,Pe):He[Be])>-1&&(ee[Re]=!(le[Re]=Pe))}}else ce=Ke(ce===le?ce.splice(ke,ce.length):ce),Q?Q(null,le,ce,Ce):D.apply(le,ce)})}function Xe(H){for(var O,W,j,Q=H.length,Y=C.relative[H[0].type],ee=Y||C.relative[" "],le=Y?1:0,ie=Ie(function(Be){return Be===O},ee,!0),Ce=Ie(function(Be){return L.call(O,Be)>-1},ee,!0),Re=[function(Be,Pe,He){return!Y&&(He||Pe!==r)||((O=Pe).nodeType?ie(Be,Pe,He):Ce(Be,Pe,He))}];le<Q;le++)if(W=C.relative[H[le].type])Re=[Ie(Oe(Re),W)];else{if((W=C.filter[H[le].type].apply(null,H[le].matches))[i]){for(j=++le;j<Q&&!C.relative[H[j].type];j++);return je(le>1&&Oe(Re),le>1&&Ne(H.slice(0,le-1).concat({value:" "===H[le-2].type?"*":""})).replace(ne,"$1"),W,le<j&&Xe(H.slice(le,j)),j<Q&&Xe(H=H.slice(j)),j<Q&&Ne(H))}Re.push(W)}return Oe(Re)}return Ee.prototype=C.filters=C.pseudos,C.setFilters=new Ee,u=te.tokenize=function(H,O){var W,j,Q,Y,ee,le,ie,Ce=g[H+" "];if(Ce)return O?0:Ce.slice(0);for(ee=H,le=[],ie=C.preFilter;ee;){for(Y in(!W||(j=se.exec(ee)))&&(j&&(ee=ee.slice(j[0].length)||ee),le.push(Q=[])),W=!1,(j=de.exec(ee))&&(W=j.shift(),Q.push({value:W,type:j[0].replace(ne," ")}),ee=ee.slice(W.length)),C.filter)(j=X[Y].exec(ee))&&(!ie[Y]||(j=ie[Y](j)))&&(W=j.shift(),Q.push({value:W,type:Y,matches:j}),ee=ee.slice(W.length));if(!W)break}return O?ee.length:ee?te.error(H):g(H,le).slice(0)},f=te.compile=function(H,O){var W,j=[],Q=[],Y=w[H+" "];if(!Y){for(O||(O=u(H)),W=O.length;W--;)(Y=Xe(O[W]))[i]?j.push(Y):Q.push(Y);Y=w(H,function ot(H,O){var W=O.length>0,j=H.length>0,Q=function(ee,le,ie,Ce,Re){var Be,Pe,He,he=0,ke="0",be=ee&&[],pe=[],ce=r,ge=ee||j&&C.find.TAG("*",Re),De=d+=null==ce?1:Math.random()||.1,Le=ge.length;for(Re&&(r=le!==p&&le);ke!==Le&&null!=(Be=ge[ke]);ke++){if(j&&Be){for(Pe=0;He=H[Pe++];)if(He(Be,le,ie)){Ce.push(Be);break}Re&&(d=De)}W&&((Be=!He&&Be)&&he--,ee&&be.push(Be))}if(he+=ke,W&&ke!==he){for(Pe=0;He=O[Pe++];)He(be,pe,le,ie);if(ee){if(he>0)for(;ke--;)be[ke]||pe[ke]||(pe[ke]=P.call(Ce));pe=Ke(pe)}D.apply(Ce,pe),Re&&!ee&&pe.length>0&&he+O.length>1&&te.uniqueSort(Ce)}return Re&&(d=De,r=ce),be};return W?xe(Q):Q}(Q,j)),Y.selector=H}return Y},o=te.select=function(H,O,W,j){var Q,Y,ee,le,ie,Ce="function"==typeof H&&H,Re=!j&&u(H=Ce.selector||H);if(W=W||[],1===Re.length){if((Y=Re[0]=Re[0].slice(0)).length>2&&"ID"===(ee=Y[0]).type&&S.getById&&9===O.nodeType&&x&&C.relative[Y[1].type]){if(!(O=(C.find.ID(ee.matches[0].replace(ae,oe),O)||[])[0]))return W;Ce&&(O=O.parentNode),H=H.slice(Y.shift().value.length)}for(Q=X.needsContext.test(H)?0:Y.length;Q--&&!C.relative[le=(ee=Y[Q]).type];)if((ie=C.find[le])&&(j=ie(ee.matches[0].replace(ae,oe),ye.test(Y[0].type)&&fe(O.parentNode)||O))){if(Y.splice(Q,1),!(H=j.length&&Ne(Y)))return D.apply(W,j),W;break}}return(Ce||f(H,Re))(j,O,!x,W,ye.test(H)&&fe(O.parentNode)||O),W},S.sortStable=i.split("").sort(E).join("")===i,S.detectDuplicates=!!a,n(),S.sortDetached=Ae(function(H){return 1&H.compareDocumentPosition(p.createElement("div"))}),Ae(function(H){return H.innerHTML="<a href='#'></a>","#"===H.firstChild.getAttribute("href")})||ve("type|href|height|width",function(H,O,W){if(!W)return H.getAttribute(O,"type"===O.toLowerCase()?1:2)}),(!S.attributes||!Ae(function(H){return H.innerHTML="<input/>",H.firstChild.setAttribute("value",""),""===H.firstChild.getAttribute("value")}))&&ve("value",function(H,O,W){if(!W&&"input"===H.nodeName.toLowerCase())return H.defaultValue}),Ae(function(H){return null==H.getAttribute("disabled")})||ve(B,function(H,O,W){var j;if(!W)return!0===H[O]?O.toLowerCase():(j=H.getAttributeNode(O))&&j.specified?j.value:null}),te}),V("tinymce.core.util.Arr",[],function(){var T=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function C(a,n,p){var k,x;if(!a)return 0;if(p=p||a,void 0!==a.length){for(k=0,x=a.length;k<x;k++)if(!1===n.call(p,a[k],k,a))return 0}else for(k in a)if(a.hasOwnProperty(k)&&!1===n.call(p,a[k],k,a))return 0;return 1}function o(a,n,p){var k,x;for(k=0,x=a.length;k<x;k++)if(n.call(p,a[k],k,a))return k;return-1}return{isArray:T,toArray:function S(a){var p,k,n=a;if(!T(a))for(n=[],p=0,k=a.length;p<k;p++)n[p]=a[p];return n},each:C,map:function c(a,n){var p=[];return C(a,function(k,x){p.push(n(k,x,a))}),p},filter:function l(a,n){var p=[];return C(a,function(k,x){(!n||n(k,x,a))&&p.push(k)}),p},indexOf:function u(a,n){var p,k;if(a)for(p=0,k=a.length;p<k;p++)if(a[p]===n)return p;return-1},reduce:function f(a,n,p,k){var x=0;for(arguments.length<3&&(p=a[0]);x<a.length;x++)p=n.call(k,p,a[x],x);return p},findIndex:o,find:function r(a,n,p){var k=o(a,n,p);if(-1!==k)return a[k]},last:function s(a){return a[a.length-1]}}}),V("tinymce.core.util.Tools",["tinymce.core.Env","tinymce.core.util.Arr"],function(T,S){var C=/^\s*|\s*$/g;function c(x){return null==x?"":(""+x).replace(C,"")}function l(x,y){return y?!("array"!=y||!S.isArray(x))||typeof x==y:void 0!==x}return{trim:c,isArray:S.isArray,is:l,toArray:S.toArray,makeMap:function u(x,y,h){var b;for(y=y||",","string"==typeof(x=x||[])&&(x=x.split(y)),h=h||{},b=x.length;b--;)h[x[b]]={};return h},each:S.each,map:S.map,grep:S.filter,inArray:S.indexOf,hasOwn:function f(x,y){return Object.prototype.hasOwnProperty.call(x,y)},extend:function r(x,y){var h,b,m,e,i=arguments;for(h=1,b=i.length;h<b;h++)for(m in y=i[h])y.hasOwnProperty(m)&&void 0!==(e=y[m])&&(x[m]=e);return x},create:function o(x,y,h){var m,i,e,d,v,b=this,t=0;if(x=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(x),e=x[3].match(/(^|\.)(\w+)$/i)[2],!(i=b.createNS(x[3].replace(/\.\w+$/,""),h))[e]){if("static"==x[2])return i[e]=y,void(this.onCreate&&this.onCreate(x[2],x[3],i[e]));y[e]||(y[e]=function(){},t=1),i[e]=y[e],b.extend(i[e].prototype,y),x[5]&&(m=b.resolve(x[5]).prototype,d=x[5].match(/\.(\w+)$/i)[1],v=i[e],i[e]=t?function(){return m[d].apply(this,arguments)}:function(){return this.parent=m[d],v.apply(this,arguments)},i[e].prototype[e]=i[e],b.each(m,function(g,w){i[e].prototype[w]=m[w]}),b.each(y,function(g,w){m[w]?i[e].prototype[w]=function(){return this.parent=m[w],g.apply(this,arguments)}:w!=e&&(i[e].prototype[w]=g)})),b.each(y.static,function(g,w){i[e][w]=g})}},walk:function s(x,y,h,b){b=b||this,x&&(h&&(x=x[h]),S.each(x,function(m,i){if(!1===y.call(b,m,i,h))return!1;s(m,y,h,b)}))},createNS:function a(x,y){var h,b;for(y=y||window,x=x.split("."),h=0;h<x.length;h++)y[b=x[h]]||(y[b]={}),y=y[b];return y},resolve:function n(x,y){var h,b;for(y=y||window,h=0,b=(x=x.split(".")).length;h<b&&(y=y[x[h]]);h++);return y},explode:function p(x,y){return!x||l(x,"array")?x:S.map(x.split(y||","),c)},_addCacheSuffix:function k(x){var y=T.cacheSuffix;return y&&(x+=(-1===x.indexOf("?")?"?":"&")+y),x}}}),V("tinymce.core.dom.DomQuery",["tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.Env"],function(T,S,C,c){var s,l=document,u=Array.prototype.push,f=Array.prototype.slice,o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,r=T.Event,a=C.makeMap("children,contents,next,prev");function n(L){return void 0!==L}function p(L){return"string"==typeof L}function x(L,B){var I,F,q;for(q=(B=B||l).createElement("div"),I=B.createDocumentFragment(),q.innerHTML=L;F=q.firstChild;)I.appendChild(F);return I}function y(L,B,I,F){var q;if(p(B))B=x(B,_(L[0]));else if(B.length&&!B.nodeType){if(B=g.makeArray(B),F)for(q=B.length-1;q>=0;q--)y(L,B[q],I,F);else for(q=0;q<B.length;q++)y(L,B[q],I,F);return L}if(B.nodeType)for(q=L.length;q--;)I.call(L[q],B);return L}function h(L,B){return L&&B&&-1!==(" "+L.className+" ").indexOf(" "+B+" ")}function b(L,B,I){var F,q;return B=g(B)[0],L.each(function(){var G=this;(!I||F!=G.parentNode)&&(F=G.parentNode,q=B.cloneNode(!1),G.parentNode.insertBefore(q,G)),q.appendChild(G)}),L}var m=C.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),i=C.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),e={for:"htmlFor",class:"className",readonly:"readOnly"},d={float:"cssFloat"},v={},t={};function g(L,B){return new g.fn.init(L,B)}var E=/^\s*|\s*$/g;function A(L){return null===L||L===s?"":(""+L).replace(E,"")}function R(L,B){var I,F,q,ne;if(L)if(void 0===(I=L.length)){for(F in L)if(L.hasOwnProperty(F)&&!1===B.call(ne=L[F],F,ne))break}else for(q=0;q<I&&!1!==B.call(ne=L[q],q,ne);q++);return L}function N(L,B){var I=[];return R(L,function(F,q){B(q,F)&&I.push(q)}),I}function _(L){return L?9==L.nodeType?L:L.ownerDocument:l}function P(L,B,I){var F=[],q=L[B];for("string"!=typeof I&&I instanceof g&&(I=I[0]);q&&9!==q.nodeType&&(void 0===I||!(q===I||"string"==typeof I&&g(q).is(I)));)1===q.nodeType&&F.push(q),q=q[B];return F}function M(L,B,I,F){var q=[];for(F instanceof g&&(F=F[0]);L;L=L[B])if(!I||L.nodeType===I){if(void 0!==F&&(L===F||"string"==typeof F&&g(L).is(F)))break;q.push(L)}return q}function D(L,B,I){for(L=L[B];L;L=L[B])if(L.nodeType==I)return L;return null}function U(L,B,I){R(I,function(F,q){L[F]=L[F]||{},L[F][B]=q})}return g.fn=g.prototype={constructor:g,selector:"",context:null,length:0,init:function(B,I){var q,G,F=this;if(!B)return F;if(B.nodeType)return F.context=F[0]=B,F.length=1,F;if(I&&I.nodeType)F.context=I;else{if(I)return g(B).attr(I);F.context=I=document}if(p(B)){if(F.selector=B,!(q="<"===B.charAt(0)&&">"===B.charAt(B.length-1)&&B.length>=3?[null,B,null]:o.exec(B)))return g(I).find(B);if(q[1])for(G=x(B,_(I)).firstChild;G;)u.call(F,G),G=G.nextSibling;else{if(!(G=_(I).getElementById(q[2])))return F;if(G.id!==q[2])return F.find(B);F.length=1,F[0]=G}}else this.add(B,!1);return F},toArray:function(){return C.toArray(this)},add:function(B,I){var q,G,F=this;if(p(B))return F.add(g(B));if(!1!==I)for(q=g.unique(F.toArray().concat(g.makeArray(B))),F.length=q.length,G=0;G<q.length;G++)F[G]=q[G];else u.apply(F,g.makeArray(B));return F},attr:function(B,I){var q,F=this;if("object"==typeof B)R(B,function(G,ne){F.attr(G,ne)});else{if(!n(I)){if(F[0]&&1===F[0].nodeType){if((q=v[B])&&q.get)return q.get(F[0],B);if(i[B])return F.prop(B)?B:s;null===(I=F[0].getAttribute(B,2))&&(I=s)}return I}this.each(function(){var G;if(1===this.nodeType){if((G=v[B])&&G.set)return void G.set(this,I);null===I?this.removeAttribute(B,2):this.setAttribute(B,I,2)}})}return F},removeAttr:function(B){return this.attr(B,null)},prop:function(B,I){var F=this;if("object"==typeof(B=e[B]||B))R(B,function(q,G){F.prop(q,G)});else{if(!n(I))return F[0]&&F[0].nodeType&&B in F[0]?F[0][B]:I;this.each(function(){1==this.nodeType&&(this[B]=I)})}return F},css:function(B,I){var q,G,F=this;function ne(de){return de.replace(/-(\D)/g,function(ue,Se){return Se.toUpperCase()})}function se(de){return de.replace(/[A-Z]/g,function(ue){return"-"+ue})}if("object"==typeof B)R(B,function(de,ue){F.css(de,ue)});else if(n(I))B=ne(B),"number"==typeof I&&!m[B]&&(I+="px"),F.each(function(){var de=this.style;if((G=t[B])&&G.set)G.set(this,I);else{try{this.style[d[B]||B]=I}catch(ue){}(null===I||""===I)&&(de.removeProperty?de.removeProperty(se(B)):de.removeAttribute(B))}});else{if(q=F[0],(G=t[B])&&G.get)return G.get(q);if(q.ownerDocument.defaultView)try{return q.ownerDocument.defaultView.getComputedStyle(q,null).getPropertyValue(se(B))}catch(de){return s}else if(q.currentStyle)return q.currentStyle[ne(B)]}return F},remove:function(){for(var I,F=this.length;F--;)r.clean(I=this[F]),I.parentNode&&I.parentNode.removeChild(I);return this},empty:function(){for(var I,F=this.length;F--;)for(I=this[F];I.firstChild;)I.removeChild(I.firstChild);return this},html:function(B){var F,I=this;if(n(B)){F=I.length;try{for(;F--;)I[F].innerHTML=B}catch(q){g(I[F]).empty().append(B)}return I}return I[0]?I[0].innerHTML:""},text:function(B){var F,I=this;if(n(B)){for(F=I.length;F--;)"innerText"in I[F]?I[F].innerText=B:I[0].textContent=B;return I}return I[0]?I[0].innerText||I[0].textContent:""},append:function(){return y(this,arguments,function(B){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(B)})},prepend:function(){return y(this,arguments,function(B){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(B,this.firstChild)},!0)},before:function(){var B=this;return B[0]&&B[0].parentNode?y(B,arguments,function(I){this.parentNode.insertBefore(I,this)}):B},after:function(){var B=this;return B[0]&&B[0].parentNode?y(B,arguments,function(I){this.parentNode.insertBefore(I,this.nextSibling)},!0):B},appendTo:function(B){return g(B).append(this),this},prependTo:function(B){return g(B).prepend(this),this},replaceWith:function(B){return this.before(B).remove()},wrap:function(B){return b(this,B)},wrapAll:function(B){return b(this,B,!0)},wrapInner:function(B){return this.each(function(){g(this).contents().wrapAll(B)}),this},unwrap:function(){return this.parent().each(function(){g(this).replaceWith(this.childNodes)})},clone:function(){var B=[];return this.each(function(){B.push(this.cloneNode(!0))}),g(B)},addClass:function(B){return this.toggleClass(B,!0)},removeClass:function(B){return this.toggleClass(B,!1)},toggleClass:function(B,I){var F=this;return"string"!=typeof B||(-1!==B.indexOf(" ")?R(B.split(" "),function(){F.toggleClass(this,I)}):F.each(function(q,G){var ne,se;(se=h(G,B))!==I&&(ne=G.className,se?G.className=A((" "+ne+" ").replace(" "+B+" "," ")):G.className+=ne?" "+B:B)})),F},hasClass:function(B){return h(this[0],B)},each:function(B){return R(this,B)},on:function(B,I){return this.each(function(){r.bind(this,B,I)})},off:function(B,I){return this.each(function(){r.unbind(this,B,I)})},trigger:function(B){return this.each(function(){"object"==typeof B?r.fire(this,B.type,B):r.fire(this,B)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new g(f.apply(this,arguments))},eq:function(B){return-1===B?this.slice(B):this.slice(B,+B+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(B){var I,F,q=[];for(I=0,F=this.length;I<F;I++)g.find(B,this[I],q);return g(q)},filter:function(B){return g("function"==typeof B?N(this.toArray(),function(I,F){return B(F,I)}):g.filter(B,this.toArray()))},closest:function(B){var I=[];return B instanceof g&&(B=B[0]),this.each(function(F,q){for(;q;){if("string"==typeof B&&g(q).is(B)){I.push(q);break}if(q==B){I.push(q);break}q=q.parentNode}}),g(I)},offset:function(B){var I,F,q,se,G=0,ne=0;return B?this.css(B):((I=this[0])&&(q=(F=I.ownerDocument).documentElement,I.getBoundingClientRect&&(G=(se=I.getBoundingClientRect()).left+(q.scrollLeft||F.body.scrollLeft)-q.clientLeft,ne=se.top+(q.scrollTop||F.body.scrollTop)-q.clientTop)),{left:G,top:ne})},push:u,sort:[].sort,splice:[].splice},C.extend(g,{extend:C.extend,makeArray:function(B){return function k(L){return L&&L==L.window}(B)||B.nodeType?[B]:C.toArray(B)},inArray:function w(L,B){var I;if(B.indexOf)return B.indexOf(L);for(I=B.length;I--;)if(B[I]===L)return I;return-1},isArray:C.isArray,each:R,trim:A,grep:N,find:S,expr:S.selectors,unique:S.uniqueSort,text:S.getText,contains:S.contains,filter:function(B,I,F){var q=I.length;for(F&&(B=":not("+B+")");q--;)1!=I[q].nodeType&&I.splice(q,1);return 1===I.length?g.find.matchesSelector(I[0],B)?[I[0]]:[]:g.find.matches(B,I)}}),R({parent:function(B){var I=B.parentNode;return I&&11!==I.nodeType?I:null},parents:function(B){return P(B,"parentNode")},next:function(B){return D(B,"nextSibling",1)},prev:function(B){return D(B,"previousSibling",1)},children:function(B){return M(B.firstChild,"nextSibling",1)},contents:function(B){return C.toArray(("iframe"===B.nodeName?B.contentDocument||B.contentWindow.document:B).childNodes)}},function(L,B){g.fn[L]=function(I){var q=[];return this.each(function(){var G=B.call(q,this,I,q);G&&(g.isArray(G)?q.push.apply(q,G):q.push(G))}),this.length>1&&(a[L]||(q=g.unique(q)),0===L.indexOf("parents")&&(q=q.reverse())),q=g(q),I?q.filter(I):q}}),R({parentsUntil:function(B,I){return P(B,"parentNode",I)},nextUntil:function(B,I){return M(B,"nextSibling",1,I).slice(1)},prevUntil:function(B,I){return M(B,"previousSibling",1,I).slice(1)}},function(L,B){g.fn[L]=function(I,F){var G=[];return this.each(function(){var ne=B.call(G,this,I,G);ne&&(g.isArray(ne)?G.push.apply(G,ne):G.push(ne))}),this.length>1&&(G=g.unique(G),(0===L.indexOf("parents")||"prevUntil"===L)&&(G=G.reverse())),G=g(G),F?G.filter(F):G}}),g.fn.is=function(L){return!!L&&this.filter(L).length>0},g.fn.init.prototype=g.fn,g.overrideDefaults=function(L){var B;function I(F,q){return B=B||L(),0===arguments.length&&(F=B.element),q||(q=B.context),new I.fn.init(F,q)}return g.extend(I,this),I},c.ie&&c.ie<8&&(U(v,"get",{maxlength:function(B){var I=B.maxLength;return 2147483647===I?s:I},size:function(B){var I=B.size;return 20===I?s:I},class:function(B){return B.className},style:function(B){var I=B.style.cssText;return 0===I.length?s:I}}),U(v,"set",{class:function(B,I){B.className=I},style:function(B,I){B.style.cssText=I}})),c.ie&&c.ie<9&&(d.float="styleFloat",U(t,"set",{opacity:function(B,I){var F=B.style;null===I||""===I?F.removeAttribute("filter"):(F.zoom=1,F.filter="alpha(opacity="+100*I+")")}})),g.attrHooks=v,g.cssHooks=t,g}),V("tinymce.core.html.Styles",[],function(){return function(T,S){var f,r,s,a,C=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,o={};for(T=T||{},S&&(s=S.getValidStyles(),a=S.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),f=0;f<r.length;f++)o[r[f]]="\ufeff"+f,o["\ufeff"+f]=r[f];function p(k,x,y,h){function b(m){return(m=parseInt(m,10).toString(16)).length>1?m:"0"+m}return"#"+b(x)+b(y)+b(h)}return{toHex:function(x){return x.replace(C,p)},parse:function(x){var h,b,m,i,y={},e=T.url_converter,d=T.url_converter_scope||this;function v(_,P,M){var D,U,L,B;if((D=y[_+"-top"+P])&&(U=y[_+"-right"+P])&&(L=y[_+"-bottom"+P])&&(B=y[_+"-left"+P])){var I=[D,U,L,B];for(f=I.length-1;f--&&I[f]===I[f+1];);f>-1&&M||(y[_+P]=-1==f?I[0]:I.join(" "),delete y[_+"-top"+P],delete y[_+"-right"+P],delete y[_+"-bottom"+P],delete y[_+"-left"+P])}}function t(_){var M,P=y[_];if(P){for(M=(P=P.split(" ")).length;M--;)if(P[M]!==P[0])return!1;return y[_]=P[0],!0}}function w(_){return i=!0,o[_]}function E(_,P){return i&&(_=_.replace(/\uFEFF[0-9]/g,function(M){return o[M]})),P||(_=_.replace(/\\([\'\";:])/g,"$1")),_}function A(_){return String.fromCharCode(parseInt(_.slice(1),16))}function R(_){return _.replace(/\\[0-9a-f]+/gi,A)}function N(_,P,M,D,U,L){if(U=U||L)return"'"+(U=E(U)).replace(/\'/g,"\\'")+"'";if(P=E(P||M||D),!T.allow_script_urls){var B=P.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(B)||!T.allow_svg_data_urls&&/^data:image\/svg/i.test(B))return""}return e&&(P=e.call(d,P,"style")),"url('"+P.replace(/\'/g,"\\'")+"')"}if(x){for(x=(x=x.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(_){return _.replace(/[;:]/g,w)});h=l.exec(x);)if(l.lastIndex=h.index+h[0].length,b=h[1].replace(u,"").toLowerCase(),m=h[2].replace(u,""),b&&m){if(b=R(b),m=R(m),-1!==b.indexOf("\ufeff")||-1!==b.indexOf('"')||!T.allow_script_urls&&("behavior"==b||/expression\s*\(|\/\*|\*\//.test(m)))continue;"font-weight"===b&&"700"===m?m="bold":("color"===b||"background-color"===b)&&(m=m.toLowerCase()),m=(m=m.replace(C,p)).replace(c,N),y[b]=i?E(m,!0):m}v("border","",!0),v("border","-width"),v("border","-color"),v("border","-style"),v("padding",""),v("margin",""),function g(_,P,M,D){!t(P)||!t(M)||!t(D)||(y[_]=y[P]+" "+y[M]+" "+y[D],delete y[P],delete y[M],delete y[D])}("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(x,y){var b,m,d,t,h="";function i(d){var v,t,g,w;if(v=s[d])for(t=0,g=v.length;t<g;t++)(w=x[d=v[t]])&&(h+=(h.length>0?" ":"")+d+": "+w+";")}if(y&&s)i("*"),i(y);else for(b in x)(m=x[b])&&(!a||(d=b,t=void 0,!((t=a["*"])&&t[d]||(t=a[y],t&&t[d]))))&&(h+=(h.length>0?" ":"")+b+": "+m+";");return h}}}}),V("tinymce.core.dom.TreeWalker",[],function(){return function(T,S){var C=T;function c(u,f,o,r){var s,a;if(u){if(!r&&u[f])return u[f];if(u!=S){if(s=u[o])return s;for(a=u.parentNode;a&&a!=S;a=a.parentNode)if(s=a[o])return s}}}this.current=function(){return C},this.next=function(u){return C=c(C,"firstChild","nextSibling",u)},this.prev=function(u){return C=c(C,"lastChild","previousSibling",u)},this.prev2=function(u){return C=function l(u,f,o,r){var s,a,n;if(u){if(s=u[o],S&&s===S)return;if(s){if(!r)for(n=s[f];n;n=n[f])if(!n[f])return n;return s}if((a=u.parentNode)&&a!==S)return a}}(C,"lastChild","previousSibling",u),C}}}),V("tinymce.core.html.Entities",["tinymce.core.util.Tools"],function(T){var C,c,l,S=T.makeMap,u=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[<>&\"\']/g,r=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,s={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};function n(k,x){var y,h,b,m={};if(k){for(k=k.split(","),x=x||10,y=0;y<k.length;y+=2)h=String.fromCharCode(parseInt(k[y],x)),c[h]||(m[h]=b="&"+k[y+1]+";",m[b]=h);return m}}c={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},l={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},C=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var p={encodeRaw:function(x,y){return x.replace(y?u:f,function(h){return c[h]||h})},encodeAllRaw:function(x){return(""+x).replace(o,function(y){return c[y]||y})},encodeNumeric:function(x,y){return x.replace(y?u:f,function(h){return h.length>1?"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";":c[h]||"&#"+h.charCodeAt(0)+";"})},encodeNamed:function(x,y,h){return h=h||C,x.replace(y?u:f,function(b){return c[b]||h[b]||b})},getEncodeFunc:function(x,y){return y=n(y)||C,(x=S(x.replace(/\+/g,","))).named&&x.numeric?function h(m,i){return m.replace(i?u:f,function(e){return void 0!==c[e]?c[e]:void 0!==y[e]?y[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:x.named?y?function b(m,i){return p.encodeNamed(m,i,y)}:p.encodeNamed:x.numeric?p.encodeNumeric:p.encodeRaw},decode:function(x){return x.replace(r,function(y,h){return h?(h="x"===h.charAt(0).toLowerCase()?parseInt(h.substr(1),16):parseInt(h,10))>65535?(h-=65536,String.fromCharCode(55296+(h>>10),56320+(1023&h))):s[h]||String.fromCharCode(h):l[y]||C[y]||function a(k){var x;return(x=document.createElement("div")).innerHTML=k,x.textContent||x.innerText||k}(y)})}};return p}),V("tinymce.core.dom.Range",["tinymce.core.util.Tools"],function(T){function S(C){var c=this,l=C.doc,r=!0,s=!1,a="startOffset",n="startContainer",p="endContainer",k="endOffset",x=T.extend,y=C.nodeIndex;function h(){return l.createDocumentFragment()}function b(X,Z){B(r,X,Z)}function m(X,Z){B(s,X,Z)}function i(X){b(X.parentNode,y(X))}function v(X){m(X.parentNode,y(X)+1)}function N(){return I(1)}function D(X,Z){var $;if(3==X.nodeType||Z<0)return X;for($=X.firstChild;$&&Z>0;)--Z,$=$.nextSibling;return $||X}function L(X,Z,$,J){var re,ye,we,ae,oe,te;if(X==$)return Z==J?0:Z<J?-1:1;for(re=$;re&&re.parentNode!=X;)re=re.parentNode;if(re){for(ye=0,we=X.firstChild;we!=re&&ye<Z;)ye++,we=we.nextSibling;return Z<=ye?-1:1}for(re=X;re&&re.parentNode!=$;)re=re.parentNode;if(re){for(ye=0,we=$.firstChild;we!=re&&ye<J;)ye++,we=we.nextSibling;return ye<J?-1:1}for(ae=C.findCommonAncestor(X,$),oe=X;oe&&oe.parentNode!=ae;)oe=oe.parentNode;for(oe||(oe=ae),te=$;te&&te.parentNode!=ae;)te=te.parentNode;if(te||(te=ae),oe==te)return 0;for(we=ae.firstChild;we;){if(we==oe)return-1;if(we==te)return 1;we=we.nextSibling}}function B(X,Z,$){var J,re;for(X?(c[n]=Z,c[a]=$):(c[p]=Z,c[k]=$),J=c[p];J.parentNode;)J=J.parentNode;for(re=c[n];re.parentNode;)re=re.parentNode;re==J?L(c[n],c[a],c[p],c[k])>0&&c.collapse(X):c.collapse(X),c.collapsed=function U(){return c[n]==c[p]&&c[a]==c[k]}(),c.commonAncestorContainer=C.findCommonAncestor(c[n],c[p])}function I(X){var Z,re,ye,we,ae,oe,te,$=0,J=0;if(c[n]==c[p])return function F(X){var Z,J,re,ye,we,ae,oe,te;if(2!=X&&(Z=h()),c[a]==c[k])return Z;if(3==c[n].nodeType)return J=c[n].nodeValue.substring(c[a],c[k]),1!=X&&(re=c[n],te=c[k]-c[a],0===(oe=c[a])&&te>=re.nodeValue.length-1?re.parentNode.removeChild(re):re.deleteData(oe,te),c.collapse(r)),2==X?void 0:(J.length>0&&Z.appendChild(l.createTextNode(J)),Z);for(re=D(c[n],c[a]),ye=c[k]-c[a];re&&ye>0;)we=re.nextSibling,ae=Se(re,X),Z&&Z.appendChild(ae),--ye,re=we;return 1!=X&&c.collapse(r),Z}(X);for(re=(Z=c[p]).parentNode;re;Z=re,re=re.parentNode){if(re==c[n])return q(Z,X);++$}for(re=(Z=c[n]).parentNode;re;Z=re,re=re.parentNode){if(re==c[p])return G(Z,X);++J}for(ye=J-$,we=c[n];ye>0;)we=we.parentNode,ye--;for(ae=c[p];ye<0;)ae=ae.parentNode,ye++;for(oe=we.parentNode,te=ae.parentNode;oe!=te;oe=oe.parentNode,te=te.parentNode)we=oe,ae=te;return function ne(X,Z,$){var J,re,ye,ae,oe,te;for(2!=$&&(re=h()),J=de(X,$),re&&re.appendChild(J),ye=y(X),ae=y(Z)-++ye,oe=X.nextSibling;ae>0;)te=oe.nextSibling,J=Se(oe,$),re&&re.appendChild(J),oe=te,--ae;return J=se(Z,$),re&&re.appendChild(J),1!=$&&(c.setStartAfter(X),c.collapse(r)),re}(we,ae,X)}function q(X,Z){var $,J,ye,we,ae;if(2!=Z&&($=h()),J=se(X,Z),$&&$.appendChild(J),(ye=y(X)-c[a])<=0)return 1!=Z&&(c.setEndBefore(X),c.collapse(s)),$;for(J=X.previousSibling;ye>0;)we=J.previousSibling,ae=Se(J,Z),$&&$.insertBefore(ae,$.firstChild),--ye,J=we;return 1!=Z&&(c.setEndBefore(X),c.collapse(s)),$}function G(X,Z){var $,J,re,ye,we,ae;for(2!=Z&&($=h()),re=de(X,Z),$&&$.appendChild(re),J=y(X),++J,ye=c[k]-J,re=X.nextSibling;re&&ye>0;)we=re.nextSibling,ae=Se(re,Z),$&&$.appendChild(ae),--ye,re=we;return 1!=Z&&(c.setStartAfter(X),c.collapse(r)),$}function se(X,Z){var J,re,ye,we,ae,$=D(c[p],c[k]-1),oe=$!=c[p];if($==X)return ue($,oe,s,Z);for(re=ue(J=$.parentNode,s,s,Z);J;){for(;$;)ye=$.previousSibling,we=ue($,oe,s,Z),2!=Z&&re.insertBefore(we,re.firstChild),oe=r,$=ye;if(J==X)return re;$=J.previousSibling,ae=ue(J=J.parentNode,s,s,Z),2!=Z&&ae.appendChild(re),re=ae}}function de(X,Z){var re,ye,we,ae,oe,$=D(c[n],c[a]),J=$!=c[n];if($==X)return ue($,J,r,Z);for(ye=ue(re=$.parentNode,s,r,Z);re;){for(;$;)we=$.nextSibling,ae=ue($,J,r,Z),2!=Z&&ye.appendChild(ae),J=r,$=we;if(re==X)return ye;$=re.nextSibling,oe=ue(re=re.parentNode,s,r,Z),2!=Z&&oe.appendChild(ye),ye=oe}}function ue(X,Z,$,J){var re,ye,we,ae,oe;return Z?Se(X,J):3==X.nodeType?(re=X.nodeValue,$?(ye=re.substring(ae=c[a]),we=re.substring(0,ae)):(ye=re.substring(0,ae=c[k]),we=re.substring(ae)),1!=J&&(X.nodeValue=we),2==J?void 0:((oe=C.clone(X,s)).nodeValue=ye,oe)):2!=J?C.clone(X,s):void 0}function Se(X,Z){if(2!=Z)return 1==Z?C.clone(X,r):X;X.parentNode.removeChild(X)}return x(c,{startContainer:l,startOffset:0,endContainer:l,endOffset:0,collapsed:r,commonAncestorContainer:l,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:b,setEnd:m,setStartBefore:i,setStartAfter:function e(X){b(X.parentNode,y(X)+1)},setEndBefore:function d(X){m(X.parentNode,y(X))},setEndAfter:v,collapse:function t(X){X?(c[p]=c[n],c[k]=c[a]):(c[n]=c[p],c[a]=c[k]),c.collapsed=r},selectNode:function g(X){i(X),v(X)},selectNodeContents:function w(X){b(X,0),m(X,1===X.nodeType?X.childNodes.length:X.nodeValue.length)},compareBoundaryPoints:function E(X,Z){var $=c[n],J=c[a],re=c[p],ye=c[k],we=Z.startContainer,ae=Z.startOffset,oe=Z.endContainer,te=Z.endOffset;return 0===X?L($,J,we,ae):1===X?L(re,ye,we,ae):2===X?L(re,ye,oe,te):3===X?L($,J,oe,te):void 0},deleteContents:function A(){I(2)},extractContents:function R(){return I(0)},cloneContents:N,insertNode:function _(X){var J,re,Z=this[n],$=this[a];3!==Z.nodeType&&4!==Z.nodeType||!Z.nodeValue?(Z.childNodes.length>0&&(re=Z.childNodes[$]),re?Z.insertBefore(X,re):3==Z.nodeType?C.insertAfter(X,Z):Z.appendChild(X)):$?$>=Z.nodeValue.length?C.insertAfter(X,Z):(J=Z.splitText($),Z.parentNode.insertBefore(X,J)):Z.parentNode.insertBefore(X,Z)},surroundContents:function P(X){var Z=c.extractContents();c.insertNode(X),X.appendChild(Z),c.selectNode(X)},cloneRange:function M(){return x(new S(C),{startContainer:c[n],startOffset:c[a],endContainer:c[p],endOffset:c[k],collapsed:c.collapsed,commonAncestorContainer:c.commonAncestorContainer})},toStringIE:function me(){return C.create("body",null,N()).outerText}}),c}return S.prototype.toString=function(){return this.toStringIE()},S}),tt("global!Array",Array),tt("global!Error",Error),V("ephox.katamari.api.Fun",["global!Array","global!Error"],function(T,S){var l=function(y){return function(){return y}},p=l(!1),k=l(!0);return{noop:function(){},compose:function(y,h){return function(){return y(h.apply(null,arguments))}},constant:l,identity:function(y){return y},tripleEquals:function(y,h){return y===h},curry:function(y){for(var h=new T(arguments.length-1),b=1;b<arguments.length;b++)h[b-1]=arguments[b];return function(){for(var m=new T(arguments.length),i=0;i<m.length;i++)m[i]=arguments[i];var e=h.concat(m);return y.apply(null,e)}},not:function(y){return function(){return!y.apply(null,arguments)}},die:function(y){return function(){throw new S(y)}},apply:function(y){return y()},call:function(y){y()},never:p,always:k}}),tt("global!Object",Object),V("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(T,S){var r,s,a,p,C=T.never,c=T.always,l=function(){return u},u=(p={fold:function(x,y){return x()},is:C,isSome:C,isNone:c,getOr:a=function(x){return x},getOrThunk:s=function(x){return x()},getOrDie:function(x){throw new Error(x||"error: getOrDie called on none.")},or:a,orThunk:s,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:C,forall:c,filter:l,equals:r=function(x){return x.isNone()},equals_:r,toArray:function(){return[]},toString:T.constant("none()")},S.freeze&&S.freeze(p),p),f=function r(s){var a=function(){return s},n=function(){return x},k=function(h){return h(s)},x={fold:function(h,b){return b(s)},is:function(h){return s===h},isSome:c,isNone:C,getOr:a,getOrThunk:a,getOrDie:a,or:n,orThunk:n,map:function(h){return r(h(s))},ap:function(h){return h.fold(l,function(b){return r(b(s))})},each:function(h){h(s)},bind:k,flatten:a,exists:k,forall:k,filter:function(h){return h(s)?x:u},equals:function(h){return h.is(s)},equals_:function(h,b){return h.fold(C,function(m){return b(s,m)})},toArray:function(){return[s]},toString:function(){return"some("+s+")"}};return x};return{some:f,none:l,from:function(s){return null==s?u:f(s)}}}),tt("global!String",String),V("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(T,S,C,c){var M,l=void 0===(M=S.prototype.indexOf)?function(B,I){return e(B,I)}:function(B,I){return M.call(B,I)},f=function(D,U){return l(D,U)>-1},a=function(D,U){for(var L=D.length,B=new S(L),I=0;I<L;I++)B[I]=U(D[I],I,D);return B},n=function(D,U){for(var L=0,B=D.length;L<B;L++)U(D[L],L,D)},p=function(D,U){for(var L=D.length-1;L>=0;L--)U(D[L],L,D)},x=function(D,U){for(var L=[],B=0,I=D.length;B<I;B++){var F=D[B];U(F,B,D)&&L.push(F)}return L},i=function(D,U){for(var L=0,B=D.length;L<B;L++)if(U(D[L],L,D))return T.some(L);return T.none()},e=function(D,U){for(var L=0,B=D.length;L<B;++L)if(D[L]===U)return L;return-1},d=S.prototype.push,v=function(D){for(var U=[],L=0,B=D.length;L<B;++L){if(!S.prototype.isPrototypeOf(D[L]))throw new C("Arr.flatten item "+L+" was not an array, input: "+D);d.apply(U,D[L])}return U},g=function(D,U){for(var L=0,B=D.length;L<B;++L)if(!0!==U(D[L],L,D))return!1;return!0},E=S.prototype.slice;return{map:a,each:n,eachr:p,partition:function(D,U){for(var L=[],B=[],I=0,F=D.length;I<F;I++){var q=D[I];(U(q,I,D)?L:B).push(q)}return{pass:L,fail:B}},filter:x,groupBy:function(D,U){if(0===D.length)return[];for(var L=U(D[0]),B=[],I=[],F=0,q=D.length;F<q;F++){var G=D[F],ne=U(G);ne!==L&&(B.push(I),I=[]),L=ne,I.push(G)}return 0!==I.length&&B.push(I),B},indexOf:function(D,U){var L=l(D,U);return-1===L?T.none():T.some(L)},foldr:function(D,U,L){return p(D,function(B){L=U(L,B)}),L},foldl:function(D,U,L){return n(D,function(B){L=U(L,B)}),L},find:function(D,U){for(var L=0,B=D.length;L<B;L++){var I=D[L];if(U(I,L,D))return T.some(I)}return T.none()},findIndex:i,flatten:v,bind:function(D,U){var L=a(D,U);return v(L)},forall:g,exists:function(D,U){return i(D,U).isSome()},contains:f,equal:function(D,U){return D.length===U.length&&g(D,function(L,B){return L===U[B]})},reverse:function(D){var U=E.call(D,0);return U.reverse(),U},chunk:function(D,U){for(var L=[],B=0;B<D.length;B+=U){var I=D.slice(B,B+U);L.push(I)}return L},difference:function(D,U){return x(D,function(L){return!f(U,L)})},mapToObject:function(D,U){for(var L={},B=0,I=D.length;B<I;B++){var F=D[B];L[c(F)]=U(F,B)}return L},pure:function(D){return[D]},sort:function(D,U){var L=E.call(D,0);return L.sort(U),L},range:function(D,U){for(var L=[],B=0;B<D;B++)L.push(U(B));return L}}}),tt("global!setTimeout",setTimeout),V("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option","global!setTimeout"],function(T,S,C){var c=function u(f){var o=S.none(),r=[],a=function(h){p()?x(h):r.push(h)},p=function(){return o.isSome()},x=function(h){o.each(function(b){C(function(){h(b)},0)})};return f(function(h){o=S.some(h),function(h){T.each(h,x)}(r),r=[]}),{get:a,map:function(h){return u(function(b){a(function(m){b(h(m))})})},isReady:p}};return{nu:c,pure:function(f){return c(function(o){o(f)})}}}),V("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],function(T,S){return{bounce:function(l){return function(){var u=T.prototype.slice.call(arguments),f=this;S(function(){l.apply(f,u)},0)}}}}),V("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],function(T,S){var C=function l(u){var f=function(p){u(S.bounce(p))};return{map:function(p){return l(function(k){f(function(x){var y=p(x);k(y)})})},bind:function(p){return l(function(k){f(function(x){p(x).get(k)})})},anonBind:function(p){return l(function(k){f(function(x){p.get(k)})})},toLazy:function(){return T.nu(f)},get:f}};return{nu:C,pure:function(u){return C(function(f){f(u)})}}}),V("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],function(T){return{par:function(c,l){return l(function(u){var f=[],o=0;0===c.length?u([]):T.each(c,function(s,a){s.get(function(a){return function(n){f[a]=n,++o>=c.length&&u(f)}}(a))})})}}}),V("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],function(T,S,C){var c=function(o){return C.par(o,S.nu)};return{par:c,mapM:function(o,r){var s=T.map(o,r);return c(s)},compose:function(o,r){return function(s){return r(s).bind(o)}}}}),V("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(T,S){return{value:function l(u){return{is:function(b){return u===b},isValue:T.constant(!0),isError:T.constant(!1),getOr:T.constant(u),getOrThunk:T.constant(u),getOrDie:T.constant(u),or:function(b){return l(u)},orThunk:function(b){return l(u)},fold:function(b,m){return m(u)},map:function(b){return l(b(u))},each:function(b){b(u)},bind:function(b){return b(u)},exists:function(b){return b(u)},forall:function(b){return b(u)},toOption:function(){return S.some(u)}}},error:function l(u){return{is:T.constant(!1),isValue:T.constant(!1),isError:T.constant(!0),getOr:T.identity,getOrThunk:function(x){return x()},getOrDie:function(){return T.die(u)()},or:function(x){return x},orThunk:function(x){return x()},fold:function(x,y){return x(u)},map:function(x){return l(u)},each:T.noop,bind:function(x){return l(u)},exists:T.constant(!1),forall:T.constant(!0),toOption:S.none}}}}),V("tinymce.core.dom.StyleSheetLoader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Future","ephox.katamari.api.Futures","ephox.katamari.api.Result","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f){"use strict";return function(o,r){var n,s=0,a={};function p(b){o.getElementsByTagName("head")[0].appendChild(b)}function k(b,m,i){var e,d,v,t;function g(){for(var _=t.passed,P=_.length;P--;)_[P]();t.status=2,t.passed=[],t.failed=[]}function w(){for(var _=t.failed,P=_.length;P--;)_[P]();t.status=3,t.passed=[],t.failed=[]}function A(_,P){_()||((new Date).getTime()-v<n?u.setTimeout(P):w())}function R(){A(function(){for(var P,D,_=o.styleSheets,M=_.length;M--;)if((D=(P=_[M]).ownerNode?P.ownerNode:P.owningElement)&&D.id===e.id)return g(),!0},R)}if(b=f._addCacheSuffix(b),a[b]?t=a[b]:a[b]=t={passed:[],failed:[]},m&&t.passed.push(m),i&&t.failed.push(i),1!=t.status){if(2==t.status)return void g();if(3==t.status)return void w();if(t.status=1,(e=o.createElement("link")).rel="stylesheet",e.type="text/css",e.id="u"+s++,e.async=!1,e.defer=!1,v=(new Date).getTime(),"onload"in e&&!function E(){var _=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(_&&_[1]<536)}())e.onload=R,e.onerror=w;else{if(navigator.userAgent.indexOf("Firefox")>0)return(d=o.createElement("style")).textContent='@import "'+b+'"',function N(){A(function(){try{var _=d.sheet.cssRules;return g(),!!_}catch(P){}},N)}(),void p(d);R()}p(e),e.href=b}}n=(r=r||{}).maxLoadTime||5e3;var x=function(m){return C.nu(function(i){k(m,S.compose(i,S.constant(l.value(m))),S.compose(i,S.constant(l.error(m))))})},y=function(m){return m.fold(S.identity,S.identity)};return{load:k,loadAll:function(m,i,e){c.par(T.map(m,x)).get(function(d){var v=T.partition(d,function(t){return t.isValue()});v.fail.length>0?e(v.fail.map(y)):i(v.pass.map(y))})}}}}),V("tinymce.core.html.Schema",["tinymce.core.util.Tools"],function(T){var S={},C={},c=T.makeMap,l=T.each,u=T.extend,f=T.explode,o=T.inArray;function r(n,p){return(n=T.trim(n))?n.split(p||" "):[]}function a(n,p){var k;return n&&(k={},"string"==typeof n&&(n={"*":n}),l(n,function(x,y){k[y]=k[y.toUpperCase()]="map"==p?c(x,/[, ]/):f(x,/[, ]/)})),k}return function(n){var h,b,m,i,e,d,v,t,g,w,E,A,R,p=this,k={},x={},y=[],N={},_={};function P(F,q,G){var ne=n[F];return ne?ne=c(ne,/[, ]/,c(ne.toUpperCase(),/[, ]/)):(ne=S[F])||(ne=c(q," ",c(q.toUpperCase()," ")),ne=u(ne,G),S[F]=ne),ne}function M(F){return new RegExp("^"+F.replace(/([?+*])/g,".$1")+"$")}function D(F){var q,G,ne,se,de,ue,Se,me,X,Z,$,J,re,ye,we,ae,oe,te,Te,xe=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,Ae=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ve=/[*?+]/;if(F)for(F=r(F,","),k["@"]&&(ae=k["@"].attributes,oe=k["@"].attributesOrder),q=0,G=F.length;q<G;q++)if(de=xe.exec(F[q])){if(X=de[2],we=de[3],me=de[5],ue={attributes:J={},attributesOrder:re=[]},"#"===(ye=de[1])&&(ue.paddEmpty=!0),"-"===ye&&(ue.removeEmpty=!0),"!"===de[4]&&(ue.removeEmptyAttrs=!0),ae){for(te in ae)J[te]=ae[te];re.push.apply(re,oe)}if(me)for(ne=0,se=(me=r(me,"|")).length;ne<se;ne++)if(de=Ae.exec(me[ne])){if(Se={},$=de[1],Z=de[2].replace(/::/g,":"),ye=de[3],Te=de[4],"!"===$&&(ue.attributesRequired=ue.attributesRequired||[],ue.attributesRequired.push(Z),Se.required=!0),"-"===$){delete J[Z],re.splice(o(re,Z),1);continue}ye&&("="===ye&&(ue.attributesDefault=ue.attributesDefault||[],ue.attributesDefault.push({name:Z,value:Te}),Se.defaultValue=Te),":"===ye&&(ue.attributesForced=ue.attributesForced||[],ue.attributesForced.push({name:Z,value:Te}),Se.forcedValue=Te),"<"===ye&&(Se.validValues=c(Te,"?"))),ve.test(Z)?(ue.attributePatterns=ue.attributePatterns||[],Se.pattern=M(Z),ue.attributePatterns.push(Se)):(J[Z]||re.push(Z),J[Z]=Se)}!ae&&"@"==X&&(ae=J,oe=re),we&&(ue.outputName=X,k[we]=ue),ve.test(X)?(ue.pattern=M(X),y.push(ue)):k[X]=ue}}function U(F){k={},y=[],D(F),l(m,function(q,G){x[G]=q.children})}function L(F){var q=/^(~)?(.+)$/;F&&(S.text_block_elements=S.block_elements=null,l(r(F,","),function(G){var ne=q.exec(G),se="~"===ne[1],de=se?"span":"div",ue=ne[2];if(x[ue]=x[de],N[ue]=de,se||(g[ue.toUpperCase()]={},g[ue]={}),!k[ue]){var Se=k[de];delete(Se=u({},Se)).removeEmptyAttrs,delete Se.removeEmpty,k[ue]=Se}l(x,function(me,X){me[de]&&(x[X]=me=u({},x[X]),me[ue]=me[de])})}))}function B(F){var q=/^([+\-]?)(\w+)\[([^\]]+)\]$/;S[n.schema]=null,F&&l(r(F,","),function(G){var se,de,ne=q.exec(G);ne&&(se=(de=ne[1])?x[ne[2]]:x[ne[2]]={"#comment":{}},se=x[ne[2]],l(r(ne[3],"|"),function(ue){"-"===de?delete se[ue]:se[ue]={}}))})}function I(F){var G,q=k[F];if(q)return q;for(G=y.length;G--;)if((q=y[G]).pattern.test(F))return q}m=function s(n){var k,x,y,h,b,m,p={};function i(d,v,t){var g,w,E;function A(R,N){var P,M,_={};for(P=0,M=R.length;P<M;P++)_[R[P]]=N||{};return _}for(v=v||"","string"==typeof(t=t||[])&&(t=r(t)),g=(d=r(d)).length;g--;)E={attributes:A(w=r([k,v].join(" "))),attributesOrder:w,children:A(t,C)},p[d[g]]=E}function e(d,v){var t,g,w,E;for(t=(d=r(d)).length,v=r(v);t--;)for(g=p[d[t]],w=0,E=v.length;w<E;w++)g.attributes[v[w]]={},g.attributesOrder.push(v[w])}return S[n]?S[n]:(k="id accesskey class dir lang style tabindex title role",x="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",y="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=n&&(k+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",x+=" article aside details dialog figure header footer hgroup section nav",y+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=n&&(k+=" xml:lang",y=[y,m="acronym applet basefont big font strike tt"].join(" "),l(r(m),function(d){i(d,"",y)}),x=[x,b="center dir isindex noframes"].join(" "),h=[x,y].join(" "),l(r(b),function(d){i(d,"",h)})),h=h||[x,y].join(" "),i("html","manifest","head body"),i("head","","base command link meta noscript script style title"),i("title hr noscript br"),i("base","href target"),i("link","href rel media hreflang type sizes hreflang"),i("meta","name http-equiv content charset"),i("style","media type scoped"),i("script","src async defer type charset"),i("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",h),i("address dt dd div caption","",h),i("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",y),i("blockquote","cite",h),i("ol","reversed start type","li"),i("ul","","li"),i("li","value",h),i("dl","","dt dd"),i("a","href target rel media hreflang type",y),i("q","cite",y),i("ins del","cite datetime",h),i("img","src sizes srcset alt usemap ismap width height"),i("iframe","src name width height",h),i("embed","src type width height"),i("object","data type typemustmatch name usemap form width height",[h,"param"].join(" ")),i("param","name value"),i("map","name",[h,"area"].join(" ")),i("area","alt coords shape href target rel media hreflang type"),i("table","border","caption colgroup thead tfoot tbody tr"+("html4"==n?" col":"")),i("colgroup","span","col"),i("col","span"),i("tbody thead tfoot","","tr"),i("tr","","td th"),i("td","colspan rowspan headers",h),i("th","colspan rowspan headers scope abbr",h),i("form","accept-charset action autocomplete enctype method name novalidate target",h),i("fieldset","disabled form name",[h,"legend"].join(" ")),i("label","form for",y),i("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),i("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==n?h:y),i("select","disabled form multiple name required size","option optgroup"),i("optgroup","disabled label","option"),i("option","disabled label selected value"),i("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),i("menu","type label",[h,"li"].join(" ")),i("noscript","",h),"html4"!=n&&(i("wbr"),i("ruby","",[y,"rt rp"].join(" ")),i("figcaption","",h),i("mark rt rp summary bdi","",y),i("canvas","width height",h),i("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[h,"track source"].join(" ")),i("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[h,"track source"].join(" ")),i("picture","","img source"),i("source","src srcset type media sizes"),i("track","kind src srclang label default"),i("datalist","",[y,"option"].join(" ")),i("article section nav aside header footer","",h),i("hgroup","","h1 h2 h3 h4 h5 h6"),i("figure","",[h,"figcaption"].join(" ")),i("time","datetime",y),i("dialog","open",h),i("command","type label icon disabled checked radiogroup command"),i("output","for form name",y),i("progress","value max",y),i("meter","value min max low high optimum",y),i("details","open",[h,"summary"].join(" ")),i("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=n&&(e("script","language xml:space"),e("style","xml:space"),e("object","declare classid code codebase codetype archive standby align border hspace vspace"),e("embed","align name hspace vspace"),e("param","valuetype type"),e("a","charset name rev shape coords"),e("br","clear"),e("applet","codebase archive code object alt name width height align hspace vspace"),e("img","name longdesc align border hspace vspace"),e("iframe","longdesc frameborder marginwidth marginheight scrolling align"),e("font basefont","size color face"),e("input","usemap align"),e("select","onchange"),e("textarea"),e("h1 h2 h3 h4 h5 h6 div p legend caption","align"),e("ul","type compact"),e("li","type"),e("ol dl menu dir","compact"),e("pre","width xml:space"),e("hr","align noshade size width"),e("isindex","prompt"),e("table","summary width frame rules cellspacing cellpadding align bgcolor"),e("col","width align char charoff valign"),e("colgroup","width align char charoff valign"),e("thead","align char charoff valign"),e("tr","align char charoff valign bgcolor"),e("th","axis align char charoff valign nowrap bgcolor width height"),e("form","accept"),e("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),e("tfoot","align char charoff valign"),e("tbody","align char charoff valign"),e("area","nohref"),e("body","background bgcolor text link vlink alink")),"html4"!=n&&(e("input button select textarea","autofocus"),e("input textarea","placeholder"),e("a","download"),e("link script img","crossorigin"),e("iframe","sandbox seamless allowfullscreen")),l(r("a form meter progress dfn"),function(d){p[d]&&delete p[d].children[d]}),delete p.caption.children.table,delete p.script,S[n]=p,p)}((n=n||{}).schema),!1===n.verify_html&&(n.valid_elements="*[*]"),h=a(n.valid_styles),b=a(n.invalid_styles,"map"),t=a(n.valid_classes,"map"),i=P("whitespace_elements","pre script noscript style textarea video audio iframe object code"),e=P("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),d=P("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),v=P("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),w=P("non_empty_elements","td th iframe video audio object script pre code",d),E=P("move_caret_before_on_enter_elements","table",w),A=P("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),g=P("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",A),R=P("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),l((n.special||"script noscript style textarea").split(" "),function(F){_[F]=new RegExp("</"+F+"[^>]*>","gi")}),n.valid_elements?U(n.valid_elements):(l(m,function(F,q){k[q]={attributes:F.attributes,attributesOrder:F.attributesOrder},x[q]=F.children}),"html5"!=n.schema&&l(r("strong/b em/i"),function(F){F=r(F,"/"),k[F[1]].outputName=F[0]}),l(r("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(F){k[F]&&(k[F].removeEmpty=!0)}),l(r("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(F){k[F].paddEmpty=!0}),l(r("span"),function(F){k[F].removeEmptyAttrs=!0})),L(n.custom_elements),B(n.valid_children),D(n.extended_valid_elements),B("+ol[ul|ol],+ul[ul|ol]"),l({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(F,q){k[q]&&(k[q].parentsRequired=r(F))}),n.invalid_elements&&l(f(n.invalid_elements),function(F){k[F]&&delete k[F]}),I("span")||D("span[!data-mce-type|*]"),p.children=x,p.getValidStyles=function(){return h},p.getInvalidStyles=function(){return b},p.getValidClasses=function(){return t},p.getBoolAttrs=function(){return v},p.getBlockElements=function(){return g},p.getTextBlockElements=function(){return A},p.getTextInlineElements=function(){return R},p.getShortEndedElements=function(){return d},p.getSelfClosingElements=function(){return e},p.getNonEmptyElements=function(){return w},p.getMoveCaretBeforeOnEnterElements=function(){return E},p.getWhiteSpaceElements=function(){return i},p.getSpecialElements=function(){return _},p.isValidChild=function(F,q){var G=x[F.toLowerCase()];return!(!G||!G[q.toLowerCase()])},p.isValid=function(F,q){var G,ne,se=I(F);if(se){if(!q)return!0;if(se.attributes[q])return!0;if(G=se.attributePatterns)for(ne=G.length;ne--;)if(G[ne].pattern.test(F))return!0}return!1},p.getElementRule=I,p.getCustomElements=function(){return N},p.addValidElements=D,p.setValidElements=U,p.addCustomElements=L,p.addValidChildren=B,p.elements=k}}),V("tinymce.core.dom.DOMUtils",["tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.Range","tinymce.core.dom.Sizzle","tinymce.core.dom.StyleSheetLoader","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.html.Entities","tinymce.core.html.Schema","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f,o,r,s,a){var n=a.each,p=a.is,k=a.grep,x=a.trim,y=f.ie,h=/^([a-z0-9],?)+$/i,b=/^[ \t\r\n]*$/;function i(v,t){var g=t.attr("style");(g=v.serializeStyle(v.parseStyle(g),t[0].nodeName))||(g=null),t.attr("data-mce-style",g)}function e(v,t){var w,E,g=0;if(v)for(w=v.nodeType,v=v.previousSibling;v;v=v.previousSibling)E=v.nodeType,(!t||3!=E||E!=w&&v.nodeValue.length)&&(g++,w=E);return g}function d(v,t){var w,g=this;g.doc=v,g.win=window,g.files={},g.counter=0,g.stdMode=!y||v.documentMode>=8,g.boxModel=!y||"CSS1Compat"==v.compatMode||g.stdMode,g.styleSheetLoader=new l(v),g.boundEvents=[],g.settings=t=t||{},g.schema=t.schema?t.schema:new r({}),g.styles=new s({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),g.fixDoc(v),g.events=t.ownEvents?new S(t.proxy):S.Event,g.attrHooks=function m(v,t){var g={},w=t.keep_values;return g={style:{set:function(R,N){null===N||"object"!=typeof N?(w&&R.attr("data-mce-style",N),R.attr("style",N)):R.css(N)},get:function(R){var N=R.attr("data-mce-style")||R.attr("style");return v.serializeStyle(v.parseStyle(N),R[0].nodeName)}}},w&&(g.href=g.src={set:function(R,N,_){t.url_converter&&(N=t.url_converter.call(t.url_converter_scope||v,N,_,R[0])),R.attr("data-mce-"+_,N).attr(_,N)},get:function(R,N){return R.attr("data-mce-"+N)||R.attr(N)}}),g}(g,t),w=t.schema?t.schema.getBlockElements():{},g.$=T.overrideDefaults(function(){return{context:v,element:g.getRoot()}}),g.isBlock=function(E){if(!E)return!1;var A=E.nodeType;return A?!(1!==A||!w[E.nodeName]):!!w[E]}}return d.prototype={$$:function(t){return"string"==typeof t&&(t=this.get(t)),this.$(t)},root:null,fixDoc:function(t){var w,g=this.settings;if(y&&g.schema)for(w in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(E){t.createElement(E)}),g.schema.getCustomElements())t.createElement(w)},clone:function(t,g){var E,w=this;return!y||1!==t.nodeType||g?t.cloneNode(g):g?E.firstChild:(E=w.doc.createElement(t.nodeName),n(w.getAttribs(t),function(R){w.setAttrib(E,R.nodeName,w.getAttrib(t,R.nodeName))}),E)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(t){var g,w;return g=(t=t||this.win).document,w=this.boxModel?g.documentElement:g.body,{x:t.pageXOffset||w.scrollLeft,y:t.pageYOffset||w.scrollTop,w:t.innerWidth||w.clientWidth,h:t.innerHeight||w.clientHeight}},getRect:function(t){var w,E,g=this;return t=g.get(t),w=g.getPos(t),E=g.getSize(t),{x:w.x,y:w.y,w:E.w,h:E.h}},getSize:function(t){var w,E,g=this;return t=g.get(t),w=g.getStyle(t,"width"),E=g.getStyle(t,"height"),-1===w.indexOf("px")&&(w=0),-1===E.indexOf("px")&&(E=0),{w:parseInt(w,10)||t.offsetWidth||t.clientWidth,h:parseInt(E,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,g,w){return this.getParents(t,g,w,!1)},getParents:function(t,g,w,E){var R,A=this,N=[];for(t=A.get(t),E=void 0===E,w=w||("BODY"!=A.getRoot().nodeName?A.getRoot().parentNode:null),p(g,"string")&&(R=g,g="*"===g?function(P){return 1==P.nodeType}:function(P){return A.is(P,R)});t&&t!=w&&t.nodeType&&9!==t.nodeType;){if(!g||g(t)){if(!E)return t;N.push(t)}t=t.parentNode}return E?N:null},get:function(t){var g;return t&&this.doc&&"string"==typeof t&&(g=t,(t=this.doc.getElementById(t))&&t.id!==g)?this.doc.getElementsByName(g)[1]:t},getNext:function(t,g){return this._findSib(t,g,"nextSibling")},getPrev:function(t,g){return this._findSib(t,g,"previousSibling")},select:function(t,g){var w=this;return c(t,w.get(g)||w.settings.root_element||w.doc,[])},is:function(t,g){var w;if(!t)return!1;if(void 0===t.length){if("*"===g)return 1==t.nodeType;if(h.test(g)){for(g=g.toLowerCase().split(/,/),t=t.nodeName.toLowerCase(),w=g.length-1;w>=0;w--)if(g[w]==t)return!0;return!1}}if(t.nodeType&&1!=t.nodeType)return!1;var E=t.nodeType?[t]:t;return c(g,E[0].ownerDocument||E[0],null,E).length>0},add:function(t,g,w,E,A){var R=this;return this.run(t,function(N){var _;return _=p(g,"string")?R.doc.createElement(g):g,R.setAttribs(_,w),E&&(E.nodeType?_.appendChild(E):R.setHTML(_,E)),A?_:N.appendChild(_)})},create:function(t,g,w){return this.add(this.doc.createElement(t),t,g,w,1)},createHTML:function(t,g,w){var A,E="";for(A in E+="<"+t,g)g.hasOwnProperty(A)&&null!=g[A]&&(E+=" "+A+'="'+this.encode(g[A])+'"');return void 0!==w?E+">"+w+"</"+t+">":E+" />"},createFragment:function(t){var g,w,A,E=this.doc;for(A=E.createElement("div"),g=E.createDocumentFragment(),t&&(A.innerHTML=t);w=A.firstChild;)g.appendChild(w);return g},remove:function(t,g){return t=this.$$(t),g?t.each(function(){for(var w;w=this.firstChild;)3==w.nodeType&&0===w.data.length?this.removeChild(w):this.parentNode.insertBefore(w,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},setStyle:function(t,g,w){t=this.$$(t).css(g,w),this.settings.update_styles&&i(this,t)},getStyle:function(t,g,w){return t=this.$$(t),w?t.css(g):("float"==(g=g.replace(/-(\D)/g,function(E,A){return A.toUpperCase()}))&&(g=f.ie&&f.ie<12?"styleFloat":"cssFloat"),t[0]&&t[0].style?t[0].style[g]:void 0)},setStyles:function(t,g){t=this.$$(t).css(g),this.settings.update_styles&&i(this,t)},removeAllAttribs:function(t){return this.run(t,function(g){var w,E=g.attributes;for(w=E.length-1;w>=0;w--)g.removeAttributeNode(E.item(w))})},setAttrib:function(t,g,w){var A,R,E=this,N=E.settings;""===w&&(w=null),A=(t=E.$$(t)).attr(g),t.length&&((R=E.attrHooks[g])&&R.set?R.set(t,w,g):t.attr(g,w),A!=w&&N.onSetAttrib&&N.onSetAttrib({attrElm:t,attrName:g,attrValue:w}))},setAttribs:function(t,g){var w=this;w.$$(t).each(function(E,A){n(g,function(R,N){w.setAttrib(A,N,R)})})},getAttrib:function(t,g,w){var A,R;return(t=this.$$(t)).length&&(R=(A=this.attrHooks[g])&&A.get?A.get(t,g):t.attr(g)),void 0===R&&(R=w||""),R},getPos:function(t,g){var R,P,w=this,E=0,A=0,N=w.doc,_=N.body;if(g=g||_,t=w.get(t)){if(g===_&&t.getBoundingClientRect&&"static"===T(_).css("position"))return{x:E=(P=t.getBoundingClientRect()).left+(N.documentElement.scrollLeft||_.scrollLeft)-(g=w.boxModel?N.documentElement:_).clientLeft,y:A=P.top+(N.documentElement.scrollTop||_.scrollTop)-g.clientTop};for(R=t;R&&R!=g&&R.nodeType;)E+=R.offsetLeft||0,A+=R.offsetTop||0,R=R.offsetParent;for(R=t.parentNode;R&&R!=g&&R.nodeType;)E-=R.scrollLeft||0,A-=R.scrollTop||0,R=R.parentNode}return{x:E,y:A}},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,g){return this.styles.serialize(t,g)},addStyle:function(t){var E,A,w=this.doc;if(this!==d.DOM&&w===document){var R=d.DOM.addedStyles;if((R=R||[])[t])return;R[t]=!0,d.DOM.addedStyles=R}(A=w.getElementById("mceDefaultStyles"))||((A=w.createElement("style")).id="mceDefaultStyles",A.type="text/css",(E=w.getElementsByTagName("head")[0]).firstChild?E.insertBefore(A,E.firstChild):E.appendChild(A)),A.styleSheet?A.styleSheet.cssText+=t:A.appendChild(w.createTextNode(t))},loadCSS:function(t){var E,g=this,w=g.doc;g===d.DOM||w!==document?(t||(t=""),E=w.getElementsByTagName("head")[0],n(t.split(","),function(A){var R;A=a._addCacheSuffix(A),!g.files[A]&&(g.files[A]=!0,R=g.create("link",{rel:"stylesheet",href:A}),y&&w.documentMode&&w.recalc&&(R.onload=function(){w.recalc&&w.recalc(),R.onload=null}),E.appendChild(R))})):d.DOM.loadCSS(t)},addClass:function(t,g){this.$$(t).addClass(g)},removeClass:function(t,g){this.toggleClass(t,g,!1)},hasClass:function(t,g){return this.$$(t).hasClass(g)},toggleClass:function(t,g,w){this.$$(t).toggleClass(g,w).each(function(){""===this.className&&T(this).attr("class",null)})},show:function(t){this.$$(t).show()},hide:function(t){this.$$(t).hide()},isHidden:function(t){return"none"==this.$$(t).css("display")},uniqueId:function(t){return(t||"mce_")+this.counter++},setHTML:function(t,g){t=this.$$(t),y?t.each(function(w,E){if(!1!==E.canHaveHTML){for(;E.firstChild;)E.removeChild(E.firstChild);try{E.innerHTML="<br>"+g,E.removeChild(E.firstChild)}catch(A){T("<div></div>").html("<br>"+g).contents().slice(1).appendTo(E)}return g}}):t.html(g)},getOuterHTML:function(t){return 1==(t=this.get(t)).nodeType&&"outerHTML"in t?t.outerHTML:T("<div></div>").append(T(t).clone()).html()},setOuterHTML:function(t,g){var w=this;w.$$(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=g)}catch(E){}w.remove(T(this).html(g),!0)})},decode:o.decode,encode:o.encodeAllRaw,insertAfter:function(t,g){return g=this.get(g),this.run(t,function(w){var E,A;return E=g.parentNode,(A=g.nextSibling)?E.insertBefore(w,A):E.appendChild(w),w})},replace:function(t,g,w){return this.run(g,function(A){return p(A,"array")&&(t=t.cloneNode(!0)),w&&n(k(A.childNodes),function(R){t.appendChild(R)}),A.parentNode.replaceChild(t,A)})},rename:function(t,g){var E,w=this;return t.nodeName!=g.toUpperCase()&&(E=w.create(g),n(w.getAttribs(t),function(A){w.setAttrib(E,A.nodeName,w.getAttrib(t,A.nodeName))}),w.replace(E,t,1)),E||t},findCommonAncestor:function(t,g){for(var E,w=t;w;){for(E=g;E&&w!=E;)E=E.parentNode;if(w==E)break;w=w.parentNode}return!w&&t.ownerDocument?t.ownerDocument.documentElement:w},toHex:function(t){return this.styles.toHex(a.trim(t))},run:function(t,g,w){var A,E=this;return"string"==typeof t&&(t=E.get(t)),!!t&&(w=w||this,t.nodeType||!t.length&&0!==t.length?g.call(w,t):(A=[],n(t,function(R,N){R&&("string"==typeof R&&(R=E.get(R)),A.push(g.call(w,R,N)))}),A))},getAttribs:function(t){var g;return(t=this.get(t))?y?(g=[],"OBJECT"==t.nodeName?t.attributes:("OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&g.push({specified:1,nodeName:"selected"}),t.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(E){g.push({specified:1,nodeName:E})}),g)):t.attributes:[]},isEmpty:function(t,g){var E,A,R,N,_,P,w=this,M=0;if(t=t.firstChild){_=new u(t,t.parentNode),g=g||(w.schema?w.schema.getNonEmptyElements():null),N=w.schema?w.schema.getWhiteSpaceElements():{};do{if(1===(R=t.nodeType)){var D=t.getAttribute("data-mce-bogus");if(D){t=_.next("all"===D);continue}if(P=t.nodeName.toLowerCase(),g&&g[P]){if("br"===P){M++,t=_.next();continue}return!1}for(E=(A=w.getAttribs(t)).length;E--;)if("name"===(P=A[E].nodeName)||"data-mce-bookmark"===P)return!1}if(8==R||3===R&&!b.test(t.nodeValue)||3===R&&t.parentNode&&N[t.parentNode.nodeName]&&b.test(t.nodeValue))return!1;t=_.next()}while(t)}return M<=1},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new C(this)},nodeIndex:e,split:function(t,g,w){var R,N,_,E=this,A=E.createRng();function P(M){var D,U=M.childNodes,L=M.nodeType;if(1!=L||"bookmark"!=M.getAttribute("data-mce-type")){for(D=U.length-1;D>=0;D--)P(U[D]);if(9!=L){if(3==L&&M.nodeValue.length>0){var I=x(M.nodeValue).length;if(!E.isBlock(M.parentNode)||I>0||0===I&&function B(F){return F.previousSibling&&"SPAN"==F.previousSibling.nodeName&&F.nextSibling&&"SPAN"==F.nextSibling.nodeName}(M))return}else if(1==L&&(1==(U=M.childNodes).length&&U[0]&&1==U[0].nodeType&&"bookmark"==U[0].getAttribute("data-mce-type")&&M.parentNode.insertBefore(U[0],M),U.length||/^(br|hr|input|img)$/i.test(M.nodeName)))return;E.remove(M)}return M}}if(t&&g)return A.setStart(t.parentNode,E.nodeIndex(t)),A.setEnd(g.parentNode,E.nodeIndex(g)),R=A.extractContents(),(A=E.createRng()).setStart(g.parentNode,E.nodeIndex(g)+1),A.setEnd(t.parentNode,E.nodeIndex(t)+1),N=A.extractContents(),(_=t.parentNode).insertBefore(P(R),t),_.insertBefore(w||g,t),_.insertBefore(P(N),t),E.remove(t),w||g},bind:function(t,g,w,E){var A=this;if(a.isArray(t)){for(var R=t.length;R--;)t[R]=A.bind(t[R],g,w,E);return t}return A.settings.collect&&(t===A.doc||t===A.win)&&A.boundEvents.push([t,g,w,E]),A.events.bind(t,g,w,E||A)},unbind:function(t,g,w){var A,E=this;if(a.isArray(t)){for(A=t.length;A--;)t[A]=E.unbind(t[A],g,w);return t}if(E.boundEvents&&(t===E.doc||t===E.win))for(A=E.boundEvents.length;A--;){var R=E.boundEvents[A];t==R[0]&&(!g||g==R[1])&&(!w||w==R[2])&&this.events.unbind(R[0],R[1],R[2])}return this.events.unbind(t,g,w)},fire:function(t,g,w){return this.events.fire(t,g,w)},getContentEditable:function(t){var g;return t&&1==t.nodeType?(g=t.getAttribute("data-mce-contenteditable"))&&"inherit"!==g?g:"inherit"!==t.contentEditable?t.contentEditable:null:null},getContentEditableParent:function(t){for(var g=this.getRoot(),w=null;t&&t!==g&&null===(w=this.getContentEditable(t));t=t.parentNode);return w},destroy:function(){var t=this;if(t.boundEvents){for(var g=t.boundEvents.length;g--;){var w=t.boundEvents[g];this.events.unbind(w[0],w[1],w[2])}t.boundEvents=null}c.setDocument&&c.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(t,g){for(;t;){if(g===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,g,w){var E=this,A=g;if(t)for("string"==typeof A&&(A=function(N){return E.is(N,g)}),t=t[w];t;t=t[w])if(A(t))return t;return null}},d.DOM=new d(document),d.nodeIndex=e,d}),V("tinymce.core.dom.ScriptLoader",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(T,S){var C=T.DOM,c=S.each,l=S.grep,u=function(r){return"function"==typeof r};function f(){var h,n={},p=[],k={},x=[],y=0;this.isDone=function(m){return 2==n[m]},this.markDone=function(m){n[m]=2},this.add=this.load=function(m,i,e,d){n[m]==h&&(p.push(m),n[m]=0),i&&(k[m]||(k[m]=[]),k[m].push({success:i,failure:d,scope:e||this}))},this.remove=function(m){delete n[m],delete k[m]},this.loadQueue=function(m,i,e){this.loadScripts(p,m,i,e)},this.loadScripts=function(m,i,e,d){var v,t=[];function g(w,E){c(k[E],function(A){u(A[w])&&A[w].call(A.scope)}),k[E]=h}x.push({success:i,failure:d,scope:e||this}),v=function(){var E=l(m);m.length=0,c(E,function(A){2!==n[A]?3!==n[A]?1!==n[A]&&(n[A]=1,y++,function b(m,i,e){var v,t,d=C;function g(){d.remove(t),v&&(v.onreadystatechange=v.onload=v=null),i()}t=d.uniqueId(),(v=document.createElement("script")).id=t,v.type="text/javascript",v.src=S._addCacheSuffix(m),"onreadystatechange"in v?v.onreadystatechange=function(){/loaded|complete/.test(v.readyState)&&g()}:v.onload=g,v.onerror=function w(){u(e)?e():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+m)},(document.getElementsByTagName("head")[0]||document.body).appendChild(v)}(A,function(){n[A]=2,y--,g("success",A),v()},function(){n[A]=3,y--,t.push(A),g("failure",A),v()})):g("failure",A):g("success",A)}),y||(c(x,function(A){0===t.length?u(A.success)&&A.success.call(A.scope):u(A.failure)&&A.failure.call(A.scope,t)}),x.length=0)},v()}}return f.ScriptLoader=new f,f}),V("tinymce.core.AddOnManager",["tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],function(T,S){var C=S.each;function c(){var l=this;l.items=[],l.urls={},l.lookup={}}return c.prototype={get:function(u){if(this.lookup[u])return this.lookup[u].instance},dependencies:function(u){var f;return this.lookup[u]&&(f=this.lookup[u].dependencies),f||[]},requireLangPack:function(u,f){var o=c.language;if(o&&!1!==c.languageLoad){if(f)if(-1!=(f=","+f+",").indexOf(","+o.substr(0,2)+","))o=o.substr(0,2);else if(-1==f.indexOf(","+o+","))return;T.ScriptLoader.add(this.urls[u]+"/langs/"+o+".js")}},add:function(u,f,o){return this.items.push(f),this.lookup[u]={instance:f,dependencies:o},f},remove:function(u){delete this.urls[u],delete this.lookup[u]},createUrl:function(u,f){return"object"==typeof f?f:{prefix:u.prefix,resource:f,suffix:u.suffix}},addComponents:function(u,f){var o=this.urls[u];C(f,function(r){T.ScriptLoader.add(o+"/"+r)})},load:function(u,f,o,r,s){var a=this,n=f;function p(){var k=a.dependencies(u);C(k,function(x){var y=a.createUrl(f,x);a.load(y.resource,y,void 0,void 0)}),o&&o.call(r||T)}a.urls[u]||("object"==typeof f&&(n=f.prefix+f.resource+f.suffix),0!==n.indexOf("/")&&-1==n.indexOf("://")&&(n=c.baseURL+"/"+n),a.urls[u]=n.substring(0,n.lastIndexOf("/")),a.lookup[u]?p():T.ScriptLoader.add(n,p,r,s))}},c.PluginManager=new c,c.ThemeManager=new c,c}),V("tinymce.core.dom.NodeType",[],function(){function T(s){return function(a){return!!a&&a.nodeType==s}}var S=T(1);function C(s){return s=s.toLowerCase().split(" "),function(a){var n,p;if(a&&a.nodeType)for(p=a.nodeName.toLowerCase(),n=0;n<s.length;n++)if(p===s[n])return!0;return!1}}function r(s){return function(a){return!(!S(a)||a.contentEditable!==s&&a.getAttribute("data-mce-contenteditable")!==s)}}return{isText:T(3),isElement:S,isComment:T(8),isBr:C("br"),isContentEditableTrue:r("true"),isContentEditableFalse:r("false"),matchNodeNames:C,hasPropValue:function l(s,a){return function(n){return S(n)&&n[s]===a}},hasAttribute:function u(s,a){return function(n){return S(n)&&n.hasAttribute(s)}},hasAttributeValue:function f(s,a){return function(n){return S(n)&&n.getAttribute(s)===a}},matchStyleValues:function c(s,a){return a=a.toLowerCase().split(" "),function(n){var p;if(S(n))for(p=0;p<a.length;p++)if(n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s)===a[p])return!0;return!1}},isBogus:function o(s){return S(s)&&s.hasAttribute("data-mce-bogus")}}}),V("tinymce.core.text.Zwsp",[],function(){return{isZwsp:function(l){return"\ufeff"===l},ZWSP:"\ufeff",trim:function(l){return l.replace(new RegExp("\ufeff","g"),"")}}}),V("tinymce.core.caret.CaretContainer",["tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(T,S){var C=T.isElement,c=T.isText;function l(i){return c(i)&&(i=i.parentNode),C(i)&&i.hasAttribute("data-mce-caret")}function u(i){return c(i)&&S.isZwsp(i.data)}function f(i){return l(i)||u(i)}function y(i){return c(i)&&i.data[0]==S.ZWSP}function h(i){return c(i)&&i.data[i.data.length-1]==S.ZWSP}return{isCaretContainer:f,isCaretContainerBlock:l,isCaretContainerInline:u,showCaretContainerBlock:function m(i){return i&&i.hasAttribute("data-mce-caret")?(function b(i){var e=i.getElementsByTagName("br"),d=e[e.length-1];T.isBogus(d)&&d.parentNode.removeChild(d)}(i),i.removeAttribute("data-mce-caret"),i.removeAttribute("data-mce-bogus"),i.removeAttribute("style"),i.removeAttribute("_moz_abspos"),i):null},insertInline:function r(i,e){var v,t,g;if(t=i.ownerDocument.createTextNode(S.ZWSP),g=i.parentNode,e){if(c(v=i.previousSibling)){if(f(v))return v;if(h(v))return v.splitText(v.data.length-1)}g.insertBefore(t,i)}else{if(c(v=i.nextSibling)){if(f(v))return v;if(y(v))return v.splitText(1),v}i.nextSibling?g.insertBefore(t,i.nextSibling):g.appendChild(t)}return t},prependInline:function(e){if(T.isText(e)){var d=e.data;return d.length>0&&d.charAt(0)!==S.ZWSP&&e.insertData(0,S.ZWSP),e}return null},appendInline:function(e){if(T.isText(e)){var d=e.data;return d.length>0&&d.charAt(d.length-1)!==S.ZWSP&&e.insertData(d.length,S.ZWSP),e}return null},isBeforeInline:function(e){return e&&T.isText(e.container())&&e.container().data.charAt(e.offset())===S.ZWSP},isAfterInline:function(e){return e&&T.isText(e.container())&&e.container().data.charAt(e.offset()-1)===S.ZWSP},insertBlock:function x(i,e,d){var t,g;return(t=e.ownerDocument.createElement(i)).setAttribute("data-mce-caret",d?"before":"after"),t.setAttribute("data-mce-bogus","all"),t.appendChild(function k(){var i=document.createElement("br");return i.setAttribute("data-mce-bogus","1"),i}()),g=e.parentNode,d?g.insertBefore(t,e):e.nextSibling?g.insertBefore(t,e.nextSibling):g.appendChild(t),t},hasContent:function(e){return e.firstChild!==e.lastChild||!T.isBr(e.firstChild)},startsWithCaretContainer:y,endsWithCaretContainer:h}}),V("tinymce.core.dom.RangeUtils",["tinymce.core.util.Tools","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.dom.Range","tinymce.core.caret.CaretContainer"],function(T,S,C,c,l){var u=T.each,f=C.isContentEditableTrue,o=C.isContentEditableFalse,r=l.isCaretContainer;function s(i){return f(i)||o(i)}function n(i,e,d){for(;i&&i!==e;){if(d(i))return i;i=i.parentNode}return null}function p(i,e,d){return null!==n(i,e,d)}function k(i,e,d){return p(i,e,function(v){return v.nodeName===d})}function x(i){return"_mce_caret"===i.id}function y(i,e){return r(i)&&!1===p(i,e,x)}function h(i){this.walk=function(e,d){var E,A,R,N,_,P,M,v=e.startContainer,t=e.startOffset,g=e.endContainer,w=e.endOffset;if((M=i.select("td[data-mce-selected],th[data-mce-selected]")).length>0)u(M,function(I){d([I])});else{if(1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[t]),1==g.nodeType&&g.hasChildNodes()&&(g=function a(i,e){var d=i.childNodes;return--e>d.length-1?e=d.length-1:e<0&&(e=0),d[e]||i}(g,w)),v==g)return d(D([v]));for(E=i.findCommonAncestor(v,g),N=v;N;N=N.parentNode){if(N===g)return B(v,E,!0);if(N===E)break}for(N=g;N;N=N.parentNode){if(N===v)return B(g,E);if(N===E)break}A=L(v,E)||v,R=L(g,E)||g,B(v,A,!0),(P=U(A==v?A:A.nextSibling,"nextSibling",R==g?R.nextSibling:R)).length&&d(D(P)),B(g,R)}function D(I){var F;return 3===(F=I[0]).nodeType&&F===v&&t>=F.nodeValue.length&&I.splice(0,1),F=I[I.length-1],0===w&&I.length>0&&F===g&&3===F.nodeType&&I.splice(I.length-1,1),I}function U(I,F,q){for(var G=[];I&&I!=q;I=I[F])G.push(I);return G}function L(I,F){do{if(I.parentNode==F)return I;I=I.parentNode}while(I)}function B(I,F,q){var G=q?"nextSibling":"previousSibling";for(_=(N=I).parentNode;N&&N!=F;N=_)_=N.parentNode,(P=U(N==I?N:N[G],G)).length&&(q||P.reverse(),d(D(P)))}},this.split=function(e){var d=e.startContainer,v=e.startOffset,t=e.endContainer,g=e.endOffset;function w(E,A){return E.splitText(A)}return d==t&&3==d.nodeType?v>0&&v<d.nodeValue.length&&(d=(t=w(d,v)).previousSibling,g>v?(d=t=w(t,g-=v).previousSibling,g=t.nodeValue.length,v=0):g=0):(3==d.nodeType&&v>0&&v<d.nodeValue.length&&(d=w(d,v),v=0),3==t.nodeType&&g>0&&g<t.nodeValue.length&&(g=(t=w(t,g).previousSibling).nodeValue.length)),{startContainer:d,startOffset:v,endContainer:t,endOffset:g}},this.normalize=function(e){var v,d=!1;function t(g){var w,E,A,N,_,P,M,F,R=i.getRoot();function U(F,q){for(var G=new S(F,i.getParent(F.parentNode,i.isBlock)||R);F=G[q?"prev":"next"]();)if("BR"===F.nodeName)return!0}function I(F,q){var G,ne,se;if(se=i.getParent((q=q||w).parentNode,i.isBlock)||R,F&&"BR"==q.nodeName&&M&&i.isEmpty(se))return w=q.parentNode,E=i.nodeIndex(q),void(d=!0);for(G=new S(q,se);N=G[F?"prev":"next"]();){if("false"===i.getContentEditableParent(N)||y(N,i.getRoot()))return;if(3===N.nodeType&&N.nodeValue.length>0)return void(!1===k(N,R,"A")&&(w=N,E=F?N.nodeValue.length:0,d=!0));if(i.isBlock(N)||_[N.nodeName.toLowerCase()])return;ne=N}v&&ne&&(w=ne,d=!0,E=0)}if(E=e[(g?"start":"end")+"Offset"],M=1==(w=e[(g?"start":"end")+"Container"]).nodeType&&E===w.childNodes.length,_=i.schema.getNonEmptyElements(),P=g,!r(w)){if(1==w.nodeType&&E>w.childNodes.length-1&&(P=!1),9===w.nodeType&&(w=i.getRoot(),E=0),w===R){if(P&&(N=w.childNodes[E>0?E-1:0])&&(r(N)||_[N.nodeName]||"TABLE"==N.nodeName))return;if(w.hasChildNodes()){if(E=Math.min(!P&&E>0?E-1:E,w.childNodes.length-1),w=w.childNodes[E],E=0,!v&&w===R.lastChild&&"TABLE"===w.nodeName||function L(F){for(;F&&F!=R;){if(o(F))return!0;F=F.parentNode}return!1}(w)||r(w))return;if(w.hasChildNodes()&&!/TABLE/.test(w.nodeName)){N=w,A=new S(w,R);do{if(o(N)||r(N)){d=!1;break}if(3===N.nodeType&&N.nodeValue.length>0){E=P?0:N.nodeValue.length,w=N,d=!0;break}if(_[N.nodeName.toLowerCase()]&&(!(F=N)||!/^(TD|TH|CAPTION)$/.test(F.nodeName))){E=i.nodeIndex(N),w=N.parentNode,"IMG"==N.nodeName&&!P&&E++,d=!0;break}}while(N=P?A.next():A.prev())}}}v&&(3===w.nodeType&&0===E&&I(!0),1===w.nodeType&&((N=w.childNodes[E])||(N=w.childNodes[E-1]),N&&"BR"===N.nodeName&&!function B(F,q){return F.previousSibling&&F.previousSibling.nodeName==q}(N,"A")&&!U(N)&&!U(N,!0)&&I(!0,N))),P&&!v&&3===w.nodeType&&E===w.nodeValue.length&&I(!1),d&&e["set"+(g?"Start":"End")](w,E)}}return v=e.collapsed,t(!0),v||t(),d&&v&&e.collapse(!0),d}}return h.compareRanges=function(i,e){if(i&&e){if(!i.item&&!i.duplicate)return i.startContainer==e.startContainer&&i.startOffset==e.startOffset;if(i.item&&e.item&&i.item(0)===e.item(0)||i.isEqual&&e.isEqual&&e.isEqual(i))return!0}return!1},h.getCaretRangeFromPoint=function(i,e,d){var v,t;if(d.caretPositionFromPoint)t=d.caretPositionFromPoint(i,e),(v=d.createRange()).setStart(t.offsetNode,t.offset),v.collapse(!0);else if(d.caretRangeFromPoint)v=d.caretRangeFromPoint(i,e);else if(d.body.createTextRange){v=d.body.createTextRange();try{v.moveToPoint(i,e),v.collapse(!0)}catch(g){v=function b(i,e,d){var v,t,g;if(v=d.elementFromPoint(i,e),t=d.body.createTextRange(),(!v||"HTML"==v.tagName)&&(v=d.body),t.moveToElementText(v),(g=(g=T.toArray(t.getClientRects())).sort(function(w,E){return(w=Math.abs(Math.max(w.top-e,w.bottom-e)))-Math.abs(Math.max(E.top-e,E.bottom-e))})).length>0){e=(g[0].bottom+g[0].top)/2;try{return t.moveToPoint(i,e),t.collapse(!0),t}catch(w){}}return null}(i,e,d)}return function m(i,e){var d=i&&i.parentElement?i.parentElement():null;return o(n(d,e,s))?null:i}(v,d.body)}return v},h.getSelectedNode=function(i){var e=i.startContainer,d=i.startOffset;return e.hasChildNodes()&&i.endOffset==d+1?e.childNodes[d]:null},h.getNode=function(i,e){return 1==i.nodeType&&i.hasChildNodes()&&(e>=i.childNodes.length&&(e=i.childNodes.length-1),i=i.childNodes[e]),i},h}),V("tinymce.core.html.Node",[],function(){var T=/^[ \t\r\n]*$/,S={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function C(l,u,f){var o,r,s=f?"lastChild":"firstChild",a=f?"prev":"next";if(l[s])return l[s];if(l!==u){if(o=l[a])return o;for(r=l.parent;r&&r!==u;r=r.parent)if(o=r[a])return o}}function c(l,u){this.name=l,this.type=u,1===u&&(this.attributes=[],this.attributes.map={})}return c.prototype={replace:function(u){var f=this;return u.parent&&u.remove(),f.insert(u,f),f.remove(),f},attr:function(u,f){var r,s,o=this;if("string"!=typeof u){for(s in u)o.attr(s,u[s]);return o}if(r=o.attributes){if(void 0!==f){if(null===f){if(u in r.map)for(delete r.map[u],s=r.length;s--;)if(r[s].name===u)return r=r.splice(s,1),o;return o}if(u in r.map){for(s=r.length;s--;)if(r[s].name===u){r[s].value=f;break}}else r.push({name:u,value:f});return r.map[u]=f,o}return r.map[u]}},clone:function(){var o,r,s,a,n,u=this,f=new c(u.name,u.type);if(s=u.attributes){for((n=[]).map={},o=0,r=s.length;o<r;o++)"id"!==(a=s[o]).name&&(n[n.length]={name:a.name,value:a.value},n.map[a.name]=a.value);f.attributes=n}return f.value=u.value,f.shortEnded=u.shortEnded,f},wrap:function(u){var f=this;return f.parent.insert(u,f),u.append(f),f},unwrap:function(){var f,o,u=this;for(f=u.firstChild;f;)o=f.next,u.insert(f,u,!0),f=o;u.remove()},remove:function(){var u=this,f=u.parent,o=u.next,r=u.prev;return f&&(f.firstChild===u?(f.firstChild=o,o&&(o.prev=null)):r.next=o,f.lastChild===u?(f.lastChild=r,r&&(r.next=null)):o.prev=r,u.parent=u.next=u.prev=null),u},append:function(u){var o,f=this;return u.parent&&u.remove(),(o=f.lastChild)?(o.next=u,u.prev=o,f.lastChild=u):f.lastChild=f.firstChild=u,u.parent=f,u},insert:function(u,f,o){var r;return u.parent&&u.remove(),r=f.parent||this,o?(f===r.firstChild?r.firstChild=u:f.prev.next=u,u.prev=f.prev,u.next=f,f.prev=u):(f===r.lastChild?r.lastChild=u:f.next.prev=u,u.next=f.next,u.prev=f,f.next=u),u.parent=r,u},getAll:function(u){var o,r=[];for(o=this.firstChild;o;o=C(o,this))o.name===u&&r.push(o);return r},empty:function(){var f,o,r,u=this;if(u.firstChild){for(f=[],r=u.firstChild;r;r=C(r,u))f.push(r);for(o=f.length;o--;)(r=f[o]).parent=r.firstChild=r.lastChild=r.next=r.prev=null}return u.firstChild=u.lastChild=null,u},isEmpty:function(u,f){var s,a,r=this.firstChild;if(f=f||{},r)do{if(1===r.type){if(r.attributes.map["data-mce-bogus"])continue;if(u[r.name])return!1;for(s=r.attributes.length;s--;)if("name"===(a=r.attributes[s].name)||0===a.indexOf("data-mce-bookmark"))return!1}if(8===r.type||3===r.type&&!T.test(r.value)||3===r.type&&r.parent&&f[r.parent.name]&&T.test(r.value))return!1}while(r=C(r,this));return!0},walk:function(u){return C(this,null,u)}},c.create=function(l,u){var f,o;if(f=new c(l,S[l]||1),u)for(o in u)f.attr(o,u[o]);return f},c}),V("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],function(T,S,C){var c=C.each;function u(o,r,s){var n,p,k,x,a=1;for(x=o.getShortEndedElements(),(k=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=n=s;p=k.exec(r);){if(n=k.lastIndex,"/"===p[1])a--;else if(!p[1]){if(p[2]in x)continue;a++}if(0===a)break}return n}function f(o,r){var s=this;function a(){}o=o||{},s.schema=r=r||new T,!1!==o.fix_self_closing&&(o.fix_self_closing=!0),c("comment cdata text start end pi doctype".split(" "),function(n){n&&(s[n]=o[n]||a)}),s.parse=function(n){var k,y,h,m,i,e,d,v,t,g,w,E,A,R,N,_,P,M,D,U,L,B,I,q,G,ne,se,de,me,p=this,x=0,b=[],ue=0,Se=S.decode,X=C.makeMap("src,href,data,background,formaction,poster"),Z=/((java|vb)script|mhtml):/i,$=/^data:/i;function J(ye){var we,ae;for(we=b.length;we--&&b[we].name!==ye;);if(we>=0){for(ae=b.length-1;ae>=we;ae--)(ye=b[ae]).valid&&p.end(ye.name);b.length=we}}function re(ye,we,ae,oe,te){var Te,xe;if(ae=(we=we.toLowerCase())in w?we:Se(ae||oe||te||""),A&&!v&&!1===function(r){return 0===r.indexOf("data-")||0===r.indexOf("aria-")}(we)){if(!(Te=M[we])&&D){for(xe=D.length;xe--&&!(Te=D[xe]).pattern.test(we););-1===xe&&(Te=null)}if(!Te||Te.validValues&&!(ae in Te.validValues))return}if(X[we]&&!o.allow_script_urls){var ve=ae.replace(/[\s\u0000-\u001F]+/g,"");try{ve=decodeURIComponent(ve)}catch(Fe){ve=unescape(ve)}if(Z.test(ve)||!o.allow_html_data_urls&&$.test(ve)&&!/^data:image\//i.test(ve))return}m.map[we]=ae,m.push({name:we,value:ae})}for(G=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),ne=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,g=r.getShortEndedElements(),q=o.self_closing_elements||r.getSelfClosingElements(),w=r.getBoolAttrs(),A=o.validate,t=o.remove_internals,me=o.fix_self_closing,se=r.getSpecialElements(),I=n+">";k=G.exec(I);){if(x<k.index&&p.text(Se(n.substr(x,k.index-x))),y=k[6])":"===(y=y.toLowerCase()).charAt(0)&&(y=y.substr(1)),J(y);else if(y=k[7]){if(k.index+k[0].length>n.length){p.text(Se(n.substr(k.index))),x=k.index+k[0].length;continue}if(":"===(y=y.toLowerCase()).charAt(0)&&(y=y.substr(1)),E=y in g,me&&q[y]&&b.length>0&&b[b.length-1].name===y&&J(y),!A||(R=r.getElementRule(y))){if(N=!0,A&&(M=R.attributes,D=R.attributePatterns),(P=k[8])?((v=-1!==P.indexOf("data-mce-type"))&&t&&(N=!1),(m=[]).map={},P.replace(ne,re)):(m=[]).map={},A&&!v){if(U=R.attributesRequired,L=R.attributesDefault,R.removeEmptyAttrs&&!m.length&&(N=!1),B=R.attributesForced)for(i=B.length;i--;)"{$uid}"===(de=(_=B[i]).value)&&(de="mce_"+ue++),m.map[d=_.name]=de,m.push({name:d,value:de});if(L)for(i=L.length;i--;)(d=(_=L[i]).name)in m.map||("{$uid}"===(de=_.value)&&(de="mce_"+ue++),m.map[d]=de,m.push({name:d,value:de}));if(U){for(i=U.length;i--&&!(U[i]in m.map););-1===i&&(N=!1)}if(_=m.map["data-mce-bogus"]){if("all"===_){x=u(r,n,G.lastIndex),G.lastIndex=x;continue}N=!1}}N&&p.start(y,m,E)}else N=!1;if(h=se[y]){h.lastIndex=x=k.index+k[0].length,(k=h.exec(n))?(N&&(e=n.substr(x,k.index-x)),x=k.index+k[0].length):(e=n.substr(x),x=n.length),N&&(e.length>0&&p.text(e,!0),p.end(y)),G.lastIndex=x;continue}E||(P&&P.indexOf("/")==P.length-1?N&&p.end(y):b.push({name:y,valid:N}))}else(y=k[1])?(">"===y.charAt(0)&&(y=" "+y),!o.allow_conditional_comments&&"[if"===y.substr(0,3).toLowerCase()&&(y=" "+y),p.comment(y)):(y=k[2])?p.cdata(y):(y=k[3])?p.doctype(y):(y=k[4])&&p.pi(y,k[5]);x=k.index+k[0].length}for(x<n.length&&p.text(Se(n.substr(x))),i=b.length-1;i>=0;i--)(y=b[i]).valid&&p.end(y.name)}}return f.findEndTag=u,f}),V("tinymce.core.html.DomParser",["tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.util.Tools"],function(T,S,C,c){var l=c.makeMap,u=c.each,f=c.explode,o=c.extend,r=function(n,p){n.padd_empty_with_br?p.empty().append(new T("br","1")).shortEnded=!0:p.empty().append(new T("#text","3")).value="\xa0"},s=function(n,p){return n&&n.firstChild===n.lastChild&&n.firstChild.name===p};return function(a,n){var p=this,k={},x=[],y={},h={};(a=a||{}).validate=!("validate"in a)||a.validate,a.root_name=a.root_name||"body",p.schema=n=n||new S,p.filterNode=function(m){var i,e,d;for((e in k&&((d=y[e])?d.push(m):y[e]=[m]),i=x.length);i--;)(e=x[i].name)in m.attributes.map&&((d=h[e])?d.push(m):h[e]=[m]);return m},p.addNodeFilter=function(m,i){u(f(m),function(e){var d=k[e];d||(k[e]=d=[]),d.push(i)})},p.addAttributeFilter=function(m,i){u(f(m),function(e){var d;for(d=0;d<x.length;d++)if(x[d].name===e)return void x[d].callbacks.push(i);x.push({name:e,callbacks:[i]})})},p.parse=function(m,i){var e,d,v,t,g,w,E,A,R,N,_,P,M,U,L,B,I,F,q,G,ne,D=[];function de(me,X){var $,Z=new T(me,X);return me in k&&(($=y[me])?$.push(Z):y[me]=[Z]),Z}function ue(me){var X,Z,$,J,re=n.getBlockElements();for(X=me.prev;X&&3===X.type;){if(($=X.value.replace(L,"")).length>0)return void(X.value=$);if(Z=X.next){if(3==Z.type&&Z.value.length){X=X.prev;continue}if(!re[Z.name]&&"script"!=Z.name&&"style"!=Z.name){X=X.prev;continue}}J=X.prev,X.remove(),X=J}}if(i=i||{},y={},h={},P=o(l("script,style,head,html,body,title,meta,param"),n.getBlockElements()),G=n.getNonEmptyElements(),q=n.children,_=a.validate,ne="forced_root_block"in i?i.forced_root_block:a.forced_root_block,F=n.getWhiteSpaceElements(),M=/^[ \t\r\n]+/,L=/[ \t\r\n]+$/,B=/[ \t\r\n]+/g,I=/^[ \t\r\n]+$/,e=new C({validate:_,allow_script_urls:a.allow_script_urls,allow_conditional_comments:a.allow_conditional_comments,self_closing_elements:function Se(me){var X,Z={};for(X in me)"li"!==X&&"p"!=X&&(Z[X]=me[X]);return Z}(n.getSelfClosingElements()),cdata:function(X){v.append(de("#cdata",4)).value=X},text:function(X,Z){var $;U||(X=X.replace(B," "),v.lastChild&&P[v.lastChild.name]&&(X=X.replace(M,""))),0!==X.length&&(($=de("#text",3)).raw=!!Z,v.append($).value=X)},comment:function(X){v.append(de("#comment",8)).value=X},pi:function(X,Z){v.append(de(X,7)).value=Z,ue(v)},doctype:function(X){v.append(de("#doctype",10)).value=X,ue(v)},start:function(X,Z,$){var J,re,ye,we,ae;if(ye=_?n.getElementRule(X):{}){for((J=de(ye.outputName||X,1)).attributes=Z,J.shortEnded=$,v.append(J),(ae=q[v.name])&&q[J.name]&&!ae[J.name]&&D.push(J),re=x.length;re--;)(we=x[re].name)in Z.map&&((R=h[we])?R.push(J):h[we]=[J]);P[X]&&ue(J),$||(v=J),!U&&F[X]&&(U=!0)}},end:function(X){var Z,$,J,re,ye;if($=_?n.getElementRule(X):{}){if(P[X]&&!U){if((Z=v.firstChild)&&3===Z.type)if((J=Z.value.replace(M,"")).length>0)Z.value=J,Z=Z.next;else for(re=Z.next,Z.remove(),Z=re;Z&&3===Z.type;)re=Z.next,(0===(J=Z.value).length||I.test(J))&&(Z.remove(),Z=re),Z=re;if((Z=v.lastChild)&&3===Z.type)if((J=Z.value.replace(L,"")).length>0)Z.value=J,Z=Z.prev;else for(re=Z.prev,Z.remove(),Z=re;Z&&3===Z.type;)re=Z.prev,(0===(J=Z.value).length||I.test(J))&&(Z.remove(),Z=re),Z=re}if(U&&F[X]&&(U=!1),($.removeEmpty||$.paddEmpty)&&v.isEmpty(G,F))if($.paddEmpty)r(a,v);else if(!v.attributes.map.name&&!v.attributes.map.id)return ye=v.parent,P[v.name]?v.empty().remove():v.unwrap(),void(v=ye);v=v.parent}}},n),d=v=new T(i.context||a.root_name,11),e.parse(m),_&&D.length&&(i.context?i.invalid=!0:function b(m){var i,e,d,v,t,g,w,E,A,R,N,_,P,M,D,U;for(_=l("tr,td,th,tbody,thead,tfoot,table"),R=n.getNonEmptyElements(),N=n.getWhiteSpaceElements(),P=n.getTextBlockElements(),M=n.getSpecialElements(),i=0;i<m.length;i++)if((e=m[i]).parent&&!e.fixed){if(P[e.name]&&"li"==e.parent.name){for(D=e.next;D&&P[D.name];)D.name="li",D.fixed=!0,e.parent.insert(D,e.parent),D=D.next;e.unwrap(e);continue}for(v=[e],d=e.parent;d&&!n.isValidChild(d.name,e.name)&&!_[d.name];d=d.parent)v.push(d);if(d&&v.length>1){for(v.reverse(),t=g=p.filterNode(v[0].clone()),A=0;A<v.length-1;A++){for(n.isValidChild(g.name,v[A].name)?(w=p.filterNode(v[A].clone()),g.append(w)):w=g,E=v[A].firstChild;E&&E!=v[A+1];)U=E.next,w.append(E),E=U;g=w}t.isEmpty(R,N)?d.insert(e,v[0],!0):(d.insert(t,v[0],!0),d.insert(e,t)),((d=v[0]).isEmpty(R,N)||s(d,"br"))&&d.empty().remove()}else if(e.parent){if("li"===e.name){if((D=e.prev)&&("ul"===D.name||"ul"===D.name)){D.append(e);continue}if((D=e.next)&&("ul"===D.name||"ul"===D.name)){D.insert(e,D.firstChild,!0);continue}e.wrap(p.filterNode(new T("ul",1)));continue}n.isValidChild(e.parent.name,"div")&&n.isValidChild("div",e.name)?e.wrap(p.filterNode(new T("div",1))):M[e.name]?e.empty().remove():e.unwrap()}}}(D)),ne&&("body"==d.name||i.isRootContent)&&function se(){var X,Z,me=d.firstChild;function $(J){J&&((me=J.firstChild)&&3==me.type&&(me.value=me.value.replace(M,"")),(me=J.lastChild)&&3==me.type&&(me.value=me.value.replace(L,"")))}if(n.isValidChild(d.name,ne.toLowerCase())){for(;me;)X=me.next,3==me.type||1==me.type&&"p"!==me.name&&!P[me.name]&&!me.attr("data-mce-type")?(Z||((Z=de(ne,1)).attr(a.forced_root_block_attrs),d.insert(Z,me)),Z.append(me)):($(Z),Z=null),me=X;$(Z)}}(),!i.invalid){for(N in y){for(R=k[N],E=(t=y[N]).length;E--;)t[E].parent||t.splice(E,1);for(g=0,w=R.length;g<w;g++)R[g](t,N,i)}for(g=0,w=x.length;g<w;g++)if((R=x[g]).name in h){for(E=(t=h[R.name]).length;E--;)t[E].parent||t.splice(E,1);for(E=0,A=R.callbacks.length;E<A;E++)R.callbacks[E](t,R.name,i)}}return d},a.remove_trailing_brs&&p.addNodeFilter("br",function(m){var i,d,g,w,E,A,N,_,e=m.length,v=o({},n.getBlockElements()),t=n.getNonEmptyElements(),R=n.getNonEmptyElements();for(v.body=1,i=0;i<e;i++)if(g=(d=m[i]).parent,v[d.parent.name]&&d===g.lastChild){for(E=d.prev;E;){if("span"!==(A=E.name)||"bookmark"!==E.attr("data-mce-type")){if("br"!==A)break;if("br"===A){d=null;break}}E=E.prev}d&&(d.remove(),g.isEmpty(t,R)&&(N=n.getElementRule(g.name))&&(N.removeEmpty?g.remove():N.paddEmpty&&r(a,g)))}else{for(w=d;g&&g.firstChild===w&&g.lastChild===w&&(w=g,!v[g.name]);)g=g.parent;w===g&&!0!==a.padd_empty_with_br&&((_=new T("#text",3)).value="\xa0",d.replace(_))}}),a.allow_unsafe_link_target||p.addAttributeFilter("href",function(m){for(var e,i=m.length;i--;)"a"===(e=m[i]).name&&"_blank"===e.attr("target")&&e.attr("rel",(void 0,w=(g=e.attr("rel"))?c.trim(g):"",/\b(noopener)\b/g.test(w)?w:function(g){return g.split(" ").filter(function(E){return E.length>0}).concat(["noopener"]).join(" ")}(w)));var g,w}),a.allow_html_in_named_anchor||p.addAttributeFilter("id,name",function(m){for(var e,d,v,t,i=m.length;i--;)if("a"===(t=m[i]).name&&t.firstChild&&!t.attr("href")){v=t.parent,e=t.lastChild;do{d=e.prev,v.insert(e,t),e=d}while(e)}}),a.fix_list_elements&&p.addNodeFilter("ul,ol",function(m){for(var e,d,i=m.length;i--;)if("ul"===(d=(e=m[i]).parent).name||"ol"===d.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var v=new T("li",1);v.attr("style","list-style-type: none"),e.wrap(v)}}),a.validate&&n.getValidClasses()&&p.addAttributeFilter("class",function(m){for(var e,d,v,t,g,E,A,i=m.length,w=n.getValidClasses();i--;){for(d=(e=m[i]).attr("class").split(" "),g="",v=0;v<d.length;v++)t=d[v],A=!1,(E=w["*"])&&E[t]&&(A=!0),E=w[e.name],!A&&E&&E[t]&&(A=!0),A&&(g&&(g+=" "),g+=t);g.length||(g=null),e.attr("class",g)}})}}),V("tinymce.core.html.Writer",["tinymce.core.html.Entities","tinymce.core.util.Tools"],function(T,S){var C=S.makeMap;return function(c){var u,f,o,r,s,l=[];return u=(c=c||{}).indent,f=C(c.indent_before||""),o=C(c.indent_after||""),r=T.getEncodeFunc(c.entity_encoding||"raw",c.entities),s="html"==c.element_format,{start:function(n,p,k){var x,y,h,b;if(u&&f[n]&&l.length>0&&(b=l[l.length-1]).length>0&&"\n"!==b&&l.push("\n"),l.push("<",n),p)for(x=0,y=p.length;x<y;x++)l.push(" ",(h=p[x]).name,'="',r(h.value,!0),'"');l[l.length]=!k||s?">":" />",k&&u&&o[n]&&l.length>0&&(b=l[l.length-1]).length>0&&"\n"!==b&&l.push("\n")},end:function(n){var p;l.push("</",n,">"),u&&o[n]&&l.length>0&&(p=l[l.length-1]).length>0&&"\n"!==p&&l.push("\n")},text:function(n,p){n.length>0&&(l[l.length]=p?n:r(n))},cdata:function(n){l.push("<![CDATA[",n,"]]>")},comment:function(n){l.push("\x3c!--",n,"--\x3e")},pi:function(n,p){p?l.push("<?",n," ",r(p),"?>"):l.push("<?",n,"?>"),u&&l.push("\n")},doctype:function(n){l.push("<!DOCTYPE",n,">",u?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),V("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],function(T,S){return function(C,c){var l=this,u=new T(C);(C=C||{}).validate=!("validate"in C)||C.validate,l.schema=c=c||new S,l.writer=u,l.serialize=function(f){var o,r;function s(a){var p,k,x,y,h,b,m,i,e,n=o[a.type];if(n)n(a);else{if(p=a.name,k=a.shortEnded,x=a.attributes,r&&x&&x.length>1&&((b=[]).map={},e=c.getElementRule(a.name))){for(m=0,i=e.attributesOrder.length;m<i;m++)(y=e.attributesOrder[m])in x.map&&(b.map[y]=h=x.map[y],b.push({name:y,value:h}));for(m=0,i=x.length;m<i;m++)(y=x[m].name)in b.map||(b.map[y]=h=x.map[y],b.push({name:y,value:h}));x=b}if(u.start(a.name,x,k),!k){if(a=a.firstChild)do{s(a)}while(a=a.next);u.end(p)}}}return r=C.validate,o={3:function(n){u.text(n.value,n.raw)},8:function(n){u.comment(n.value)},7:function(n){u.pi(n.name,n.value)},10:function(n){u.doctype(n.value)},4:function(n){u.cdata(n.value)},11:function(n){if(n=n.firstChild)do{s(n)}while(n=n.next)}},u.reset(),1!=f.type||C.inner?o[11](f):s(f),u.getContent()}}}),V("tinymce.core.dom.Serializer",["tinymce.core.dom.DOMUtils","tinymce.core.html.DomParser","tinymce.core.html.SaxParser","tinymce.core.html.Entities","tinymce.core.html.Serializer","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.text.Zwsp"],function(T,S,C,c,l,u,f,o,r,s){var a=r.each,n=r.trim,p=T.DOM;return function(x,y){var h,b,m,i=["data-mce-selected"];function e(g){var w=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+i.join("|")+')="[^"]+"'].join("|"),"gi");return s.trim(g.replace(w,""))}function d(g){var A,R,N,_,P,w=g,E=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,M=y.schema;for(w=e(w),P=M.getShortEndedElements();_=E.exec(w);)R=E.lastIndex,N=_[0].length,A=P[_[1]]?R:C.findEndTag(M,w,R),w=w.substring(0,R-N)+w.substring(A),E.lastIndex=R-N;return w}return y&&(h=y.dom,b=y.schema),h=h||p,b=b||new f(x),x.entity_encoding=x.entity_encoding||"named",x.remove_trailing_brs=!("remove_trailing_brs"in x)||x.remove_trailing_brs,(m=new S(x,b)).addAttributeFilter("data-mce-tabindex",function(g,w){for(var A,E=g.length;E--;)(A=g[E]).attr("tabindex",A.attributes.map["data-mce-tabindex"]),A.attr(w,null)}),m.addAttributeFilter("src,href,style",function(g,w){for(var A,R,E=g.length,N="data-mce-"+w,_=x.url_converter,P=x.url_converter_scope;E--;)void 0!==(R=(A=g[E]).attributes.map[N])?(A.attr(w,R.length>0?R:null),A.attr(N,null)):(R=A.attributes.map[w],"style"===w?R=h.serializeStyle(h.parseStyle(R),A.name):_&&(R=_.call(P,R,w,A.name)),A.attr(w,R.length>0?R:null))}),m.addAttributeFilter("class",function(g){for(var E,A,w=g.length;w--;)(A=(E=g[w]).attr("class"))&&(A=E.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),E.attr("class",A.length>0?A:null))}),m.addAttributeFilter("data-mce-type",function(g,w,E){for(var R,A=g.length;A--;)"bookmark"===(R=g[A]).attributes.map["data-mce-type"]&&!E.cleanup&&R.remove()}),m.addNodeFilter("noscript",function(g){for(var E,w=g.length;w--;)(E=g[w].firstChild)&&(E.value=c.decode(E.value))}),m.addNodeFilter("script,style",function(g,w){var A,R,N,E=g.length;function _(P){return P.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(;E--;)R=(A=g[E]).firstChild?A.firstChild.value:"","script"===w?((N=A.attr("type"))&&A.attr("type","mce-no/type"==N?null:N.replace(/^mce\-/,"")),R.length>0&&(A.firstChild.value="// <![CDATA[\n"+_(R)+"\n// ]]>")):R.length>0&&(A.firstChild.value="\x3c!--\n"+_(R)+"\n--\x3e")}),m.addNodeFilter("#comment",function(g){for(var E,w=g.length;w--;)0===(E=g[w]).value.indexOf("[CDATA[")?(E.name="#cdata",E.type=4,E.value=E.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===E.value.indexOf("mce:protected ")&&(E.name="#text",E.type=3,E.raw=!0,E.value=unescape(E.value).substr(14))}),m.addNodeFilter("xml:namespace,input",function(g,w){for(var A,E=g.length;E--;)7===(A=g[E]).type?A.remove():1===A.type&&"input"===w&&!("type"in A.attributes.map)&&A.attr("type","text")}),m.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(g,w){for(var E=g.length;E--;)g[E].attr(w,null)}),{schema:b,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:function(w,E){var R,N,_,P,M,D;return o.ie&&h.select("script,style,select,map").length>0?(M=w.innerHTML,w=w.cloneNode(!1),h.setHTML(w,M)):w=w.cloneNode(!0),(R=document.implementation).createHTMLDocument&&(N=R.createHTMLDocument(""),a("BODY"==w.nodeName?w.childNodes:[w],function(U){N.body.appendChild(N.importNode(U,!0))}),w="BODY"!=w.nodeName?N.body.firstChild:N.body,_=h.doc,h.doc=N),(E=E||{}).format=E.format||"html",E.selection&&(E.forced_root_block=""),E.no_events||(E.node=w,this.onPreProcess(E)),function k(x){var y,h;function b(m){return m&&"br"===m.name}b(y=x.lastChild)&&b(h=y.prev)&&(y.remove(),h.remove())}(D=m.parse(n(E.getInner?w.innerHTML:h.getOuterHTML(w)),E)),P=new l(x,b),E.content=P.serialize(D),E.cleanup||(E.content=s.trim(E.content),E.content=E.content.replace(/\uFEFF/g,"")),E.no_events||this.onPostProcess(E),_&&(h.doc=_),E.node=null,E.content},addRules:function(w){b.addValidElements(w)},setRules:function(w){b.setValidElements(w)},onPreProcess:function(w){y&&y.fire("PreProcess",w)},onPostProcess:function(w){y&&y.fire("PostProcess",w)},addTempAttr:function t(g){-1===r.inArray(i,g)&&(m.addAttributeFilter(g,function(w,E){for(var A=w.length;A--;)w[A].attr(E,null)}),i.push(g))},trimHtml:e,getTrimmedContent:function v(){return d(y.getBody().innerHTML)},trimContent:d}}}),V("tinymce.core.util.VK",["tinymce.core.Env"],function(T){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(C){return C.shiftKey||C.ctrlKey||C.altKey||this.metaKeyPressed(C)},metaKeyPressed:function(C){return T.mac?C.metaKey:C.ctrlKey&&!C.altKey}}}),V("tinymce.core.dom.ControlSelection",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.Env","tinymce.core.dom.NodeType"],function(T,S,C,c,l){var u=l.isContentEditableFalse,f=l.isContentEditableTrue;return function(r,s){var p,k,x,y,h,b,m,i,e,d,v,t,g,w,E,A,U,L,a=s.dom,n=S.each,R=s.getDoc(),N=document,_=c.ie&&c.ie<11,P=Math.abs,M=Math.round,D=s.getBody();y={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var B=".mce-content-body";function I(ae){var oe=s.settings.object_resizing;return!1!==oe&&!c.iOS&&("string"!=typeof oe&&(oe="table,img,div"),"false"!==ae.getAttribute("data-mce-resize"))&&ae!=s.getBody()&&s.dom.is(ae,oe)}function F(ae){var oe,te,xe,Ae;E=(E=(oe=ae.screenX-m)*h[2]+v)<5?5:E,A=(A=(te=ae.screenY-i)*h[3]+t)<5?5:A,("IMG"==p.nodeName&&!1!==s.settings.resize_img_proportional?!T.modifierPressed(ae):T.modifierPressed(ae)||"IMG"==p.nodeName&&h[2]*h[3]!=0)&&(P(oe)>P(te)?(A=M(E*g),E=M(A/g)):(E=M(A/g),A=M(E*g))),a.setStyles(k,{width:E,height:A}),a.setStyles(x,{left:xe=(xe=h.startPos.x+oe)>0?xe:0,top:Ae=(Ae=h.startPos.y+te)>0?Ae:0,display:"block"}),x.innerHTML=E+" &times; "+A,h[2]<0&&k.clientWidth<=E&&a.setStyle(k,"left",e+(v-E)),h[3]<0&&k.clientHeight<=A&&a.setStyle(k,"top",d+(t-A)),(oe=D.scrollWidth-U)+(te=D.scrollHeight-L)!=0&&a.setStyles(x,{left:xe-oe,top:Ae-te}),w||(s.fire("ObjectResizeStart",{target:p,width:v,height:t}),w=!0)}function q(){function ae(oe,te){te&&(p.style[oe]||!s.schema.isValid(p.nodeName.toLowerCase(),oe)?a.setStyle(p,oe,te):a.setAttrib(p,oe,te))}w=!1,ae("width",E),ae("height",A),a.unbind(R,"mousemove",F),a.unbind(R,"mouseup",q),N!=R&&(a.unbind(N,"mousemove",F),a.unbind(N,"mouseup",q)),a.remove(k),a.remove(x),(!_||"TABLE"==p.nodeName)&&G(p),s.fire("ObjectResized",{target:p,width:E,height:A}),a.setAttrib(p,"style",a.getAttrib(p,"style")),s.nodeChanged()}function G(ae,oe,te){var Te,xe,Ae,ve,Fe;ne(),J(),Te=a.getPos(ae,D),e=Te.x,d=Te.y,Fe=ae.getBoundingClientRect(),xe=Fe.width||Fe.right-Fe.left,Ae=Fe.height||Fe.bottom-Fe.top,p!=ae&&($(),p=ae,E=A=0),ve=s.fire("ObjectSelected",{target:ae}),I(ae)&&!ve.isDefaultPrevented()?n(y,function(Ue,Ve){var K;function fe(Ee){m=Ee.screenX,i=Ee.screenY,g=(t=p.clientHeight)/(v=p.clientWidth),h=Ue,Ue.startPos={x:xe*Ue[0]+e,y:Ae*Ue[1]+d},U=D.scrollWidth,L=D.scrollHeight,k=p.cloneNode(!0),a.addClass(k,"mce-clonedresizable"),a.setAttrib(k,"data-mce-bogus","all"),k.contentEditable=!1,k.unSelectabe=!0,a.setStyles(k,{left:e,top:d,margin:0}),k.removeAttribute("data-mce-selected"),D.appendChild(k),a.bind(R,"mousemove",F),a.bind(R,"mouseup",q),N!=R&&(a.bind(N,"mousemove",F),a.bind(N,"mouseup",q)),x=a.add(D,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},v+" &times; "+t)}oe?Ve==oe&&fe(te):((K=a.get("mceResizeHandle"+Ve))&&a.remove(K),K=a.add(D,"div",{id:"mceResizeHandle"+Ve,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ve+"-resize; margin:0; padding:0"}),c.ie&&(K.contentEditable=!1),a.bind(K,"mousedown",function(Ee){Ee.stopImmediatePropagation(),Ee.preventDefault(),fe(Ee)}),Ue.elm=K,a.setStyles(K,{left:xe*Ue[0]+e-K.offsetWidth/2,top:Ae*Ue[1]+d-K.offsetHeight/2}))}):ne(),p.setAttribute("data-mce-selected","1")}function ne(){var ae,oe;for(ae in J(),p&&p.removeAttribute("data-mce-selected"),y)(oe=a.get("mceResizeHandle"+ae))&&(a.unbind(oe),a.remove(oe))}function se(ae){var oe,te;function Te(xe,Ae){if(xe)do{if(xe===Ae)return!0}while(xe=xe.parentNode)}if(!w&&!s.removed){if(n(a.select("img[data-mce-selected],hr[data-mce-selected]"),function(xe){xe.removeAttribute("data-mce-selected")}),te="mousedown"==ae.type?ae.target:r.getNode(),Te(te=a.$(te).closest(_?"table":"table,img,hr")[0],D)&&(re(),Te(oe=r.getStart(!0),te)&&Te(r.getEnd(!0),te)&&(!_||te!=oe&&"IMG"!==oe.nodeName)))return void G(te);ne()}}function de(ae,oe,te){ae&&ae.attachEvent&&ae.attachEvent("on"+oe,te)}function ue(ae,oe,te){ae&&ae.detachEvent&&ae.detachEvent("on"+oe,te)}function Se(ae){var te,Te,xe,ve,Fe,Ue,oe=ae.srcElement;for(Te in te=oe.getBoundingClientRect(),Fe=b.clientX-te.left,Ue=b.clientY-te.top,y)if(ve=oe.offsetHeight*(xe=y[Te])[1],P(oe.offsetWidth*xe[0]-Fe)<8&&P(ve-Ue)<8){h=xe;break}w=!0,s.fire("ObjectResizeStart",{target:p,width:p.clientWidth,height:p.clientHeight}),s.getDoc().selection.empty(),G(oe,Te,b)}function X(ae){return u(function o(r,s){for(;s&&s!=r;){if(f(s)||u(s))return s;s=s.parentNode}return null}(s.getBody(),ae))}function Z(ae){var oe=ae.srcElement;if(X(oe))!function me(ae){ae.preventDefault?ae.preventDefault():ae.returnValue=!1}(ae);else if(oe!=p){if(s.fire("ObjectSelected",{target:oe}),$(),0===oe.id.indexOf("mceResizeHandle"))return void(ae.returnValue=!1);("IMG"==oe.nodeName||"TABLE"==oe.nodeName)&&(ne(),p=oe,de(oe,"resizestart",Se))}}function $(){ue(p,"resizestart",Se)}function J(){for(var ae in y){var oe=y[ae];oe.elm&&(a.unbind(oe.elm),delete oe.elm)}}function re(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(ae){}}function ye(ae){var oe;if(_){oe=R.body.createControlRange();try{return oe.addElement(ae),oe.select(),!0}catch(te){}}}return s.contentStyles.push(B+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+B+" .mce-resizehandle:hover {background: #000}"+B+" img[data-mce-selected],"+B+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+B+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+B+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){_?(s.on("ObjectResized",function(oe){"TABLE"!=oe.target.nodeName&&(ne(),ye(oe.target))}),de(D,"controlselect",Z),s.on("mousedown",function(oe){b=oe})):(re(),c.ie>=11&&(s.on("mousedown click",function(oe){var te=oe.target,Te=te.nodeName;!w&&/^(TABLE|IMG|HR)$/.test(Te)&&!X(te)&&(s.selection.select(te,"TABLE"==Te),"mousedown"==oe.type&&s.nodeChanged())}),s.dom.bind(D,"mscontrolselect",function(oe){function te(Te){C.setEditorTimeout(s,function(){s.selection.select(Te)})}if(X(oe.target))return oe.preventDefault(),void te(oe.target);/^(TABLE|IMG|HR)$/.test(oe.target.nodeName)&&(oe.preventDefault(),"IMG"==oe.target.tagName&&te(oe.target))})));var ae=C.throttle(function(oe){s.composing||se(oe)});s.on("nodechange ResizeEditor ResizeWindow drop",ae),s.on("keyup compositionend",function(oe){p&&"TABLE"==p.nodeName&&ae(oe)}),s.on("hide blur",ne)}),s.on("remove",J),{isResizable:I,showResizeRect:G,hideResizeRect:ne,updateResizeRect:se,controlSelect:ye,destroy:function we(){p=k=null,_&&($(),ue(D,"controlselect",Z))}}}}),V("tinymce.core.util.Fun",[],function(){var T=[].slice;return{constant:function S(r){return function(){return r}},negate:function C(r){return function(s){return!r(s)}},and:function u(){var r=T.call(arguments);return function(s){for(var a=0;a<r.length;a++)if(!r[a](s))return!1;return!0}},or:function l(){var r=T.call(arguments);return function(s){for(var a=0;a<r.length;a++)if(r[a](s))return!0;return!1}},curry:function f(r){var s=T.call(arguments);return s.length-1>=r.length?r.apply(this,s.slice(1)):function(){var a=s.concat([].slice.call(arguments));return f.apply(this,a)}},compose:function c(r,s){return function(a){return r(s(a))}},noop:function o(){}}}),V("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],function(T,S,C){var c=T.isContentEditableTrue,l=T.isContentEditableFalse,u=T.isBr,f=T.isText,o=T.matchNodeNames("script style textarea"),r=T.matchNodeNames("img input textarea hr iframe video audio object"),s=T.matchNodeNames("table"),a=C.isCaretContainer;function n(h){return!a(h)&&(f(h)?!o(h.parentNode):r(h)||u(h)||s(h)||l(h))}function p(h,b){for(h=h.parentNode;h&&h!=b;h=h.parentNode){if(l(h))return!1;if(c(h))return!0}return!0}return{isCaretCandidate:n,isInEditable:p,isAtomic:function x(h){return r(h)||function k(h){return!!l(h)&&!0!==S.reduce(h.getElementsByTagName("*"),function(b,m){return b||c(m)},!1)}(h)},isEditableCaretCandidate:function y(h,b){return n(h)&&p(h,b)}}}),V("tinymce.core.geom.ClientRect",[],function(){var T=Math.round;function S(n){return n?{left:T(n.left),top:T(n.top),bottom:T(n.bottom),right:T(n.right),width:T(n.width),height:T(n.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function l(n,p,k){return n>=0&&n<=Math.min(p.height,k.height)/2}function u(n,p){return n.bottom-n.height/2<p.top||!(n.top>p.bottom)&&l(p.top-n.bottom,n,p)}function f(n,p){return n.top>p.bottom||!(n.bottom<p.top)&&l(p.bottom-n.top,n,p)}function o(n,p){return n.left<p.left}function r(n,p){return n.right>p.right}return{clone:S,collapse:function C(n,p){return n=S(n),p||(n.left=n.left+n.width),n.right=n.left,n.width=0,n},isEqual:function c(n,p){return n.left===p.left&&n.top===p.top&&n.bottom===p.bottom&&n.right===p.right},isAbove:u,isBelow:f,isLeft:o,isRight:r,compare:function s(n,p){return u(n,p)?-1:f(n,p)?1:o(n,p)?-1:r(n,p)?1:0},containsXY:function a(n,p,k){return p>=n.left&&p<=n.right&&k>=n.top&&k<=n.bottom}}}),V("tinymce.core.text.ExtendingChar",[],function(){var T=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function S(C){return"string"==typeof C&&C.charCodeAt(0)>=768&&T.test(C)}}}),V("tinymce.core.caret.CaretPosition",["tinymce.core.util.Fun","tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.dom.RangeUtils","tinymce.core.caret.CaretCandidate","tinymce.core.geom.ClientRect","tinymce.core.text.ExtendingChar"],function(T,S,C,c,l,u,f){var o=S.isElement,r=l.isCaretCandidate,s=S.matchStyleValues("display","block table"),a=S.matchStyleValues("float","left right"),n=T.and(o,r,T.negate(a)),p=T.negate(S.matchStyleValues("white-space","pre pre-line pre-wrap")),k=S.isText,x=S.isBr,y=C.nodeIndex,h=c.getNode;function b(v){return"createRange"in v?v.createRange():C.DOM.createRng()}function m(v){return v&&/[\r\n\t ]/.test(v)}function i(v){var w,t=v.startContainer,g=v.startOffset;return!!(m(v.toString())&&p(t.parentNode)&&(w=t.data,m(w[g-1])||m(w[g+1])))}function d(v,t,g){function R(){return g||(g=function e(v){var g,w,t=[];function A(P){var M,D;return D=P.getClientRects(),M=u.clone(D.length>0?D[0]:P.getBoundingClientRect()),x(P)&&0===M.left?function E(P){var B,M=P.ownerDocument,D=b(M),U=M.createTextNode("\xa0"),L=P.parentNode;return L.insertBefore(U,P),D.setStart(U,0),D.setEnd(U,1),B=u.clone(D.getBoundingClientRect()),L.removeChild(U),B}(P):M}function R(P,M){return(P=u.collapse(P,M)).width=1,P.right=P.left+1,P}function N(P){0!==P.height&&(t.length>0&&u.isEqual(P,t[t.length-1])||t.push(P))}function _(P,M){var D=b(P.ownerDocument);if(M<P.data.length){if(f.isExtendingChar(P.data[M]))return t;if(f.isExtendingChar(P.data[M-1])&&(D.setStart(P,M),D.setEnd(P,M+1),!i(D)))return N(R(A(D),!1)),t}M>0&&(D.setStart(P,M-1),D.setEnd(P,M),i(D)||N(R(A(D),!1))),M<P.data.length&&(D.setStart(P,M),D.setEnd(P,M+1),i(D)||N(R(A(D),!0)))}if(k(v.container()))return _(v.container(),v.offset()),t;if(o(v.container()))if(v.isAtEnd())w=h(v.container(),v.offset()),k(w)&&_(w,w.data.length),n(w)&&!x(w)&&N(R(A(w),!1));else{if(w=h(v.container(),v.offset()),k(w)&&_(w,0),n(w)&&v.isAtEnd())return N(R(A(w),!1)),t;g=h(v.container(),v.offset()-1),n(g)&&!x(g)&&(s(g)||s(w)||!n(w))&&N(R(A(g),!1)),n(w)&&N(R(A(w),!0))}return t}(new d(v,t))),g}return{container:T.constant(v),offset:T.constant(t),toRange:function A(){var M;return(M=b(v.ownerDocument)).setStart(v,t),M.setEnd(v,t),M},getClientRects:R,isVisible:function N(){return R().length>0},isAtStart:function w(){return k(v),0===t},isAtEnd:function E(){return k(v)?t>=v.data.length:t>=v.childNodes.length},isEqual:function _(M){return M&&v===M.container()&&t===M.offset()},getNode:function P(M){return h(v,M?t-1:t)}}}return d.fromRangeStart=function(v){return new d(v.startContainer,v.startOffset)},d.fromRangeEnd=function(v){return new d(v.endContainer,v.endOffset)},d.after=function(v){return new d(v.parentNode,y(v)+1)},d.before=function(v){return new d(v.parentNode,y(v))},d.isAtStart=function(v){return!!v&&v.isAtStart()},d.isAtEnd=function(v){return!!v&&v.isAtEnd()},d.isTextPosition=function(v){return!!v&&S.isText(v.container())},d}),V("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],function(T,S,C,c,l){var u=T.isText,f=T.isBogus,o=S.nodeIndex;function r(i){var e=i.parentNode;return f(e)?r(e):e}function s(i){return i?c.reduce(i.childNodes,function(e,d){return f(d)&&"BR"!=d.nodeName?e=e.concat(s(d)):e.push(d),e},[]):[]}function n(i){return function(e){return i===e}}function p(i){var e,d,v;return e=s(r(i)),d=c.findIndex(e,n(i),i),e=e.slice(0,d+1),v=c.reduce(e,function(t,g,w){return u(g)&&u(e[w-1])&&t++,t},0),e=c.filter(e,T.matchNodeNames(i.nodeName)),(d=c.findIndex(e,n(i),i))-v}function k(i){return(u(i)?"text()":i.nodeName.toLowerCase())+"["+p(i)+"]"}return{create:function y(i,e){var d,v,g,w,E,t=[];return d=e.container(),v=e.offset(),u(d)?g=function a(i,e){for(;(i=i.previousSibling)&&u(i);)e+=i.data.length;return e}(d,v):(v>=(w=d.childNodes).length?(g="after",v=w.length-1):g="before",d=w[v]),t.push(k(d)),E=function x(i,e,d){var v=[];for(e=e.parentNode;!(e==i||d&&d(e));e=e.parentNode)v.push(e);return v}(i,d),E=c.filter(E,C.negate(T.isBogus)),(t=t.concat(c.map(E,function(A){return k(A)}))).reverse().join("/")+","+g},resolve:function m(i,e){var d,v,t;return e&&(d=e.split(","),e=d[0].split("/"),t=d.length>1?d[1]:"before",v=c.reduce(e,function(g,w){return(w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(w))?("text()"===w[1]&&(w[1]="#text"),function h(i,e,d){var v=s(i);return v=c.filter(v,function(t,g){return!u(t)||!u(v[g-1])}),(v=c.filter(v,T.matchNodeNames(e)))[d]}(g,w[1],parseInt(w[2],10))):null},i),v)?u(v)?function b(i,e){for(var t,d=i,v=0;u(d);){if(t=d.data.length,e>=v&&e<=v+t){i=d,e-=v;break}if(!u(d.nextSibling)){i=d,e=t;break}v+=t,d=d.nextSibling}return e>i.data.length&&(e=i.data.length),new l(i,e)}(v,parseInt(t,10)):(t="after"===t?o(v)+1:o(v),new l(v.parentNode,t)):null}}}),V("tinymce.core.dom.BookmarkManager",["tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f,o){var r=c.isContentEditableFalse;function a(n){var p=n.dom;this.getBookmark=function(k,x){var y,h,b,m,i,e,v,d="&#xFEFF;";function t(A,R){var N=0;return o.each(p.select(A),function(_){if("all"!==_.getAttribute("data-mce-bogus")){if(_==R)return!1;N++}}),N}function g(A){function R(N){var _,P,M,D=N?"start":"end";P=A[D+"Offset"],1==(_=A[D+"Container"]).nodeType&&"TR"==_.nodeName&&(_=(M=_.childNodes)[Math.min(N?P:P-1,M.length-1)])&&A["set"+(N?"Start":"End")](_,P=N?0:_.childNodes.length)}return R(!0),R(),A}if(2==k)return i=(e=n.getNode())?e.nodeName:null,y=n.getRng(),r(e)||"IMG"==i?{name:i,index:t(i,e)}:n.tridentSel?n.tridentSel.getBookmark(k):(e=function E(A){function R(N,_){var P;return c.isElement(N)&&(N=l.getNode(N,_),r(N))?N:S.isCaretContainer(N)&&(c.isText(N)&&S.isCaretContainerBlock(N)&&(N=N.parentNode),r(P=N.previousSibling)||r(P=N.nextSibling))?P:void 0}return R(A.startContainer,A.startOffset)||R(A.endContainer,A.endOffset)}(y))?{name:i=e.tagName,index:t(i,e)}:function w(A){var R=p.getRoot(),N={};function _(P,M){var B,D=P[M?"startContainer":"endContainer"],U=P[M?"startOffset":"endOffset"],L=[],I=0;for(3===D.nodeType?L.push(x?function(p,k){var x,y;for(y=f.trim(p.data.slice(0,k)).length,x=p.previousSibling;x&&3===x.nodeType;x=x.previousSibling)y+=f.trim(x.data).length;return y}(D,U):U):(U>=(B=D.childNodes).length&&B.length&&(I=1,U=Math.max(0,B.length-1)),L.push(p.nodeIndex(B[U],x)+I));D&&D!=R;D=D.parentNode)L.push(p.nodeIndex(D,x));return L}return N.start=_(A,!0),n.isCollapsed()||(N.end=_(A)),N}(y);if(3==k)return y=n.getRng(),{start:T.create(p.getRoot(),C.fromRangeStart(y)),end:T.create(p.getRoot(),C.fromRangeEnd(y))};if(k)return{rng:n.getRng()};if(y=n.getRng(),b=p.uniqueId(),m=n.isCollapsed(),v="overflow:hidden;line-height:0px",y.duplicate||y.item){if(y.item)return{name:i=(e=y.item(0)).nodeName,index:t(i,e)};h=y.duplicate();try{y.collapse(),y.pasteHTML('<span data-mce-type="bookmark" id="'+b+'_start" style="'+v+'">'+d+"</span>"),m||(h.collapse(!1),y.moveToElementText(h.parentElement()),0===y.compareEndPoints("StartToEnd",h)&&h.move("character",-1),h.pasteHTML('<span data-mce-type="bookmark" id="'+b+'_end" style="'+v+'">'+d+"</span>"))}catch(A){return null}}else{if("IMG"==(i=(e=n.getNode()).nodeName))return{name:i,index:t(i,e)};h=g(y.cloneRange()),m||(h.collapse(!1),h.insertNode(p.create("span",{"data-mce-type":"bookmark",id:b+"_end",style:v},d))),(y=g(y)).collapse(!0),y.insertNode(p.create("span",{"data-mce-type":"bookmark",id:b+"_start",style:v},d))}return n.moveToBookmark({id:b,keep:1}),{id:b}},this.moveToBookmark=function(k){var x,y,h,b,m,i;function e(g){var E,A,R,N,w=k[g?"start":"end"];if(w){for(R=w[0],A=y,E=w.length-1;E>=1;E--){if(w[E]>(N=A.childNodes).length-1)return;A=N[w[E]]}3===A.nodeType&&(R=Math.min(w[0],A.nodeValue.length)),1===A.nodeType&&(R=Math.min(w[0],A.childNodes.length)),g?x.setStart(A,R):x.setEnd(A,R)}return!0}function d(g){var E,A,R,N,w=p.get(k.id+"_"+g),_=k.keep;if(w&&(E=w.parentNode,"start"==g?(_?(E=w.firstChild,A=1):A=p.nodeIndex(w),h=b=E,m=i=A):(_?(E=w.firstChild,A=1):A=p.nodeIndex(w),b=E,i=A),!_)){for(N=w.previousSibling,R=w.nextSibling,o.each(o.grep(w.childNodes),function(P){3==P.nodeType&&(P.nodeValue=P.nodeValue.replace(/\uFEFF/g,""))});w=p.get(k.id+"_"+g);)p.remove(w,1);N&&R&&N.nodeType==R.nodeType&&3==N.nodeType&&!u.opera&&(A=N.nodeValue.length,N.appendData(R.nodeValue),p.remove(R),"start"==g?(h=b=N,m=i=A):(b=N,i=A))}}function v(g){return p.isBlock(g)&&!g.innerHTML&&!u.ie&&(g.innerHTML='<br data-mce-bogus="1" />'),g}if(k)if(o.isArray(k.start)){if(x=p.createRng(),y=p.getRoot(),n.tridentSel)return n.tridentSel.moveToBookmark(k);e(!0)&&e()&&n.setRng(x)}else"string"==typeof k.start?n.setRng(function t(){var g,w;return g=p.createRng(),w=T.resolve(p.getRoot(),k.start),g.setStart(w.container(),w.offset()),w=T.resolve(p.getRoot(),k.end),g.setEnd(w.container(),w.offset()),g}()):k.id?(d("start"),d("end"),h&&((x=p.createRng()).setStart(v(h),m),x.setEnd(v(b),i),n.setRng(x))):k.name?n.select(p.select(k.name)[k.index]):k.rng&&n.setRng(k.rng)}}return a.isBookmarkNode=function(n){return n&&"SPAN"===n.tagName&&"bookmark"===n.getAttribute("data-mce-type")},a}),V("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],function(T){var S=function(u){for(var f=0,o=0,r=u;r&&r.nodeType;)f+=r.offsetLeft||0,o+=r.offsetTop||0,r=r.offsetParent;return{x:f,y:o}};return{scrollIntoView:function(u,f,o){var r,s,p,k,a=u.dom,n=a.getRoot(),x=0;if(!function(u,f,o){var r={elm:f,alignToTop:o};return u.fire("scrollIntoView",r),r.isDefaultPrevented()}(u,f,o)&&T.isElement(f)){if(!1===o&&(x=f.offsetHeight),"BODY"!==n.nodeName){var y=u.selection.getScrollContainer();if(y)return r=S(f).y-S(y).y+x,k=y.clientHeight,void((r<(p=y.scrollTop)||r+25>p+k)&&(y.scrollTop=r<p?r:r-k+25))}s=a.getViewPort(u.getWin()),r=a.getPos(f).y+x,p=s.y,k=s.h,(r<s.y||r+25>p+k)&&u.getWin().scrollTo(0,r<p?r:r-k+25)}}}}),V("tinymce.core.dom.TridentSelection",[],function(){return function T(S){var C=this,c=S.dom;function u(o,r){var s,n,p,k,x,y,h,m,a=0,b=-1;if((s=o.duplicate()).collapse(r),(m=s.parentElement()).ownerDocument===S.dom.doc){for(;"false"===m.contentEditable;)m=m.parentNode;if(!m.hasChildNodes())return{node:m,inside:1};for(n=(k=m.children).length-1;a<=n;)if(h=Math.floor((a+n)/2),s.moveToElementText(x=k[h]),(b=s.compareEndPoints(r?"StartToStart":"EndToEnd",o))>0)n=h-1;else{if(!(b<0))return{node:x};a=h+1}if(b<0)for(x?s.collapse(!1):(s.moveToElementText(m),s.collapse(!0),x=m,p=!0),y=0;0!==s.compareEndPoints(r?"StartToStart":"StartToEnd",o)&&0!==s.move("character",1)&&m==s.parentElement();)y++;else for(s.collapse(!0),y=0;0!==s.compareEndPoints(r?"StartToStart":"StartToEnd",o)&&0!==s.move("character",-1)&&m==s.parentElement();)y++;return{node:x,position:b,offset:y,inside:p}}}this.getBookmark=function(o){var r=S.getRng(),s={};function a(p){var k,x,y,h,b=[];for(k=p.parentNode,x=c.getRoot().parentNode;k!=x&&9!==k.nodeType;){for(h=(y=k.children).length;h--;)if(p===y[h]){b.push(h);break}p=k,k=k.parentNode}return b}function n(p){var k;if(k=u(r,p))return{position:k.position,offset:k.offset,indexes:a(k.node),inside:k.inside}}return 2===o&&(r.item?s.start={ctrl:!0,indexes:a(r.item(0))}:(s.start=n(!0),S.isCollapsed()||(s.end=n()))),s},this.moveToBookmark=function(o){var r,s=c.doc.body;function a(p){var k,x,y,h;for(k=c.getRoot(),x=p.length-1;x>=0;x--)(y=p[x])<=(h=k.children).length-1&&(k=h[y]);return k}function n(p){var x,y,b,k=o[p?"start":"end"];k&&(x=k.position>0,(y=s.createTextRange()).moveToElementText(a(k.indexes)),void 0!==(b=k.offset)?(y.collapse(k.inside||x),y.moveStart("character",x?-b:b)):y.collapse(p),r.setEndPoint(p?"StartToStart":"EndToStart",y),p&&r.collapse(!0))}o.start&&(o.start.ctrl?((r=s.createControlRange()).addElement(a(o.start.indexes)),r.select()):(r=s.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(o){var r,s,a,n,p,k,x,b,m,y=S.dom.doc,h=y.body;function i(e){var d,v,t,g,w;t=c.create("a"),d=e?a:p,v=e?n:k,g=r.duplicate(),(d==y||d==y.documentElement)&&(d=h,v=0),3==d.nodeType?(d.parentNode.insertBefore(t,d),g.moveToElementText(t),g.moveStart("character",v),c.remove(t),r.setEndPoint(e?"StartToStart":"EndToEnd",g)):((w=d.childNodes).length?(v>=w.length?c.insertAfter(t,w[w.length-1]):d.insertBefore(t,w[v]),g.moveToElementText(t)):d.canHaveHTML&&(d.innerHTML="<span>&#xFEFF;</span>",g.moveToElementText(t=d.firstChild),g.collapse(!1)),r.setEndPoint(e?"StartToStart":"EndToEnd",g),c.remove(t))}if(a=o.startContainer,n=o.startOffset,p=o.endContainer,k=o.endOffset,r=h.createTextRange(),a==p&&1==a.nodeType){if(n==k&&!a.hasChildNodes()){if(a.canHaveHTML)return(x=a.previousSibling)&&!x.hasChildNodes()&&c.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,a.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",r.moveToElementText(a.lastChild),r.select(),c.doc.selection.clear(),a.innerHTML="",void(x&&(x.innerHTML=""));n=c.nodeIndex(a),a=a.parentNode}if(n==k-1)try{if(m=a.childNodes[n],(s=h.createControlRange()).addElement(m),s.select(),(b=S.getRng()).item&&m===b.item(0))return}catch(e){}}i(!0),i(),r.select()},this.getRangeAt=function f(){var s,a,n,p,k,o=S.getRng(),r=c.createRng();if((s=o.item?o.item(0):o.parentElement()).ownerDocument!=c.doc)return r;if(a=S.isCollapsed(),o.item)return r.setStart(s.parentNode,c.nodeIndex(s)),r.setEnd(r.startContainer,r.startOffset+1),r;function x(y){var b,m,e,v,h=u(o,y),i=0;if(b=h.node,m=h.offset,!h.inside||b.hasChildNodes())if(void 0!==m){if(h.position<0){if(!(e=h.inside?b.firstChild:b.nextSibling))return void r[y?"setStartAfter":"setEndAfter"](b);if(!m)return void(3==e.nodeType?r[y?"setStart":"setEnd"](e,0):r[y?"setStartBefore":"setEndBefore"](e));for(;e;){if(3==e.nodeType&&(i+=(v=e.nodeValue).length)>=m){b=e,i=v.length-(i-=m);break}e=e.nextSibling}}else{if(!(e=b.previousSibling))return r[y?"setStartBefore":"setEndBefore"](b);if(!m)return void(3==b.nodeType?r[y?"setStart":"setEnd"](e,b.nodeValue.length):r[y?"setStartAfter":"setEndAfter"](e));for(;e;){if(3==e.nodeType&&(i+=e.nodeValue.length)>=m){b=e,i-=m;break}e=e.previousSibling}}r[y?"setStart":"setEnd"](b,i)}else r[y?"setStartBefore":"setEndAfter"](b);else r[y?"setStart":"setEnd"](b,0)}try{x(!0),a||x()}catch(y){if(-2147024809!=y.number)throw y;k=C.getBookmark(2),(n=o.duplicate()).collapse(!0),s=n.parentElement(),a||((n=o.duplicate()).collapse(!1),(p=n.parentElement()).innerHTML=p.innerHTML),s.innerHTML=s.innerHTML,C.moveToBookmark(k),o=S.getRng(),x(!0),a||x()}return r}}}),V("ephox.katamari.api.Type",["global!Array","global!String"],function(T,S){var c=function(u){return function(f){return function(u){if(null===u)return"null";var f=typeof u;return"object"===f&&T.prototype.isPrototypeOf(u)?"array":"object"===f&&S.prototype.isPrototypeOf(u)?"string":f}(f)===u}};return{isString:c("string"),isObject:c("object"),isArray:c("array"),isNull:c("null"),isBoolean:c("boolean"),isUndefined:c("undefined"),isFunction:c("function"),isNumber:c("number")}}),V("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(T,S,C,c){return function(){var l=arguments;return function(){for(var u=new C(arguments.length),f=0;f<u.length;f++)u[f]=arguments[f];if(l.length!==u.length)throw new c('Wrong number of arguments to struct. Expected "['+l.length+']", got '+u.length+" arguments");var o={};return T.each(l,function(r,s){o[r]=S.constant(u[s])}),o}}}),V("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(T,S){var n,C=void 0===(n=S.keys)?function(x){var y=[];for(var h in x)x.hasOwnProperty(h)&&y.push(h);return y}:n,c=function(p,k){for(var x=C(p),y=0,h=x.length;y<h;y++){var b=x[y];k(p[b],b,p)}},u=function(p,k){var x={};return c(p,function(y,h){var b=k(y,h,p);x[b.k]=b.v}),x},o=function(p,k){var x=[];return c(p,function(y,h){x.push(k(y,h))}),x},s=function(p){return o(p,function(k){return k})};return{bifilter:function(p,k){var x={},y={};return c(p,function(h,b){(k(h,b)?x:y)[b]=h}),{t:x,f:y}},each:c,map:function(p,k){return u(p,function(x,y,h){return{k:y,v:k(x,y,h)}})},mapToArray:o,tupleMap:u,find:function(p,k){for(var x=C(p),y=0,h=x.length;y<h;y++){var b=x[y],m=p[b];if(k(m,b,p))return T.some(m)}return T.none()},keys:C,values:s,size:function(p){return s(p).length}}}),V("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(T,S,C){var c=function(a){return a.slice(0).sort()};return{sort:c,reqMessage:function(a,n){throw new C("All required keys ("+c(a).join(", ")+") were not specified. Specified keys were: "+c(n).join(", ")+".")},unsuppMessage:function(a){throw new C("Unsupported keys for object: "+c(a).join(", "))},validateStrArr:function(a,n){if(!S.isArray(n))throw new C("The "+a+" fields must be an array. Was: "+n+".");T.each(n,function(p){if(!S.isString(p))throw new C("The value "+p+" in the "+a+" fields was not a string.")})},invalidTypeMessage:function(a,n){throw new C("All values need to be of type: "+n+". Keys ("+c(a).join(", ")+") were not.")},checkDupes:function(a){var n=c(a);T.find(n,function(k,x){return x<n.length-1&&k===n[x+1]}).each(function(k){throw new C("The field: "+k+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}}}),V("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(T,S,C,c,l,u,f){return function(o,r){var s=o.concat(r);if(0===s.length)throw new u("You must specify at least one required or optional field.");return l.validateStrArr("required",o),l.validateStrArr("optional",r),l.checkDupes(s),function(a){var n=C.keys(a);T.forall(o,function(y){return T.contains(n,y)})||l.reqMessage(o,n);var k=T.filter(n,function(y){return!T.contains(s,y)});k.length>0&&l.unsuppMessage(k);var x={};return T.each(o,function(y){x[y]=S.constant(a[y])}),T.each(r,function(y){x[y]=S.constant(f.prototype.hasOwnProperty.call(a,y)?c.some(a[y]):c.none())}),x}}}),V("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(T,S){return{immutable:T,immutableBag:S}}),V("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(C,c){var l=[],u=function(r){return l.push(r),c(r)},f=c(C);do{f=f.bind(u)}while(f.isSome());return l}}}),V("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),V("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(T){var S=function(o,r){for(var s=void 0!==r?r:T,a=0;a<o.length&&null!=s;++a)s=s[o[a]];return s},c=function(o,r){return null==o[r]&&(o[r]={}),o[r]},l=function(o,r){for(var s=void 0!==r?r:T,a=0;a<o.length;++a)s=c(s,o[a]);return s};return{path:S,resolve:function(o,r){var s=o.split(".");return S(s,r)},forge:l,namespace:function(o,r){var s=o.split(".");return l(s,r)}}}),V("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(T){return{getOrDie:function(l,u){var f=function(l,u){return T.resolve(l,u)}(l,u);if(void 0===f)throw l+" not available on this browser";return f}}}),V("ephox.sand.api.Node",["ephox.sand.util.Global"],function(T){var S=function(){return T.getOrDie("Node")},C=function(f,o,r){return 0!=(f.compareDocumentPosition(o)&r)};return{documentPositionPreceding:function(f,o){return C(f,o,S().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(f,o){return C(f,o,S().DOCUMENT_POSITION_CONTAINED_BY)}}}),V("ephox.katamari.api.Thunk",[],function(){return{cached:function(C){var l,c=!1;return function(){return c||(c=!0,l=C.apply(null,arguments)),l}}}}),tt("global!Number",Number),V("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(T,S,C){var f=function(){return o(0,0)},o=function(s,a){return{major:s,minor:a}};return{nu:o,detect:function(s,a){var n=C(a).toLowerCase();return 0===s.length?f():function(s,a){var n=function(s,a){for(var n=0;n<s.length;n++){var p=s[n];if(p.test(a))return p}}(s,a);if(!n)return{major:0,minor:0};var p=function(x){return S(a.replace(n,"$"+x))};return o(p(1),p(2))}(s,n)},unknown:f}}),V("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(T,S){var C="Edge",c="Chrome",u="Opera",f="Firefox",o="Safari",r=function(p,k){return function(){return k===p}},a=function(p){var k=p.current;return{current:k,version:p.version,isEdge:r(C,k),isChrome:r(c,k),isIE:r("IE",k),isOpera:r(u,k),isFirefox:r(f,k),isSafari:r(o,k)}};return{unknown:function(){return a({current:void 0,version:S.unknown()})},nu:a,edge:T.constant(C),chrome:T.constant(c),ie:T.constant("IE"),opera:T.constant(u),firefox:T.constant(f),safari:T.constant(o)}}),V("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(T,S){var C="Windows",l="Android",u="Linux",o="Solaris",r="FreeBSD",s=function(k,x){return function(){return x===k}},n=function(k){var x=k.current;return{current:x,version:k.version,isWindows:s(C,x),isiOS:s("iOS",x),isAndroid:s(l,x),isOSX:s("OSX",x),isLinux:s(u,x),isSolaris:s(o,x),isFreeBSD:s(r,x)}};return{unknown:function(){return n({current:void 0,version:S.unknown()})},nu:n,windows:T.constant(C),ios:T.constant("iOS"),android:T.constant(l),linux:T.constant(u),osx:T.constant("OSX"),solaris:T.constant(o),freebsd:T.constant(r)}}),V("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(T){return function(S,C,c){var l=S.isiOS()&&!0===/ipad/i.test(c),u=S.isiOS()&&!l,f=S.isAndroid()&&3===S.version.major,o=S.isAndroid()&&4===S.version.major,r=l||f||o&&!0===/mobile/i.test(c),s=S.isiOS()||S.isAndroid(),a=s&&!r,n=C.isSafari()&&S.isiOS()&&!1===/safari/i.test(c);return{isiPad:T.constant(l),isiPhone:T.constant(u),isTablet:T.constant(r),isPhone:T.constant(a),isTouch:T.constant(s),isAndroid:S.isAndroid,isiOS:S.isiOS,isWebView:T.constant(n)}}}),V("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(T,S,C){var c=function(o,r){var s=C(r).toLowerCase();return T.find(o,function(a){return a.search(s)})};return{detectBrowser:function(o,r){return c(o,r).map(function(s){var a=S.detect(s.versionRegexes,r);return{current:s.name,version:a}})},detectOs:function(o,r){return c(o,r).map(function(s){var a=S.detect(s.versionRegexes,r);return{current:s.name,version:a}})}}}),V("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(u,f){return f+u},addToEnd:function(u,f){return u+f},removeFromStart:function(u,f){return u.substring(f)},removeFromEnd:function(u,f){return u.substring(0,u.length-f)}}}),V("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(T,S){return{first:function(o,r){return o.substr(0,r)},last:function(o,r){return o.substr(o.length-r,o.length)},head:function(o){return""===o?T.none():T.some(o.substr(0,1))},tail:function(o){return""===o?T.none():T.some(o.substring(1))}}}),V("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(T,S,C){var c=function(b,m,i){return""===m||!(b.length<m.length)&&b.substr(i,i+m.length)===m},n=function(b,m){return c(b,m,0)},p=function(b,m){return c(b,m,b.length-m.length)};return{supplant:function(b,m){return b.replace(/\${([^{}]*)}/g,function(e,d){var v=m[d];return function(d){var v=typeof d;return"string"===v||"number"===v}(v)?v:e})},startsWith:n,removeLeading:function(b,m){return n(b,m)?T.removeFromStart(b,m.length):b},removeTrailing:function(b,m){return p(b,m)?T.removeFromEnd(b,m.length):b},ensureLeading:function(b,m){return n(b,m)?b:T.addToStart(b,m)},ensureTrailing:function(b,m){return p(b,m)?b:T.addToEnd(b,m)},endsWith:p,contains:function(b,m){return-1!==b.indexOf(m)},trim:function(b){return b.replace(/^\s+|\s+$/g,"")},lTrim:function(b){return b.replace(/^\s+/g,"")},rTrim:function(b){return b.replace(/\s+$/g,"")},capitalize:function(b){return S.head(b).bind(function(m){return S.tail(b).map(function(i){return m.toUpperCase()+i})}).getOr(b)}}}),V("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(T,S){var C=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,c=function(o){return function(r){return S.contains(r,o)}},l=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(o){return S.contains(o,"edge/")&&S.contains(o,"chrome")&&S.contains(o,"safari")&&S.contains(o,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,C],search:function(o){return S.contains(o,"chrome")&&!S.contains(o,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(o){return S.contains(o,"msie")||S.contains(o,"trident")}},{name:"Opera",versionRegexes:[C,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:c("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:c("firefox")},{name:"Safari",versionRegexes:[C,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(o){return(S.contains(o,"safari")||S.contains(o,"mobile/"))&&S.contains(o,"applewebkit")}}],u=[{name:"Windows",search:c("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(o){return S.contains(o,"iphone")||S.contains(o,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:c("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:c("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:c("linux"),versionRegexes:[]},{name:"Solaris",search:c("sunos"),versionRegexes:[]},{name:"FreeBSD",search:c("freebsd"),versionRegexes:[]}];return{browsers:T.constant(l),oses:T.constant(u)}}),V("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(T,S,C,c,l){return{detect:function(o){var r=l.browsers(),s=l.oses(),a=c.detectBrowser(r,o).fold(T.unknown,T.nu),n=c.detectOs(s,o).fold(S.unknown,S.nu);return{browser:a,os:n,deviceType:C(n,a,o)}}}}),tt("global!navigator",navigator),V("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(T,S,C){return{detect:T.cached(function(){return S.detect(C.userAgent)})}}),V("global!console",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),tt("global!document",document),V("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(T,S,C,c){var o=function(s){if(null==s)throw new S("Node cannot be null or undefined");return{dom:T.constant(s)}};return{fromHtml:function(s,a){var p=(a||c).createElement("div");if(p.innerHTML=s,!p.hasChildNodes()||p.childNodes.length>1)throw C.error("HTML does not have a single root node",s),"HTML must have a single root node";return o(p.childNodes[0])},fromTag:function(s,a){var p=(a||c).createElement(s);return o(p)},fromText:function(s,a){var p=(a||c).createTextNode(s);return o(p)},fromDom:o}}),V("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),V("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(T,S,C,c,l,u){var b,a=void 0!==(b=u.createElement("span")).matches?0:void 0!==b.msMatchesSelector?1:void 0!==b.webkitMatchesSelector?2:void 0!==b.mozMatchesSelector?3:-1,n=c.ELEMENT,p=c.DOCUMENT,x=function(m){return m.nodeType!==n&&m.nodeType!==p||0===m.childElementCount};return{all:function(m,i){var e=void 0===i?u:i.dom();return x(e)?[]:T.map(e.querySelectorAll(m),C.fromDom)},is:function(m,i){var e=m.dom();if(e.nodeType!==n)return!1;if(0===a)return e.matches(i);if(1===a)return e.msMatchesSelector(i);if(2===a)return e.webkitMatchesSelector(i);if(3===a)return e.mozMatchesSelector(i);throw new l("Browser lacks native selectors")},one:function(m,i){var e=void 0===i?u:i.dom();return x(e)?S.none():S.from(e.querySelector(m)).map(C.fromDom)}}}),V("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(T,S,C,c,l){var u=function(k,x){return k.dom()===x.dom()},n=c.detect().browser.isIE()?function(k,x){return C.documentPositionContainedBy(k.dom(),x.dom())}:function(k,x){var y=k.dom(),h=x.dom();return y!==h&&y.contains(h)};return{eq:u,isEqualNode:function(k,x){return k.dom().isEqualNode(x.dom())},member:function(k,x){return T.exists(x,S.curry(u,k))},contains:n,is:l.is}}),V("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(T,S,C,c,l,u,f,o){var r=function(A){return o.fromDom(A.dom().ownerDocument)},n=function(A){var R=A.dom();return c.from(R.parentNode).map(o.fromDom)},h=function(A){var R=A.dom();return c.from(R.previousSibling).map(o.fromDom)},b=function(A){var R=A.dom();return c.from(R.nextSibling).map(o.fromDom)},e=function(A){var R=A.dom();return S.map(R.childNodes,o.fromDom)},d=function(A,R){var N=A.dom().childNodes;return c.from(N[R]).map(o.fromDom)},g=l.immutable("element","offset");return{owner:r,defaultView:function(A){var R=A.dom();return o.fromDom(R.ownerDocument.defaultView)},documentElement:function(A){var R=r(A);return o.fromDom(R.dom().documentElement)},parent:n,findIndex:function(A){return n(A).bind(function(R){var N=e(R);return S.findIndex(N,function(_){return f.eq(A,_)})})},parents:function(A,R){for(var N=T.isFunction(R)?R:C.constant(!1),_=A.dom(),P=[];null!=_.parentNode;){var M=_.parentNode,D=o.fromDom(M);if(P.push(D),!0===N(D))break;_=M}return P},siblings:function(A){return n(A).map(e).map(function(_){return S.filter(_,function(P){return!f.eq(A,P)})}).getOr([])},prevSibling:h,offsetParent:function(A){var R=A.dom();return c.from(R.offsetParent).map(o.fromDom)},prevSiblings:function(A){return S.reverse(u.toArray(A,h))},nextSibling:b,nextSiblings:function(A){return u.toArray(A,b)},children:e,child:d,firstChild:function(A){return d(A,0)},lastChild:function(A){return d(A,A.dom().childNodes.length-1)},leaf:function(A,R){var N=e(A);return N.length>0&&R<N.length?g(N[R],0):g(A,R)}}}),V("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(T){var S=function(r,s){T.parent(r).each(function(n){n.dom().insertBefore(s.dom(),r.dom())})},l=function(r,s){r.dom().appendChild(s.dom())};return{before:S,after:function(r,s){T.nextSibling(r).fold(function(){T.parent(r).each(function(p){l(p,s)})},function(n){S(n,s)})},prepend:function(r,s){T.firstChild(r).fold(function(){l(r,s)},function(n){r.dom().insertBefore(s.dom(),n.dom())})},append:l,appendAt:function(r,s,a){T.child(r,a).fold(function(){l(r,s)},function(n){S(n,s)})},wrap:function(r,s){S(r,s),l(s,r)}}}),V("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(T){var S=function(a){return a.dom().nodeName.toLowerCase()},C=function(a){return a.dom().nodeType},l=function(a){return function(n){return C(n)===a}},f=l(T.ELEMENT),o=l(T.TEXT),r=l(T.DOCUMENT);return{name:S,type:C,value:function(a){return a.dom().nodeValue},isElement:f,isText:o,isDocument:r,isComment:function(a){return C(a)===T.COMMENT||"#comment"===S(a)}}}),V("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],function(T,S,C,c,l,u){var f=function(b,m,i){if(!(T.isString(i)||T.isBoolean(i)||T.isNumber(i)))throw u.error("Invalid call to Attr.set. Key ",m,":: Value ",i,":: Element ",b),new l("Attribute value was not simple");b.setAttribute(m,i+"")},o=function(b,m,i){f(b.dom(),m,i)},s=function(b,m){var i=b.dom().getAttribute(m);return null===i?void 0:i},a=function(b,m){var i=b.dom();return!(!i||!i.hasAttribute)&&i.hasAttribute(m)};return{clone:function(b){return S.foldl(b.dom().attributes,function(m,i){return m[i.name]=i.value,m},{})},set:o,setAll:function(b,m){var i=b.dom();C.each(m,function(e,d){f(i,d,e)})},get:s,has:a,remove:function(b,m){b.dom().removeAttribute(m)},hasNone:function(b){var m=b.dom().attributes;return null==m||0===m.length},transfer:function(b,m,i){!c.isElement(b)||!c.isElement(m)||S.each(i,function(e){!function(b,m,i){a(b,i)&&!a(m,i)&&o(m,i,s(b,i))}(b,m,e)})}}}),V("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(T,S){return{before:function(o,r){T.each(r,function(s){S.before(o,s)})},after:function(o,r){T.each(r,function(s,a){S.after(0===a?o:r[a-1],s)})},prepend:function(o,r){T.each(r.slice().reverse(),function(s){S.prepend(o,s)})},append:function(o,r){T.each(r,function(s){S.append(o,s)})}}}),V("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(T,S,C){var l=function(o){var r=o.dom();null!==r.parentNode&&r.parentNode.removeChild(r)};return{empty:function(o){o.dom().textContent="",T.each(C.children(o),function(r){l(r)})},remove:l,unwrap:function(o){var r=C.children(o);r.length>0&&S.before(o,r),l(o)}}}),V("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(T,S,C,c,l,u){var f=function(k,x){return S.fromDom(k.dom().cloneNode(x))},r=function(k){return f(k,!0)},s=function(k,x){var y=S.fromTag(x),h=T.clone(k);return T.setAll(y,h),y};return{shallow:function(k){return f(k,!1)},shallowAs:s,deep:r,copy:function(k,x){var y=s(k,x),h=u.children(r(k));return c.append(y,h),y},mutate:function(k,x){var y=s(k,x);C.before(k,y);var h=u.children(k);return c.append(y,h),l.remove(k),y}}}),V("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(T,S,C){return{fromElements:function(u,f){var r=(f||C).createDocumentFragment();return T.each(u,function(s){r.appendChild(s.dom())}),S.fromDom(r)}}}),V("tinymce.core.dom.ElementType",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],function(T,S,C){var r=function(k){var x;return function(y){return(x=x||T.mapToObject(k,S.constant(!0))).hasOwnProperty(C.name(y))}},s=r(["h1","h2","h3","h4","h5","h6"]),a=r(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:a,isInline:function(k){return C.isElement(k)&&!a(k)},isHeading:s,isTextBlock:r(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isVoid:r(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableCell:r(["td","th"])}}),V("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(T,S,C){var l=function(r,s,a){return S.contains(s,r)?function(r){return r.slice(0,-1)}(C.parents(r,function(n){return a(n)||S.eq(n,s)})):[]},u=function(r,s){return l(r,s,T.constant(!1))};return{parentsUntil:l,parents:u,parentsAndSelf:function(r,s){return[r].concat(u(r,s))}}}),V("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(T){return{cat:function(u){for(var f=[],o=function(a){f.push(a)},r=0;r<u.length;r++)u[r].each(o);return f},findMap:function(u,f){for(var o=0;o<u.length;o++){var r=f(u[o],o);if(r.isSome())return r}return T.none()},liftN:function(u,f){for(var o=[],r=0;r<u.length;r++){var s=u[r];if(!s.isSome())return T.none();o.push(s.getOrDie())}return T.some(f.apply(null,o))}}}),V("tinymce.core.selection.SelectionUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","tinymce.core.dom.NodeType"],function(T,S,C,c,l,u,f,o,r){var s=function(y){var h=y.startContainer,b=y.startOffset;return r.isText(h)?0===b?C.some(u.fromDom(h)):C.none():C.from(h.childNodes[b]).map(u.fromDom)},a=function(y){var h=y.endContainer,b=y.endOffset;return r.isText(h)?b===h.data.length?C.some(u.fromDom(h)):C.none():C.from(h.childNodes[b-1]).map(u.fromDom)},n=function x(y){return o.firstChild(y).fold(S.constant([y]),function(h){return[y].concat(x(h))})},p=function x(y){return o.lastChild(y).fold(S.constant([y]),function(h){return"br"===f.name(h)?o.prevSibling(h).map(function(b){return[y].concat(x(b))}).getOr([]):[y].concat(x(h))})};return{hasAllContentsSelected:function(y,h){return c.liftN([s(h),a(h)],function(b,m){var i=T.find(n(y),S.curry(l.eq,b)),e=T.find(p(y),S.curry(l.eq,m));return i.isSome()&&e.isSome()}).getOr(!1)}}}),V("tinymce.core.selection.FragmentReader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.node.Node","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.selection.SelectionUtils"],function(T,S,C,c,l,u,f,o,r,s){var x=function(b,m){return function(b,m){var i=T.foldl(m,function(e,d){return C.append(d,e),d},b);return m.length>0?u.fromElements([i]):i}(l.fromDom(m.cloneContents()),function(b,m){var i=r.parentsAndSelf(l.fromDom(m.commonAncestorContainer),l.fromDom(b)),e=T.filter(i,function(v){return o.isInline(v)||o.isHeading(v)}),d=function(b,m){return T.find(b,function(i){return"li"===f.name(i)&&s.hasAllContentsSelected(i,m)}).fold(S.constant([]),function(i){return function(b){return T.find(b,function(m){return"ul"===f.name(m)||"ol"===f.name(m)})}(b).map(function(e){return[l.fromTag("li"),l.fromTag(f.name(e))]}).getOr([])})}(i,m);return T.map(e.concat(d),c.shallow)}(b,m))};return{read:function(b,m){return m.collapsed?u.fromElements([]):x(b,m)}}}),V("tinymce.core.dom.Selection",["tinymce.core.caret.CaretPosition","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ControlSelection","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.ScrollIntoView","tinymce.core.dom.TreeWalker","tinymce.core.dom.TridentSelection","tinymce.core.Env","tinymce.core.selection.FragmentReader","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f,o,r,s,a,n){var p=n.each,k=n.trim,x=r.ie;function h(b,m,i,e){var d=this;d.dom=b,d.win=m,d.serializer=i,d.editor=e,d.bookmarkManager=new S(d),d.controlSelection=new C(d,e),d.win.getSelection||(d.tridentSel=new o(d))}return h.prototype={setCursorLocation:function(m,i){var e=this,d=e.dom.createRng();m?(d.setStart(m,i),d.setEnd(m,i),e.setRng(d),e.collapse(!1)):(e._moveEndPoint(d,e.editor.getBody(),!0),e.setRng(d))},getContent:function(m){var t,g,w,i=this,e=i.getRng(),d=i.dom.create("body"),v=i.getSel();return t=g="",(m=m||{}).get=!0,m.format=m.format||"html",m.selection=!0,i.editor.fire("BeforeGetContent",m),"text"===m.format?i.isCollapsed()?"":a.trim(e.text||(v.toString?v.toString():"")):(e.cloneContents?(w=m.contextual?s.read(i.editor.getBody(),e).dom():e.cloneContents())&&d.appendChild(w):void 0!==e.item||void 0!==e.htmlText?(d.innerHTML="<br>"+(e.item?e.item(0).outerHTML:e.htmlText),d.removeChild(d.firstChild)):d.innerHTML=e.toString(),/^\s/.test(d.innerHTML)&&(t=" "),/\s+$/.test(d.innerHTML)&&(g=" "),m.getInner=!0,m.content=i.isCollapsed()?"":t+i.serializer.serialize(d,m)+g,i.editor.fire("GetContent",m),m.content)},setContent:function(m,i){var v,g,w,e=this,d=e.getRng(),t=e.win.document;if((i=i||{format:"html"}).set=!0,i.selection=!0,i.content=m,i.no_events||e.editor.fire("BeforeSetContent",i),m=i.content,d.insertNode){m+='<span id="__caret">_</span>',d.startContainer==t&&d.endContainer==t?t.body.innerHTML=m:(d.deleteContents(),0===t.body.childNodes.length?t.body.innerHTML=m:d.createContextualFragment?d.insertNode(d.createContextualFragment(m)):(g=t.createDocumentFragment(),w=t.createElement("div"),g.appendChild(w),w.outerHTML=m,d.insertNode(g))),v=e.dom.get("__caret"),(d=t.createRange()).setStartBefore(v),d.setEndBefore(v),e.setRng(d),e.dom.remove("__caret");try{e.setRng(d)}catch(E){}}else d.item&&(t.execCommand("Delete",!1,null),d=e.getRng()),/^\s+/.test(m)?(d.pasteHTML('<span id="__mce_tmp">_</span>'+m),e.dom.remove("__mce_tmp")):d.pasteHTML(m);i.no_events||e.editor.fire("SetContent",i)},getStart:function(m){var d,v,t,g,i=this,e=i.getRng();if(e.duplicate||e.item){if(e.item)return e.item(0);for((t=e.duplicate()).collapse(1),(d=t.parentElement()).ownerDocument!==i.dom.doc&&(d=i.dom.getRoot()),v=g=e.parentElement();g=g.parentNode;)if(g==d){d=v;break}return d}return 1==(d=e.startContainer).nodeType&&d.hasChildNodes()&&(!m||!e.collapsed)&&(d=d.childNodes[Math.min(d.childNodes.length-1,e.startOffset)]),d&&3==d.nodeType?d.parentNode:d},getEnd:function(m){var d,v,i=this,e=i.getRng();return e.duplicate||e.item?e.item?e.item(0):((e=e.duplicate()).collapse(0),(d=e.parentElement()).ownerDocument!==i.dom.doc&&(d=i.dom.getRoot()),d&&"BODY"==d.nodeName&&d.lastChild||d):(v=e.endOffset,1==(d=e.endContainer).nodeType&&d.hasChildNodes()&&(!m||!e.collapsed)&&(d=d.childNodes[v>0?v-1:v]),d&&3==d.nodeType?d.parentNode:d)},getBookmark:function(m,i){return this.bookmarkManager.getBookmark(m,i)},moveToBookmark:function(m){return this.bookmarkManager.moveToBookmark(m)},select:function(m,i){var t,e=this,d=e.dom,v=d.createRng();if(e.lastFocusBookmark=null,m){if(!i&&e.controlSelection.controlSelect(m))return;t=d.nodeIndex(m),v.setStart(m.parentNode,t),v.setEnd(m.parentNode,t+1),i&&(e._moveEndPoint(v,m,!0),e._moveEndPoint(v,m)),e.setRng(v)}return m},isCollapsed:function(){var i=this.getRng(),e=this.getSel();return!(!i||i.item)&&(i.compareEndPoints?0===i.compareEndPoints("StartToEnd",i):!e||i.collapsed)},collapse:function(m){var d,i=this,e=i.getRng();e.item&&(d=e.item(0),(e=i.win.document.body.createTextRange()).moveToElementText(d)),e.collapse(!!m),i.setRng(e)},getSel:function(){var m=this.win;return m.getSelection?m.getSelection():m.document.selection},getRng:function(m){var e,d,v,t,g,w,i=this;function E(R,N,_){try{return N.compareBoundaryPoints(R,_)}catch(P){return-1}}if(!i.win||null==(t=i.win.document))return null;if(!m&&i.lastFocusBookmark){var A=i.lastFocusBookmark;return A.startContainer?((d=t.createRange()).setStart(A.startContainer,A.startOffset),d.setEnd(A.endContainer,A.endOffset)):d=A,d}if(m&&i.tridentSel)return i.tridentSel.getRangeAt(0);try{(e=i.getSel())&&(d=e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():t.createRange())}catch(R){}if((w=i.editor.fire("GetSelectionRange",{range:d})).range!==d)return w.range;if(x&&d&&d.setStart&&t.selection){try{g=t.selection.createRange()}catch(R){}g&&g.item&&(v=g.item(0),(d=t.createRange()).setStartBefore(v),d.setEndAfter(v))}return d||(d=t.createRange?t.createRange():t.body.createTextRange()),d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(v=i.dom.getRoot(),d.setStart(v,0),d.setEnd(v,0)),i.selectedRange&&i.explicitRange&&(0===E(d.START_TO_START,d,i.selectedRange)&&0===E(d.END_TO_END,d,i.selectedRange)?d=i.explicitRange:(i.selectedRange=null,i.explicitRange=null)),d},setRng:function(m,i){var d,v,e=this;if(function(m){if(m){if(m.select)return!0;var i=m.startContainer,e=m.endContainer;return!!(i&&i.parentNode&&e&&e.parentNode)}return!1}(m)){if(m.select){e.explicitRange=null;try{m.select()}catch(g){}return}if(e.tridentSel){if(m.cloneRange)try{e.tridentSel.addRange(m)}catch(g){}}else{if(d=e.getSel(),m=e.editor.fire("SetSelectionRange",{range:m,forward:i}).range,d){e.explicitRange=m;try{d.removeAllRanges(),d.addRange(m)}catch(g){}!1===i&&d.extend&&(d.collapse(m.endContainer,m.endOffset),d.extend(m.startContainer,m.startOffset)),e.selectedRange=d.rangeCount>0?d.getRangeAt(0):null}!m.collapsed&&m.startContainer===m.endContainer&&d.setBaseAndExtent&&!r.ie&&m.endOffset-m.startOffset<2&&m.startContainer.hasChildNodes()&&(v=m.startContainer.childNodes[m.startOffset])&&"IMG"===v.tagName&&(d.setBaseAndExtent(m.startContainer,m.startOffset,m.endContainer,m.endOffset),(d.anchorNode!==m.startContainer||d.focusNode!==m.endContainer)&&d.setBaseAndExtent(v,0,v,1)),e.editor.fire("AfterSetSelectionRange",{range:m,forward:i})}}},setNode:function(m){return this.setContent(this.dom.getOuterHTML(m)),m},getNode:function(){var e,d,v,t,g,m=this,i=m.getRng(),w=m.dom.getRoot();function E(A,R){for(var N=A;A&&3===A.nodeType&&0===A.length;)A=R?A.nextSibling:A.previousSibling;return A||N}return i?(d=i.startContainer,v=i.endContainer,t=i.startOffset,g=i.endOffset,i.setStart?(e=i.commonAncestorContainer,!i.collapsed&&(d==v&&g-t<2&&d.hasChildNodes()&&(e=d.childNodes[t]),3===d.nodeType&&3===v.nodeType&&(d=d.length===t?E(d.nextSibling,!0):d.parentNode,v=0===g?E(v.previousSibling,!1):v.parentNode,d&&d===v))?d:e&&3==e.nodeType?e.parentNode:e):((e=i.item?i.item(0):i.parentElement()).ownerDocument!==m.win.document&&(e=w),e)):w},getSelectedBlocks:function(m,i){var v,t,e=this,d=e.dom,g=[];if(t=d.getRoot(),m=d.getParent(m||e.getStart(),d.isBlock),i=d.getParent(i||e.getEnd(),d.isBlock),m&&m!=t&&g.push(m),m&&i&&m!=i){v=m;for(var w=new f(m,t);(v=w.next())&&v!=i;)d.isBlock(v)&&g.push(v)}return i&&m!=i&&i!=t&&g.push(i),g},isForward:function(){var e,d,m=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||((e=m.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(d=m.createRng()).setStart(i.focusNode,i.focusOffset),d.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,d)<=0)},normalize:function(){var m=this,i=m.getRng();return r.range&&new l(m.dom).normalize(i)&&m.setRng(i,m.isForward()),i},selectorChanged:function(m,i){var d,e=this;return e.selectorChangedData||(e.selectorChangedData={},d={},e.editor.on("NodeChange",function(v){var t=v.element,g=e.dom,w=g.getParents(t,null,g.getRoot()),E={};p(e.selectorChangedData,function(A,R){p(w,function(N){if(g.is(N,R))return d[R]||(p(A,function(_){_(!0,{node:N,selector:R,parents:w})}),d[R]=A),E[R]=A,!1})}),p(d,function(A,R){E[R]||(delete d[R],p(A,function(N){N(!1,{node:t,selector:R,parents:w})}))})})),e.selectorChangedData[m]||(e.selectorChangedData[m]=[]),e.selectorChangedData[m].push(i),e},getScrollContainer:function(){for(var m,i=this.dom.getRoot();i&&"BODY"!=i.nodeName;){if(i.scrollHeight>i.clientHeight){m=i;break}i=i.parentNode}return m},scrollIntoView:function(m,i){u.scrollIntoView(this.editor,m,i)},placeCaretAt:function(m,i){this.setRng(l.getCaretRangeFromPoint(m,i,this.editor.getDoc()))},_moveEndPoint:function(m,i,e){var d=i,v=new f(i,d),t=this.dom.schema.getNonEmptyElements();do{if(3==i.nodeType&&0!==k(i.nodeValue).length)return void(e?m.setStart(i,0):m.setEnd(i,i.nodeValue.length));if(t[i.nodeName]&&!/^(TD|TH)$/.test(i.nodeName))return void(e?m.setStartBefore(i):"BR"==i.nodeName?m.setEndBefore(i):m.setEndAfter(i));if(r.ie&&r.ie<11&&this.dom.isBlock(i)&&this.dom.isEmpty(i))return void(e?m.setStart(i,0):m.setEnd(i,0))}while(i=e?v.next():v.prev());"BODY"==d.nodeName&&(e?m.setStart(d,0):m.setEnd(d,d.childNodes.length))},getBoundingClientRect:function(){var m=this.getRng();return m.collapsed?T.fromRangeStart(m).getClientRects()[0]:m.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},h}),V("tinymce.core.dom.ElementUtils",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools"],function(T,S){var C=S.each;return function c(l){this.compare=function(u,f){if(u.nodeName!=f.nodeName)return!1;function o(s){var a={};return C(l.getAttribs(s),function(n){var p=n.nodeName.toLowerCase();0!==p.indexOf("_")&&"style"!==p&&0!==p.indexOf("data-")&&(a[p]=l.getAttrib(s,p))}),a}function r(s,a){var n,p;for(p in s)if(s.hasOwnProperty(p)){if(void 0===(n=a[p])||s[p]!=n)return!1;delete a[p]}for(p in a)if(a.hasOwnProperty(p))return!1;return!0}return!(!r(o(u),o(f))||!r(l.parseStyle(l.getAttrib(u,"style")),l.parseStyle(l.getAttrib(f,"style")))||T.isBookmarkNode(u)||T.isBookmarkNode(f))}}}),V("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],function(T,S,C){var c=S.each,l=T.DOM;function u(a,n){var p,k,x,y=n&&n.schema||new C({});function b(e){var d;return function h(e,d){d.classes.length&&l.addClass(e,d.classes.join(" ")),l.setAttribs(e,d.attrs)}(d=l.create((k="string"==typeof e?{name:e,classes:[],attrs:{}}:e).name),k),d}return a&&a.length?(p=b(k=a[0]),(x=l.create("div")).appendChild(function i(e,d,v){var t,g,w,E=d.length>0&&d[0],A=E&&E.name;if(w=function m(e,d){var v="string"!=typeof e?e.nodeName.toLowerCase():e,t=y.getElementRule(v),g=t&&t.parentsRequired;return!(!g||!g.length)&&(d&&-1!==S.inArray(g,d)?d:g[0])}(e,A),w)A==w?(g=d[0],d=d.slice(1)):g=w;else if(E)g=d[0],d=d.slice(1);else if(!v)return e;return g&&(t=b(g)).appendChild(e),v&&(t||(t=l.create("div")).appendChild(e),S.each(v,function(R){var N=b(R);t.insertBefore(N,e)})),i(t,d,g&&g.siblings)}(p,a.slice(1),k.siblings)),x):""}function o(a){var n,p={classes:[],attrs:{}};return"*"!==(a=p.selector=S.trim(a))&&(n=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(k,x,y,h,b){switch(x){case"#":p.attrs.id=y;break;case".":p.classes.push(y);break;case":":-1!==S.inArray("checked disabled enabled read-only required".split(" "),y)&&(p.attrs[y]=y)}if("["==h){var m=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);m&&(p.attrs[m[1]]=m[2])}return""})),p.name=n||"div",p}function r(a){return a&&"string"==typeof a?(a=(a=a.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),S.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var p=S.map(n.split(/(?:~\+|~|\+)/),o),k=p.pop();return p.length&&(k.siblings=p),k}).reverse()):[]}return{getCssText:function s(a,n){var p,k,x,y,b,m,h="";if(!1===(m=a.settings.preview_styles))return"";function i(e){return e.replace(/%(\w+)/g,"")}if("string"!=typeof m&&(m="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof n){if(!(n=a.formatter.get(n)))return;n=n[0]}return"preview"in n&&!1===(m=n.preview)?"":(p=n.block||n.inline||"span",(y=r(n.selector)).length?(y[0].name||(y[0].name=p),p=n.selector,k=u(y,a)):k=u([p],a),x=l.select(p,k)[0]||k.firstChild,c(n.styles,function(e,d){(e=i(e))&&l.setStyle(x,d,e)}),c(n.attributes,function(e,d){(e=i(e))&&l.setAttrib(x,d,e)}),c(n.classes,function(e){e=i(e),l.hasClass(x,e)||l.addClass(x,e)}),a.fire("PreviewFormats"),l.setStyles(k,{position:"absolute",left:-65535}),a.getBody().appendChild(k),b=l.getStyle(a.getBody(),"fontSize",!0),b=/px$/.test(b)?parseInt(b,10):0,c(m.split(" "),function(e){var d=l.getStyle(x,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(d)&&(d=l.getStyle(a.getBody(),e,!0),"#ffffff"==l.toHex(d).toLowerCase())||"color"==e&&"#000000"==l.toHex(d).toLowerCase())){if("font-size"==e&&/em|%$/.test(d)){if(0===b)return;d=(d=parseFloat(d,10)/(/%$/.test(d)?100:1))*b+"px"}"border"==e&&d&&(h+="padding:0 2px;"),h+=e+":"+d+";"}}),a.fire("AfterPreviewFormats"),l.remove(k),h)},parseSelector:r,selectorToHtml:function f(a,n){return u(r(a),n)}}}),V("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],function(T,S,C){var c={},l=T.filter,u=T.each;return function f(r,s){var a=c[r];a||(c[r]=a=[]),c[r].push(s)}("pre",function(r){var a,n,s=r.selection.getRng();a=S.matchNodeNames("pre"),s.collapsed||(n=r.selection.getSelectedBlocks(),u(l(l(n,a),function p(x){return a(x.previousSibling)&&-1!=T.indexOf(n,x.previousSibling)}),function(x){!function k(x,y){C(y).remove(),C(x).append("<br><br>").append(y.childNodes)}(x.previousSibling,x)}))}),{postProcess:function o(r,s){u(c[r],function(a){a(s)})}}}),V("tinymce.core.Formatter",["tinymce.core.dom.TreeWalker","tinymce.core.dom.RangeUtils","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.fmt.Preview","tinymce.core.fmt.Hooks"],function(T,S,C,c,l,u,f,o,r){return function(s){var v,t,w,E,a={},n=s.dom,p=s.selection,k=new S(n),x=s.schema.isValidChild,y=n.isBlock,h=s.settings.forced_root_block,b=n.nodeIndex,m="\ufeff",i=/^(src|href|style)$/,e=!1,d=!0,g=n.getContentEditable,A=C.isBookmarkNode,R=f.each,N=f.grep,_=f.walk;function M(H){return H.nodeType&&(H=H.nodeName),!!s.schema.getTextBlockElements()[H.toLowerCase()]}function D(H){return/^(TH|TD)$/.test(H.nodeName)}function L(H,O){return n.getParents(H,O,n.getRoot())}function B(H){return 1===H.nodeType&&"_mce_caret"===H.id}function G(H){return H?a[H]:a}function ne(H,O){H&&("string"!=typeof H?R(H,function(W,j){ne(j,W)}):(R(O=O.length?O:[O],function(W){W.deep===t&&(W.deep=!W.selector),W.split===t&&(W.split=!W.selector||W.inline),W.remove===t&&W.selector&&!W.inline&&(W.remove="none"),W.selector&&W.inline&&(W.mixed=!0,W.block_expand=!0),"string"==typeof W.classes&&(W.classes=W.classes.split(/\s+/))}),a[H]=O))}function de(H,O){var W=G(O);if(W)for(var j=0;j<W.length;j++)if(!1===W[j].inherit&&n.is(H,W[j].selector))return!0;return!1}function ue(H){var O;return s.dom.getParent(H,function(W){return(O=s.dom.getStyle(W,"text-decoration"))&&"none"!==O}),O}function Se(H){var O;1===H.nodeType&&H.parentNode&&1===H.parentNode.nodeType&&(O=ue(H.parentNode),s.dom.getStyle(H,"color")&&O?s.dom.setStyle(H,"text-decoration",O):s.dom.getStyle(H,"text-decoration")===O&&s.dom.setStyle(H,"text-decoration",null))}function me(H,O,W){var Y,ee,j=G(H),Q=j[0],le=!W&&p.isCollapsed();function ie(ke,be){if(be=be||Q,ke){if(be.onformat&&be.onformat(ke,be,O,W),R(be.styles,function(ce,ge){n.setStyle(ke,ge,Ve(ce,O))}),be.styles){var pe=n.getAttrib(ke,"style");pe&&ke.setAttribute("data-mce-style",pe)}R(be.attributes,function(ce,ge){n.setAttrib(ke,ge,Ve(ce,O))}),R(be.classes,function(ce){ce=Ve(ce,O),n.hasClass(ke,ce)||n.addClass(ke,ce)})}}function Ce(ke,be){var pe=!1;return!!Q.selector&&(R(ke,function(ce){if((!("collapsed"in ce)||ce.collapsed===le)&&n.is(be,ce.selector)&&!B(be))return ie(be,ce),pe=!0,!1}),pe)}function Be(ke,be,pe){var ge,De,ce=[],Le=!0;ie(De=n.create(ge=Q.inline||Q.block)),k.walk(ke,function(_e){var Me;R(_e,function Ge(ze){var Ze,Je,Qe,qe;if(qe=Le,Ze=ze.nodeName.toLowerCase(),Je=ze.parentNode.nodeName.toLowerCase(),1===ze.nodeType&&g(ze)&&(qe=Le,Le="true"===g(ze),Qe=!0),te(Ze,"br"))return Me=0,void(Q.block&&n.remove(ze));if(Q.wrapper&&$(ze,H,O))Me=0;else{if(Le&&!Qe&&Q.block&&!Q.wrapper&&M(Ze)&&x(Je,ge))return ie(ze=n.rename(ze,ge)),ce.push(ze),void(Me=0);if(Q.selector){var $e=Ce(j,ze);if(!Q.inline||$e)return void(Me=0)}!Le||Qe||!x(ge,Ze)||!x(Je,ge)||!pe&&3===ze.nodeType&&1===ze.nodeValue.length&&65279===ze.nodeValue.charCodeAt(0)||B(ze)||Q.inline&&y(ze)?(Me=0,R(N(ze.childNodes),Ge),Qe&&(Le=qe),Me=0):(Me||(Me=n.clone(De,e),ze.parentNode.insertBefore(Me,ze),ce.push(Me)),Me.appendChild(ze))}})}),!0===Q.links&&R(ce,function(_e){!function Me(Ge){"A"===Ge.nodeName&&ie(Ge,Q),R(N(Ge.childNodes),Me)}(_e)}),R(ce,function(_e){var Me;function Ge(qe){var $e=0;return R(qe.childNodes,function(rt){!K(rt)&&!A(rt)&&$e++}),$e}function ze(qe){var $e=!1;return R(qe.childNodes,function(rt){if(xe(rt))return $e=rt,!1}),$e}if(Me=Ge(_e),!(ce.length>1)&&y(_e)||0!==Me){if(Q.inline||Q.wrapper){if(!Q.exact&&1===Me&&(_e=function Je(qe){var $e,rt;return($e=ze(qe))&&!A($e)&&oe($e,Q)&&(ie(rt=n.clone($e,e)),n.replace(rt,qe,d),n.remove($e,1)),rt||qe}(_e)),R(j,function(qe){R(n.select(qe.inline,_e),function($e){!xe($e)||Ie(qe,O,$e,qe.exact?$e:null)}),function(O,W){O.clear_child_styles&&R(n.select("*",W),function(j){R(O.styles,function(Q,Y){n.setStyle(j,Y,"")})})}(qe,_e)}),$(_e.parentNode,H,O)&&Ie(Q,O,_e)&&(_e=0),Q.merge_with_parents&&n.getParent(_e.parentNode,function(qe){if($(qe,H,O))return Ie(Q,O,_e)&&(_e=0),d}),_e&&!y(_e)&&!Fe(_e,"fontSize")){var Qe=function Ze(qe,$e){do{if(1!==Ge(qe))break;if(!(qe=ze(qe)))break;if($e(qe))return qe}while(qe);return null}(_e,Ae("fontSize"));Qe&&me("fontsize",{value:Fe(Qe,"fontSize")},_e)}_e&&!1!==Q.merge_siblings&&(_e=Ke(Ye(_e),_e),_e=Ke(_e,Ye(_e,d)))}}else n.remove(_e,1)})}if("false"!==g(p.getNode())){if(Q){if(W)W.nodeType?Ce(j,W)||((ee=n.createRng()).setStartBefore(W),ee.setEndAfter(W),Be(Ee(ee,j),0,!0)):Be(W,0,!0);else if(le&&Q.inline&&!n.select("td[data-mce-selected],th[data-mce-selected]").length)Xe("apply",H,O);else{var he=s.selection.getNode();!h&&j[0].defaultBlock&&!n.getParent(he,n.isBlock)&&me(j[0].defaultBlock),s.selection.setRng(function Re(){var be=s.selection.getRng(),pe=be.startContainer,ce=be.endContainer;if(pe!=ce&&0===be.endOffset){var ge=function ke(Le,_e){var Me=new T(_e);for(W=Me.prev2();W;W=Me.prev2())if(3==W.nodeType&&W.data.length>0||W.childNodes.length>1||W==Le||"BR"==W.tagName)return W}(pe,ce);be.setEnd(ge,3==ge.nodeType?ge.data.length:ge.childNodes.length)}return be}()),Y=p.getBookmark(),Be(Ee(p.getRng(d),j)),Q.styles&&((Q.styles.color||Q.styles.textDecoration)&&(_(he,Se,"childNodes"),Se(he)),Q.styles.backgroundColor&&Te(he,Ae("fontSize"),function ve(H,O){return u.curry(function(W,j,Q){n.setStyle(Q,W,j)},H,O)}("backgroundColor",Ve(Q.styles.backgroundColor,O)))),p.moveToBookmark(Y),ot(p.getRng(d)),s.nodeChanged()}r.postProcess(H,s)}}else{W=p.getNode();for(var Pe=0,He=j.length;Pe<He;Pe++)if(j[Pe].ceFalseOverride&&n.is(W,j[Pe].selector))return void ie(W,j[Pe])}}function X(H,O,W,j){var ee,le,Q=G(H),Y=Q[0],ie=!0;function Ce(pe){var ce,ge,De,Le,_e;if(1===pe.nodeType&&g(pe)&&(Le=ie,ie="true"===g(pe),_e=!0),ce=N(pe.childNodes),ie&&!_e)for(ge=0,De=Q.length;ge<De&&!Ie(Q[ge],O,pe,pe);ge++);if(Y.deep&&ce.length){for(ge=0,De=ce.length;ge<De;ge++)Ce(ce[ge]);_e&&(ie=Le)}}function Pe(pe){return function Be(pe,ce,ge,De){var Le,_e,Me,Ge,ze,Ze;if(pe){for(Ze=pe.parentNode,Le=ce.parentNode;Le&&Le!=Ze;Le=Le.parentNode){for(_e=n.clone(Le,e),ze=0;ze<Q.length;ze++)if(Ie(Q[ze],O,_e,_e)){_e=0;break}_e&&(Me&&_e.appendChild(Me),Ge||(Ge=_e),Me=_e)}De&&(!Y.mixed||!y(pe))&&(ce=n.split(pe,ce)),Me&&(ge.parentNode.insertBefore(Me,ge),Ge.appendChild(ge))}return ce}(function Re(pe){var ce;return R(L(pe.parentNode).reverse(),function(ge){var De;!ce&&"_start"!=ge.id&&"_end"!=ge.id&&(De=$(ge,H,O,j))&&!1!==De.split&&(ce=ge)}),ce}(pe),pe,pe,!0)}function He(pe){var ce=n.get(pe?"_start":"_end"),ge=ce[pe?"firstChild":"lastChild"];return A(ge)&&(ge=ge[pe?"firstChild":"lastChild"]),3==ge.nodeType&&0===ge.data.length&&(ge=pe?ce.previousSibling||ce.nextSibling:ce.nextSibling||ce.previousSibling),n.remove(ce,!0),ge}function he(pe){var ce,ge,De=pe.commonAncestorContainer;if(pe=Ee(pe,Q,d),Y.split){if((ce=je(pe,d))!=(ge=je(pe))){if(/^(TR|TH|TD)$/.test(ce.nodeName)&&ce.firstChild&&(ce="TR"==ce.nodeName?ce.firstChild.firstChild||ce:ce.firstChild||ce),De&&/^T(HEAD|BODY|FOOT|R)$/.test(De.nodeName)&&D(ge)&&ge.firstChild&&(ge=ge.firstChild||ge),n.isChildOf(ce,ge)&&!y(ge)&&!D(ce)&&!D(ge))return Pe(ce=fe(ce,"span",{id:"_start","data-mce-type":"bookmark"})),void(ce=He(d));ce=fe(ce,"span",{id:"_start","data-mce-type":"bookmark"}),ge=fe(ge,"span",{id:"_end","data-mce-type":"bookmark"}),Pe(ce),Pe(ge),ce=He(d),ge=He()}else ce=ge=Pe(ce);pe.startContainer=ce.parentNode?ce.parentNode:ce,pe.startOffset=b(ce),pe.endContainer=ge.parentNode?ge.parentNode:ge,pe.endOffset=b(ge)+1}k.walk(pe,function(Le){R(Le,function(_e){Ce(_e),1===_e.nodeType&&"underline"===s.dom.getStyle(_e,"text-decoration")&&_e.parentNode&&"underline"===ue(_e.parentNode)&&Ie({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,_e)})})}if(W)W.nodeType?((le=n.createRng()).setStartBefore(W),le.setEndAfter(W),he(le)):he(W);else if("false"!==g(p.getNode()))p.isCollapsed()&&Y.inline&&!n.select("td[data-mce-selected],th[data-mce-selected]").length?Xe("remove",H,O,j):(ee=p.getBookmark(),he(p.getRng(d)),p.moveToBookmark(ee),Y.inline&&J(H,O,p.getStart())&&ot(p.getRng(!0)),s.nodeChanged());else{W=p.getNode();for(var ke=0,be=Q.length;ke<be&&(!Q[ke].ceFalseOverride||!Ie(Q[ke],O,W,W));ke++);}}function $(H,O,W,j){var Y,ee,le,Q=G(O);function ie(Ce,Re,Be){var Pe,He,ke,he=Re[Be];if(Re.onmatch)return Re.onmatch(Ce,Re,Be);if(he)if(he.length===t){for(Pe in he)if(he.hasOwnProperty(Pe)&&(He="attributes"===Be?n.getAttrib(Ce,Pe):Fe(Ce,Pe),j&&!He&&!Re.exact||(!j||Re.exact)&&!te(He,Ue(Ve(he[Pe],W),Pe))))return}else for(ke=0;ke<he.length;ke++)if("attributes"===Be?n.getAttrib(Ce,he[ke]):Fe(Ce,he[ke]))return Re;return Re}if(Q&&H)for(ee=0;ee<Q.length;ee++)if(oe(H,Y=Q[ee])&&ie(H,Y,"attributes")&&ie(H,Y,"styles")){if(le=Y.classes)for(ee=0;ee<le.length;ee++)if(!n.hasClass(H,le[ee]))return;return Y}}function J(H,O,W){var j;function Q(Y){var ee=n.getRoot();return Y!==ee&&(Y=n.getParent(Y,function(le){return!!de(le,H)||le.parentNode===ee||!!$(le,H,O,!0)}),$(Y,H,O))}return W?Q(W):Q(W=p.getNode())||(j=p.getStart())!=W&&Q(j)?d:e}function oe(H,O){return te(H,O.inline)||te(H,O.block)?d:O.selector?1==H.nodeType&&n.is(H,O.selector):void 0}function te(H,O){return O=""+((O=O||"").nodeName||O),(H=""+((H=H||"").nodeName||H)).toLowerCase()==O.toLowerCase()}function Te(H,O,W){R(H.childNodes,function(j){xe(j)&&(O(j)&&W(j),j.hasChildNodes()&&Te(j,O,W))})}function xe(H){return H&&1===H.nodeType&&!A(H)&&!B(H)&&!l.isBogus(H)}function Ae(H){return u.curry(function(O,W){return!(!W||!Fe(W,O))},H)}function Fe(H,O){return Ue(n.getStyle(H,O),O)}function Ue(H,O){return("color"==O||"backgroundColor"==O)&&(H=n.toHex(H)),"fontWeight"==O&&700==H&&(H="bold"),"fontFamily"==O&&(H=H.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+H}function Ve(H,O){return"string"!=typeof H?H=H(O):O&&(H=H.replace(/%(\w+)/g,function(W,j){return O[j]||W})),H}function K(H){return H&&3===H.nodeType&&/^([\t \r\n]+|)$/.test(H.nodeValue)}function fe(H,O,W){var j=n.create(O,W);return H.parentNode.insertBefore(j,H),j.appendChild(H),j}function Ee(H,O,W){var j,Q,Y,ee=H.startContainer,le=H.startOffset,ie=H.endContainer,Ce=H.endOffset;function Re(be){var pe,ce,ge,De,Le,Me;if(pe=ce=be?ee:ie,De=be?"previousSibling":"nextSibling",Le=n.getRoot(),3==pe.nodeType&&!K(pe)&&(be?le>0:Ce<pe.nodeValue.length))return pe;for(;;){if(!O[0].block_expand&&y(ce))return ce;for(ge=ce[De];ge;ge=ge[De])if(!A(ge)&&!K(ge)&&("BR"!=(Me=ge).nodeName||!Me.getAttribute("data-mce-bogus")||Me.nextSibling))return ce;if(ce==Le||ce.parentNode==Le){pe=ce;break}ce=ce.parentNode}return pe}function Be(be,pe){for(pe===t&&(pe=3===be.nodeType?be.length:be.childNodes.length);be&&be.hasChildNodes();)(be=be.childNodes[pe])&&(pe=3===be.nodeType?be.length:be.childNodes.length);return{node:be,offset:pe}}function Pe(be){for(var pe=be;pe;){if(1===pe.nodeType&&g(pe))return"false"===g(pe)?pe:be;pe=pe.parentNode}return be}function He(be,pe,ce){var ge,De,Le,_e;function Me(Ge,ze){var Ze,Je,Qe=Ge.nodeValue;return void 0===ze&&(ze=ce?Qe.length:0),ce?-1!==(Ze=(Ze=Qe.lastIndexOf(" ",ze))>(Je=Qe.lastIndexOf("\xa0",ze))?Ze:Je)&&!W&&Ze++:(Ze=Qe.indexOf(" ",ze),Je=Qe.indexOf("\xa0",ze),Ze=-1!==Ze&&(-1===Je||Ze<Je)?Ze:Je),Ze}if(3===be.nodeType){if(-1!==(Le=Me(be,pe)))return{container:be,offset:Le};_e=be}for(ge=new T(be,n.getParent(be,y)||s.getBody());De=ge[ce?"prev":"next"]();)if(3===De.nodeType){if(_e=De,-1!==(Le=Me(De)))return{container:De,offset:Le}}else if(y(De))break;if(_e)return{container:_e,offset:pe=ce?0:_e.length}}function he(be,pe){var ce,ge,De,Le;for(3==be.nodeType&&0===be.nodeValue.length&&be[pe]&&(be=be[pe]),ce=L(be),ge=0;ge<ce.length;ge++)for(De=0;De<O.length;De++)if((!("collapsed"in(Le=O[De]))||Le.collapsed===H.collapsed)&&n.is(ce[ge],Le.selector))return ce[ge];return be}function ke(be,pe){var ce,ge=n.getRoot();if(O[0].wrapper||(ce=n.getParent(be,O[0].block,ge)),ce||(ce=n.getParent(3==be.nodeType?be.parentNode:be,function(De){return De!=ge&&M(De)})),ce&&O[0].wrapper&&(ce=L(ce,"ul,ol").reverse()[0]||ce),!ce)for(ce=be;ce[pe]&&!y(ce[pe])&&!te(ce=ce[pe],"br"););return ce||be}if(1==ee.nodeType&&ee.hasChildNodes()&&3==(ee=ee.childNodes[le>(j=ee.childNodes.length-1)?j:le]).nodeType&&(le=0),1==ie.nodeType&&ie.hasChildNodes()&&3==(ie=ie.childNodes[Ce>(j=ie.childNodes.length-1)?j:Ce-1]).nodeType&&(Ce=ie.nodeValue.length),ee=Pe(ee),ie=Pe(ie),(A(ee.parentNode)||A(ee))&&3==(ee=(ee=A(ee)?ee:ee.parentNode).nextSibling||ee).nodeType&&(le=0),(A(ie.parentNode)||A(ie))&&3==(ie=(ie=A(ie)?ie:ie.parentNode).previousSibling||ie).nodeType&&(Ce=ie.length),O[0].inline&&(H.collapsed&&((Y=He(ee,le,!0))&&(ee=Y.container,le=Y.offset),(Y=He(ie,Ce))&&(ie=Y.container,Ce=Y.offset)),(Q=Be(ie,Ce)).node)){for(;Q.node&&0===Q.offset&&Q.node.previousSibling;)Q=Be(Q.node.previousSibling);Q.node&&Q.offset>0&&3===Q.node.nodeType&&" "===Q.node.nodeValue.charAt(Q.offset-1)&&Q.offset>1&&(ie=Q.node).splitText(Q.offset-1)}return(O[0].inline||O[0].block_expand)&&((!O[0].inline||3!=ee.nodeType||0===le)&&(ee=Re(!0)),(!O[0].inline||3!=ie.nodeType||Ce===ie.nodeValue.length)&&(ie=Re())),O[0].selector&&O[0].expand!==e&&!O[0].inline&&(ee=he(ee,"previousSibling"),ie=he(ie,"nextSibling")),(O[0].block||O[0].selector)&&(ee=ke(ee,"previousSibling"),ie=ke(ie,"nextSibling"),O[0].block&&(y(ee)||(ee=Re(!0)),y(ie)||(ie=Re()))),1==ee.nodeType&&(le=b(ee),ee=ee.parentNode),1==ie.nodeType&&(Ce=b(ie)+1,ie=ie.parentNode),{startContainer:ee,startOffset:le,endContainer:ie,endOffset:Ce}}function Ie(H,O,W,j){var Q,Y,ee;if(!oe(W,H)&&!function Ne(H,O){return O.links&&"A"==H.tagName}(W,H))return e;if("all"!=H.remove)for(R(H.styles,function(ie,Ce){ie=Ue(Ve(ie,O),Ce),"number"==typeof Ce&&(Ce=ie,j=0),(H.remove_similar||!j||te(Fe(j,Ce),ie))&&n.setStyle(W,Ce,""),ee=1}),ee&&""===n.getAttrib(W,"style")&&(W.removeAttribute("style"),W.removeAttribute("data-mce-style")),R(H.attributes,function(ie,Ce){var Re;if(ie=Ve(ie,O),"number"==typeof Ce&&(Ce=ie,j=0),!j||te(n.getAttrib(j,Ce),ie)){if("class"==Ce&&(ie=n.getAttrib(W,Ce))&&(Re="",R(ie.split(/\s+/),function(Be){/mce\-\w+/.test(Be)&&(Re+=(Re?" ":"")+Be)}),Re))return void n.setAttrib(W,Ce,Re);"class"==Ce&&W.removeAttribute("className"),i.test(Ce)&&W.removeAttribute("data-mce-"+Ce),W.removeAttribute(Ce)}}),R(H.classes,function(ie){ie=Ve(ie,O),(!j||n.hasClass(j,ie))&&n.removeClass(W,ie)}),Y=n.getAttribs(W),Q=0;Q<Y.length;Q++){var le=Y[Q].nodeName;if(0!==le.indexOf("_")&&0!==le.indexOf("data-"))return e}return"none"!=H.remove?(function Oe(H,O){var j,W=H.parentNode;function Q(Y,ee,le){return!(Y=Ye(Y,ee,le))||"BR"==Y.nodeName||y(Y)}O.block&&(h?W==n.getRoot()&&(!O.list_block||!te(H,O.list_block))&&R(N(H.childNodes),function(Y){x(h,Y.nodeName.toLowerCase())?j?j.appendChild(Y):(j=fe(Y,h),n.setAttribs(j,s.settings.forced_root_block_attrs)):j=0}):y(H)&&!y(W)&&(!Q(H,e)&&!Q(H.firstChild,d,1)&&H.insertBefore(n.create("br"),H.firstChild),!Q(H,d)&&!Q(H.lastChild,e,1)&&H.appendChild(n.create("br")))),(!O.selector||!O.inline||te(O.inline,H))&&n.remove(H,1)}(W,H),d):void 0}function Ye(H,O,W){if(H)for(O=O?"nextSibling":"previousSibling",H=W?H:H[O];H;H=H[O])if(1==H.nodeType||!K(H))return H}function Ke(H,O){var W,j,Q=new c(n);function Y(ee,le){for(W=ee;W;W=W[le]){if(3==W.nodeType&&0!==W.nodeValue.length)return ee;if(1==W.nodeType&&!A(W))return W}return ee}if(H&&O&&(H=Y(H,"previousSibling"),O=Y(O,"nextSibling"),Q.compare(H,O))){for(W=H.nextSibling;W&&W!=O;)j=W,W=W.nextSibling,H.appendChild(j);return n.remove(O),R(N(O.childNodes),function(ee){H.appendChild(ee)}),H}return O}function je(H,O){var W,j,Q;return j=H[O?"startOffset":"endOffset"],1==(W=H[O?"startContainer":"endContainer"]).nodeType&&(!O&&j&&j--,W=W.childNodes[j>(Q=W.childNodes.length-1)?Q:j]),3===W.nodeType&&O&&j>=W.nodeValue.length&&(W=new T(W,s.getBody()).next()||W),3===W.nodeType&&!O&&0===j&&(W=new T(W,s.getBody()).prev()||W),W}function Xe(H,O,W,j){var Q="_mce_caret",Y=s.settings.caret_debug;function ee(he){var ke=n.create("span",{id:Q,"data-mce-bogus":!0,style:Y?"color:red":""});return he&&ke.appendChild(s.getDoc().createTextNode(m)),ke}function le(he,ke){for(;he;){if(3===he.nodeType&&he.nodeValue!==m||he.childNodes.length>1)return!1;ke&&1===he.nodeType&&ke.push(he),he=he.firstChild}return!0}function ie(he){for(;he;){if(he.id===Q)return he;he=he.parentNode}}function Ce(he){var ke;if(he)for(he=(ke=new T(he,he)).current();he;he=ke.next())if(3===he.nodeType)return he}function Re(he,ke){var be,pe;if(he)pe=p.getRng(!0),le(he)?(!1!==ke&&(pe.setStartBefore(he),pe.setEndBefore(he)),n.remove(he)):((be=Ce(he)).nodeValue.charAt(0)===m&&(be.deleteData(0,1),pe.startContainer==be&&pe.startOffset>0&&pe.setStart(be,pe.startOffset-1),pe.endContainer==be&&pe.endOffset>0&&pe.setEnd(be,pe.endOffset-1)),n.remove(he,1)),p.setRng(pe);else if(!(he=ie(p.getStart())))for(;he=n.get(Q);)Re(he,!1)}function He(){var he;(he=ie(p.getStart()))&&!n.isEmpty(he)&&_(he,function(ke){1==ke.nodeType&&ke.id!==Q&&!n.isEmpty(ke)&&n.setAttrib(ke,"data-mce-bogus",null)},"childNodes")}s._hasCaretEvents||(E=function(){var be,ke=[];if(le(ie(p.getStart()),ke))for(be=ke.length;be--;)n.setAttrib(ke[be],"data-mce-bogus","1")},w=function(ke){var be=ke.keyCode;Re(),8==be&&p.isCollapsed()&&p.getStart().innerHTML==m&&Re(ie(p.getStart())),(37==be||39==be)&&Re(ie(p.getStart())),He()},s.on("SetContent",function(he){he.selection&&He()}),s._hasCaretEvents=!0),"apply"==H?function Be(){var he,ke,be,pe,ce,De;pe=(he=p.getRng(!0)).startOffset,De=he.startContainer.nodeValue,(ke=ie(p.getStart()))&&(be=Ce(ke));var Le=/[^\s\u00a0\u00ad\u200b\ufeff]/;De&&pe>0&&pe<De.length&&Le.test(De.charAt(pe))&&Le.test(De.charAt(pe-1))?(ce=p.getBookmark(),he.collapse(!0),he=Ee(he,G(O)),he=k.split(he),me(O,W,he),p.moveToBookmark(ce)):((!ke||be.nodeValue!==m)&&(be=(ke=ee(!0)).firstChild,he.insertNode(ke),pe=1),me(O,W,ke),p.setCursorLocation(be,pe))}():function Pe(){var ke,pe,ce,ge,De,_e,Me,he=p.getRng(!0),Le=[];for(ge=ke=he.startContainer,3==ke.nodeType&&(he.startOffset!=ke.nodeValue.length&&(ce=!0),ge=ge.parentNode);ge;){if($(ge,O,W,j)){De=ge;break}ge.nextSibling&&(ce=!0),Le.push(ge),ge=ge.parentNode}if(De)if(ce)pe=p.getBookmark(),he.collapse(!0),he=Ee(he,G(O),!0),he=k.split(he),X(O,W,he),p.moveToBookmark(pe);else{for(ge=Me=ee(),_e=Le.length-1;_e>=0;_e--)ge.appendChild(n.clone(Le[_e],!1)),ge=ge.firstChild;ge.appendChild(n.doc.createTextNode(m)),ge=ge.firstChild;var Ge=n.getParent(De,M);Ge&&n.isEmpty(Ge)?De.parentNode.replaceChild(Me,De):n.insertAfter(Me,De),p.setCursorLocation(ge,1),n.isEmpty(De)&&n.remove(De)}}()}function ot(H){var j,Q,Y,O=H.startContainer,W=H.startOffset;if((H.startContainer!=H.endContainer||!function U(H){return H&&/^(IMG)$/.test(H.nodeName)}(H.startContainer.childNodes[H.startOffset]))&&(3==O.nodeType&&W>=O.nodeValue.length&&(W=b(O),O=O.parentNode),1==O.nodeType))for(W<(Y=O.childNodes).length?j=new T(O=Y[W],n.getParent(O,n.isBlock)):(j=new T(O=Y[Y.length-1],n.getParent(O,n.isBlock))).next(!0),Q=j.current();Q;Q=j.next())if(3==Q.nodeType&&!K(Q))return H.setStart(Q,0),void p.setRng(H)}(0,f.extend)(this,{get:G,register:ne,unregister:function se(H){return H&&a[H]&&delete a[H],a},apply:me,remove:X,toggle:function Z(H,O,W){var j=G(H);!J(H,O,W)||"toggle"in j[0]&&!j[0].toggle?me(H,O,W):X(H,O,W)},match:J,matchAll:function re(H,O){var W,j=[],Q={};return W=p.getStart(),n.getParent(W,function(Y){var ee,le;for(ee=0;ee<H.length;ee++)!Q[le=H[ee]]&&$(Y,le,O)&&(Q[le]=!0,j.push(le))},n.getRoot()),j},matchNode:$,canApply:function ye(H){var j,Q,Y,ee,O=G(H);if(O)for(j=L(p.getStart()),Y=O.length-1;Y>=0;Y--){if(!(ee=O[Y].selector)||O[Y].defaultBlock)return d;for(Q=j.length-1;Q>=0;Q--)if(n.is(j[Q],ee))return d}return e},formatChanged:function we(H,O,W){var j;return v||(v={},j={},s.on("NodeChange",function(Q){var Y=L(Q.element),ee={};Y=f.grep(Y,function(le){return 1==le.nodeType&&!le.getAttribute("data-mce-bogus")}),R(v,function(le,ie){R(Y,function(Ce){return $(Ce,ie,{},le.similar)?(j[ie]||(R(le,function(Re){Re(!0,{node:Ce,format:ie,parents:Y})}),j[ie]=le),ee[ie]=le,!1):!de(Ce,ie)&&void 0})}),R(j,function(le,ie){ee[ie]||(delete j[ie],R(le,function(Ce){Ce(!1,{node:Q.element,format:ie,parents:Y})}))})})),R(H.split(","),function(Q){v[Q]||(v[Q]=[],v[Q].similar=W),v[Q].push(O)}),this},getCssText:function ae(H){return o.getCssText(s,H)}}),function I(){ne({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(O,W,j){R(j,function(Q,Y){n.setAttrib(O,Y,Q)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),R("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(H){ne(H,{block:H,remove:"all"})}),ne(s.settings.formats)}(),function q(){s.addShortcut("meta+b","bold_desc","Bold"),s.addShortcut("meta+i","italic_desc","Italic"),s.addShortcut("meta+u","underline_desc","Underline");for(var H=1;H<=6;H++)s.addShortcut("access+"+H,"",["FormatBlock",!1,"h"+H]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),s.on("BeforeGetContent",function(H){E&&"raw"!=H.format&&E()}),s.on("mouseup keydown",function(H){w&&w(H)})}}),V("tinymce.core.undo.Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(u,f){var o=u.length+f.length+2,r=new Array(o),s=new Array(o),p=function(h,b,m,i){for(var e=h;e-b<i&&e<m&&u[e]===f[e-b];)++e;return function(h,b,m){return{start:h,end:b,diag:m}}(h,e,b)},x=[];return function y(h,b,m,i,e){var d=function(h,b,m,i){var e=b-h,d=i-m;if(0===e||0===d)return null;var v=e-d,t=d+e,g=(t%2==0?t:t+1)/2;r[1+g]=h,s[1+g]=b+1;for(var w=0;w<=g;++w){for(var E=-w;E<=w;E+=2){var A=E+g;r[A]=E===-w||E!=w&&r[A-1]<r[A+1]?r[A+1]:r[A-1]+1;for(var R=r[A],N=R-h+m-E;R<b&&N<i&&u[R]===f[N];)r[A]=++R,++N;if(v%2!=0&&v-w<=E&&E<=v+w&&s[A-v]<=r[A])return p(s[A-v],E+h-m,b,i)}for(E=v-w;E<=v+w;E+=2){for(s[A=E+g-v]=E===v-w||E!=v+w&&s[A+1]<=s[A-1]?s[A+1]-1:s[A-1],N=(R=s[A]-1)-h+m-E;R>=h&&N>=m&&u[R]===f[N];)s[A]=R--,N--;if(v%2==0&&-w<=E&&E<=w&&s[A]<=r[A+v])return p(s[A],E+h-m,b,i)}}}(h,b,m,i);if(null===d||d.start===b&&d.diag===b-i||d.end===h&&d.diag===h-m)for(var v=h,t=m;v<b||t<i;)v<b&&t<i&&u[v]===f[t]?(e.push([0,u[v]]),++v,++t):b-h>i-m?(e.push([2,u[v]]),++v):(e.push([1,f[t]]),++t);else{y(h,d.start,m,d.start-d.diag,e);for(var g=d.start;g<d.end;++g)e.push([0,u[g]]);y(d.end,b,d.end-d.diag,i,e)}}(0,u.length,0,f.length,x),x}}}),V("tinymce.core.undo.Fragments",["tinymce.core.util.Arr","tinymce.core.html.Entities","tinymce.core.undo.Diff"],function(T,S,C){var c=function(n){return 1===n.nodeType?n.outerHTML:3===n.nodeType?S.encodeRaw(n.data,!1):8===n.nodeType?"\x3c!--"+n.data+"--\x3e":""};return{read:function(n){return T.filter(T.map(n.childNodes,c),function(p){return p.length>0})},write:function(n,p){var k=T.map(p.childNodes,c);return function(n,p){var k=0;T.each(n,function(x){x[0]===C.KEEP?k++:x[0]===C.INSERT?(function(n,p,k){var x=function(n){var p,k,x;for(x=document.createElement("div"),p=document.createDocumentFragment(),n&&(x.innerHTML=n);k=x.firstChild;)p.appendChild(k);return p}(p);if(n.hasChildNodes()&&k<n.childNodes.length){var y=n.childNodes[k];y.parentNode.insertBefore(x,y)}else n.appendChild(x)}(p,x[1],k),k++):x[0]===C.DELETE&&function(n,p){if(n.hasChildNodes()&&p<n.childNodes.length){var k=n.childNodes[p];k.parentNode.removeChild(k)}}(p,k)})}(C.diff(k,n),p),p}}}),V("tinymce.core.undo.Levels",["tinymce.core.util.Arr","tinymce.core.undo.Fragments"],function(T,S){var c=function(a){return{type:"fragmented",fragments:a,content:"",bookmark:null,beforeBookmark:null}},l=function(a){return{type:"complete",fragments:null,content:a,bookmark:null,beforeBookmark:null}},o=function(a){return"fragmented"===a.type?a.fragments.join(""):a.content};return{createFragmentedLevel:c,createCompleteLevel:l,createFromEditor:function(a){var n,p,k;return n=S.read(a.getBody()),function(a){return-1!==a.indexOf("</iframe>")}(p=(k=T.map(n,function(x){return a.serializer.trimContent(x)})).join(""))?c(k):l(p)},applyToEditor:function(a,n,p){"fragmented"===n.type?S.write(n.fragments,a.getBody()):a.setContent(n.content,{format:"raw"}),a.selection.moveToBookmark(p?n.beforeBookmark:n.bookmark)},isEq:function(a,n){return o(a)===o(n)}}}),V("tinymce.core.UndoManager",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.undo.Levels"],function(T,S,C){return function(c){var o,r,l=this,u=0,f=[],s=0,a=function(){return 0===s},n=function(h){a()&&(l.typing=h)};function p(y){c.setDirty(y)}function k(y){n(!1),l.add({},y)}function x(){l.typing&&(n(!1),l.add())}return c.on("init",function(){l.add()}),c.on("BeforeExecCommand",function(y){var h=y.command;"Undo"!==h&&"Redo"!==h&&"mceRepaint"!==h&&(x(),l.beforeChange())}),c.on("ExecCommand",function(y){var h=y.command;"Undo"!==h&&"Redo"!==h&&"mceRepaint"!==h&&k(y)}),c.on("ObjectResizeStart Cut",function(){l.beforeChange()}),c.on("SaveContent ObjectResized blur",k),c.on("DragEnd",k),c.on("KeyUp",function(y){var h=y.keyCode;y.isDefaultPrevented()||((h>=33&&h<=36||h>=37&&h<=40||45===h||y.ctrlKey)&&(k(),c.nodeChanged()),(46===h||8===h)&&c.nodeChanged(),r&&l.typing&&!1===C.isEq(C.createFromEditor(c),f[0])&&(!1===c.isDirty()&&(p(!0),c.fire("change",{level:f[0],lastLevel:null})),c.fire("TypingUndo"),r=!1,c.nodeChanged()))}),c.on("KeyDown",function(y){var h=y.keyCode;if(!y.isDefaultPrevented()){if(h>=33&&h<=36||h>=37&&h<=40||45===h)return void(l.typing&&k(y));(h<16||h>20)&&224!==h&&91!==h&&!l.typing&&!(y.ctrlKey&&!y.altKey||y.metaKey)&&(l.beforeChange(),n(!0),l.add({},y),r=!0)}}),c.on("MouseDown",function(y){l.typing&&k(y)}),c.addShortcut("meta+z","","Undo"),c.addShortcut("meta+y,meta+shift+z","","Redo"),c.on("AddUndo Undo Redo ClearUndos",function(y){y.isDefaultPrevented()||c.nodeChanged()}),l={data:f,typing:!1,beforeChange:function(){a()&&(o=c.selection.getBookmark(2,!0))},add:function(h,b){var m,e,d,i=c.settings;if(d=C.createFromEditor(c),h=S.extend(h=h||{},d),!1===a()||c.removed||c.fire("BeforeAddUndo",{level:h,lastLevel:e=f[u],originalEvent:b}).isDefaultPrevented()||e&&C.isEq(e,h))return null;if(f[u]&&(f[u].beforeBookmark=o),i.custom_undo_redo_levels&&f.length>i.custom_undo_redo_levels){for(m=0;m<f.length-1;m++)f[m]=f[m+1];f.length--,u=f.length}h.bookmark=c.selection.getBookmark(2,!0),u<f.length-1&&(f.length=u+1),f.push(h),u=f.length-1;var v={level:h,lastLevel:e,originalEvent:b};return c.fire("AddUndo",v),u>0&&(p(!0),c.fire("change",v)),h},undo:function(){var h;return l.typing&&(l.add(),l.typing=!1,n(!1)),u>0&&(h=f[--u],C.applyToEditor(c,h,!0),p(!0),c.fire("undo",{level:h})),h},redo:function(){var h;return u<f.length-1&&(h=f[++u],C.applyToEditor(c,h,!1),p(!0),c.fire("redo",{level:h})),h},clear:function(){f=[],u=0,l.typing=!1,l.data=f,c.fire("ClearUndos")},hasUndo:function(){return u>0||l.typing&&f[0]&&!C.isEq(C.createFromEditor(c),f[0])},hasRedo:function(){return u<f.length-1&&!l.typing},transact:function(h){return x(),l.beforeChange(),l.ignore(h),l.add()},ignore:function(h){try{s++,h()}finally{s--}},extra:function(h,b){var i;l.transact(h)&&(i=f[u].bookmark,C.applyToEditor(c,f[u-1],!0),l.transact(b)&&(f[u-1].beforeBookmark=i))}}}}),V("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(T,S,C,c){var u=T.cached(function(){return f(S.fromDom(c))}),f=function(r){var s=r.dom().body;if(null==s)throw"Body is not available yet";return S.fromDom(s)};return{body:u,getBody:f,inBody:function(r){var s=C.isText(r)?r.dom().parentNode:r.dom();return null!=s&&s.ownerDocument.body.contains(s)}}}),V("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(T,S){return function(C,c,l,u,f){return C(l,u)?S.some(l):T.isFunction(f)&&f(l)?S.none():c(l,u,f)}}),V("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(T,S,C,c,l,u,f,o){var s=function(y,h,b){for(var m=y.dom(),i=T.isFunction(b)?b:C.constant(!1);m.parentNode;){var e=f.fromDom(m=m.parentNode);if(h(e))return c.some(e);if(i(e))break}return c.none()},p=function(y,h){return S.find(y.dom().childNodes,C.compose(h,f.fromDom)).map(f.fromDom)},k=function(y,h){return function m(i){for(var e=0;e<i.childNodes.length;e++){if(h(f.fromDom(i.childNodes[e])))return c.some(f.fromDom(i.childNodes[e]));var d=m(i.childNodes[e]);if(d.isSome())return d}return c.none()}(y.dom())};return{first:function(y){return k(l.body(),y)},ancestor:s,closest:function(y,h,b){return o(function(e){return h(e)},s,y,h,b)},sibling:function(y,h){var b=y.dom();return b.parentNode?p(f.fromDom(b.parentNode),function(m){return!u.eq(y,m)&&h(m)}):c.none()},child:p,descendant:k}}),V("tinymce.core.caret.CaretUtils",["tinymce.core.util.Fun","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretCandidate"],function(T,S,C,c,l,u){var f=C.isContentEditableTrue,o=C.isContentEditableFalse,r=C.matchStyleValues("display","block table table-cell table-caption list-item"),s=l.isCaretContainer,a=l.isCaretContainerBlock,n=T.curry,p=C.isElement,k=u.isCaretCandidate;function x(_){return _>0}function y(_){return _<0}function h(_,P){for(var M;M=_(P);)if(!a(M))return M;return null}function m(_,P){for(_=_.parentNode;_&&_!=P;_=_.parentNode)if(f(_))return _;return P}function i(_,P){for(;_&&_!=P;){if(r(_))return _;_=_.parentNode}return null}function t(_,P){var M=P.ownerDocument.createRange();return _?(M.setStartBefore(P),M.setEndBefore(P)):(M.setStartAfter(P),M.setEndAfter(P)),M}function g(_,P,M){return i(P,_)==i(M,_)}function w(_,P,M){var D,U;for(U=_?"previousSibling":"nextSibling";M&&M!=P;){if(s(D=M[U])&&(D=D[U]),o(D)){if(g(P,D,M))return D;break}if(k(D))break;M=M.parentNode}return null}var E=n(t,!0),A=n(t,!1);function N(_,P){return o(function v(_,P){var M,D;return P&&(M=P.container(),D=P.offset(),p(M))?M.childNodes[D+_]:null}(_,P))}return{isForwards:x,isBackwards:y,findNode:function b(_,P,M,D,U){var L=new S(_,D);if(y(P)){if((o(_)||a(_))&&M(_=h(L.prev,!0)))return _;for(;_=h(L.prev,U);)if(M(_))return _}if(x(P)){if((o(_)||a(_))&&M(_=h(L.next,!0)))return _;for(;_=h(L.next,U);)if(M(_))return _}return null},getEditingHost:m,getParentBlock:i,isInSameBlock:function e(_,P,M){return i(_.container(),M)==i(P.container(),M)},isInSameEditingHost:function d(_,P,M){return m(_.container(),M)==m(P.container(),M)},isBeforeContentEditableFalse:n(N,0),isAfterContentEditableFalse:n(N,-1),normalizeRange:function R(_,P,M){var D,U,L,B,I=n(w,!0,P),F=n(w,!1,P);if(L=M.startOffset,l.isCaretContainerBlock(U=M.startContainer)){if(p(U)||(U=U.parentNode),"before"==(B=U.getAttribute("data-mce-caret"))&&o(D=U.nextSibling))return E(D);if("after"==B&&o(D=U.previousSibling))return A(D)}if(!M.collapsed)return M;if(C.isText(U)){if(s(U)){if(1===_){if(D=F(U))return E(D);if(D=I(U))return A(D)}if(-1===_){if(D=I(U))return A(D);if(D=F(U))return E(D)}return M}if(l.endsWithCaretContainer(U)&&L>=U.data.length-1)return 1===_&&(D=F(U))?E(D):M;if(l.startsWithCaretContainer(U)&&L<=1)return-1===_&&(D=I(U))?A(D):M;if(L===U.data.length)return(D=F(U))?E(D):M;if(0===L)return(D=I(U))?A(D):M}return M}}}),V("tinymce.core.caret.CaretWalker",["tinymce.core.dom.NodeType","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(T,S,C,c,l,u){var f=T.isContentEditableFalse,o=T.isText,r=T.isElement,s=T.isBr,a=c.isForwards,n=c.isBackwards,p=S.isCaretCandidate,k=S.isAtomic,x=S.isEditableCaretCandidate;function h(e,d){return e.hasChildNodes()&&d<e.childNodes.length?e.childNodes[d]:null}function b(e,d){if(a(e)){if(p(d.previousSibling)&&!o(d.previousSibling))return C.before(d);if(o(d))return C(d,0)}if(n(e)){if(p(d.nextSibling)&&!o(d.nextSibling))return C.after(d);if(o(d))return C(d,d.data.length)}return n(e)?s(d)?C.before(d):C.after(d):C.before(d)}function i(e,d,v){var t,g,w,E,A,R,N;if(!r(v)||!d)return null;if(d.isEqual(C.after(v))&&v.lastChild){if(N=C.after(v.lastChild),n(e)&&p(v.lastChild)&&r(v.lastChild))return s(v.lastChild)?C.before(v.lastChild):N}else N=d;if(t=N.container(),g=N.offset(),o(t)){if(n(e)&&g>0)return C(t,--g);if(a(e)&&g<t.length)return C(t,++g);w=t}else{if(n(e)&&g>0&&(E=h(t,g-1),p(E)))return!k(E)&&(A=c.findNode(E,e,x,E))?o(A)?C(A,A.data.length):C.after(A):o(E)?C(E,E.data.length):C.before(E);if(a(e)&&g<t.childNodes.length&&(E=h(t,g),p(E)))return function m(e,d){var v;return!(!T.isBr(e)||(v=i(1,C.after(e),d),!v)||c.isInSameBlock(C.before(e),C.before(v),d))}(E,v)?i(e,C.after(E),v):!k(E)&&(A=c.findNode(E,e,x,E))?o(A)?C(A,0):C.before(A):o(E)?C(E,0):C.after(E);w=N.getNode()}return(a(e)&&N.isAtEnd()||n(e)&&N.isAtStart())&&(w=c.findNode(w,e,u.constant(!0),v,!0),x(w))?b(e,w):(E=c.findNode(w,e,x,v),R=l.last(l.filter(function y(e,d){for(var v=[];e&&e!=d;)v.push(e),e=e.parentNode;return v}(t,v),f)),!R||E&&R.contains(E)?E?b(e,E):null:N=a(e)?C.after(R):C.before(R))}return function(e){return{next:function(v){return i(1,v,e)},prev:function(v){return i(-1,v,e)}}}}),V("tinymce.core.caret.CaretFinder",["ephox.katamari.api.Fun","ephox.katamari.api.Option","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType"],function(T,S,C,c,l,u,f){var s=function(m){return c.isTextPosition(m)?0===m.offset():C.isCaretCandidate(m.getNode())},a=function(m){return c.isTextPosition(m)?m.offset()===m.container().data.length:C.isCaretCandidate(m.getNode(!0))},n=function(m,i){return!c.isTextPosition(m)&&!c.isTextPosition(i)&&m.getNode()===i.getNode(!0)},x=function(m,i,e){var d=new u(i);return S.from(m?d.next(e):d.prev(e))};return{fromPosition:x,navigate:function(m,i,e){return x(m,i,e).bind(function(d){return l.isInSameBlock(e,d,i)&&function(m,i,e){return m?!n(i,e)&&!function(m){return!c.isTextPosition(m)&&f.isBr(m.getNode())}(i)&&a(i)&&s(e):!n(e,i)&&s(i)&&a(e)}(m,e,d)?x(m,i,d):S.some(d)})},positionIn:function(m,i){var e=m?i.firstChild:i.lastChild;return f.isText(e)?S.some(new c(e,m?0:e.data.length)):e?C.isCaretCandidate(e)?S.some(m?c.before(e):function(m){return f.isBr(m)?c.before(m):c.after(m)}(e)):function(m,i,e){var d=m?c.before(e):c.after(e);return x(m,i,d)}(m,i,e):S.none()}}}),V("tinymce.core.delete.DeleteUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind"],function(T,S,C,c,l,u){var p,o=(p=T.foldl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],function(k,x){return k[x]=!0,k},{}),function(k){return!0===p[l.name(k)]});return{getParentTextBlock:function(n,p){return C.contains(n,p)?u.closest(p,o,function(n){return function(p){return C.eq(n,c.fromDom(p.dom().parentNode))}}(n)):S.none()}}}),V("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(T,S,C){var l=function(a,n,p){return T.ancestor(a,function(k){return S.is(k,n)},p)};return{first:function(a){return S.one(a)},ancestor:l,sibling:function(a,n){return T.sibling(a,function(p){return S.is(p,n)})},child:function(a,n){return T.child(a,function(p){return S.is(p,n)})},descendant:function(a,n){return S.one(n,a)},closest:function(a,n,p){return C(S.is,l,a,n,p)}}}),V("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],function(T){return{any:function(r){return T.first(r).isSome()},ancestor:function(r,s,a){return T.ancestor(r,s,a).isSome()},sibling:function(r,s){return T.sibling(r,s).isSome()},child:function(r,s){return T.child(r,s).isSome()},descendant:function(r,s){return T.descendant(r,s).isSome()},closest:function(r,s,a){return T.closest(r,s,a).isSome()}}}),V("tinymce.core.dom.Empty",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorExists","tinymce.core.caret.CaretCandidate","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(T,S,C,c,l,u,f){var a=function(b,m){return l.isCaretCandidate(m)&&!1===function(b,m){return u.isText(m)&&/^[ \t\r\n]*$/.test(m.data)&&!1===function(b,m){var i=C.fromDom(b),e=C.fromDom(m);return c.ancestor(e,"pre,code",T.curry(S.eq,i))}(b,m)}(b,m)||function(b){return u.isElement(b)&&"A"===b.nodeName&&b.hasAttribute("name")}(m)||n(m)},n=u.hasAttribute("data-mce-bookmark"),p=u.hasAttribute("data-mce-bogus"),k=u.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(b){return function(b){var m,i,e=0;if(a(b,b))return!1;if(!(i=b.firstChild))return!0;m=new f(i,b);do{if(k(i))i=m.next(!0);else if(p(i))i=m.next();else if(u.isBr(i))e++,i=m.next();else{if(a(b,i))return!1;i=m.next()}}while(i);return e<=1}(b.dom())}}}),V("tinymce.core.delete.BlockBoundary",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(T,S,C,c,l,u,f,o,r,s,a,n,p,k,x){var y=l.immutable("block","position"),h=l.immutable("from","to"),b=function(w,E){var A=f.fromDom(w),R=f.fromDom(E.container());return p.getParentTextBlock(A,R).map(function(N){return y(N,E)})};return{read:function(w,E,A){return A.collapsed?function(w,E,A){var R=b(w,n.fromRangeStart(A)),N=R.bind(function(_){return a.fromPosition(E,w,_.position()).bind(function(P){return b(w,P).map(function(M){return function(w,E,A){return x.isBr(A.position().getNode())&&!1===k.isEmpty(A.block())?a.positionIn(!1,A.block().dom()).bind(function(R){return R.isEqual(A.position())?a.fromPosition(E,w,R).bind(function(N){return b(w,N)}):C.some(A)}).getOr(A):A}(w,E,M)})})});return c.liftN([R,N],h).filter(function(_){return function(w){return!1===u.eq(w.from().block(),w.to().block())}(_)&&function(w){return s.parent(w.from().block()).bind(function(E){return s.parent(w.to().block()).filter(function(A){return u.eq(E,A)})}).isSome()}(_)&&function(w){return!1===x.isContentEditableFalse(w.from().block())&&!1===x.isContentEditableFalse(w.to().block())}(_)})}(w,E,A):C.none()}}}),V("tinymce.core.delete.MergeBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(T,S,C,c,l,u,f,o,r,s){var a=function(k,x,y,h){var b=u.children(x);return s.isBr(h.getNode())&&(c.remove(l.fromDom(h.getNode())),h=f.positionIn(!1,y.dom()).getOr(h)),!1===r.isEmpty(x)&&T.each(b,function(m){C.append(y,m)}),r.isEmpty(x)&&c.remove(x),b.length>0?S.from(h):S.none()};return{mergeBlocks:function(k,x,y){return k?r.isEmpty(x)?(c.remove(x),f.positionIn(!0,y.dom())):f.positionIn(!1,x.dom()).bind(function(h){return a(0,y,x,h)}):r.isEmpty(y)?(c.remove(y),f.positionIn(!0,x.dom())):f.positionIn(!1,y.dom()).bind(function(h){return a(0,x,y,h)})}}}),V("tinymce.core.delete.BlockBoundaryDelete",["tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],function(T,S){return{backspaceDelete:function(l,u){var f;return(f=T.read(l.getBody(),u,l.selection.getRng()).bind(function(o){return S.mergeBlocks(u,o.from().block(),o.to().block())})).each(function(o){l.selection.setRng(o.toRange())}),f.isSome()}}}),V("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks"],function(T,S,C,c,l){return{backspaceDelete:function(r,s){var a=C.fromDom(r.getBody());return!1===r.selection.isCollapsed()&&function(r,s){var a=s.getRng();return T.liftN([c.getParentTextBlock(r,C.fromDom(a.startContainer)),c.getParentTextBlock(r,C.fromDom(a.endContainer))],function(n,p){return!1===S.eq(n,p)&&(a.deleteContents(),l.mergeBlocks(!0,n,p).each(function(k){s.setRng(k.toRange())}),!0)}).getOr(!1)}(a,r.selection)}}}),V("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],function(T,S,C,c,l,u){return{generate:function(r){if(!C.isArray(r))throw new l("cases must be an array");if(0===r.length)throw new l("there must be at least one case");var s=[],a={};return T.each(r,function(n,p){var k=S.keys(n);if(1!==k.length)throw new l("one and only one name per case");var x=k[0],y=n[x];if(void 0!==a[x])throw new l("duplicate key detected:"+x);if("cata"===x)throw new l("cannot have a case named cata (sorry)");if(!C.isArray(y))throw new l("case arguments must be an array");s.push(x),a[x]=function(){var h=arguments.length;if(h!==y.length)throw new l("Wrong number of arguments to case "+x+". Expected "+y.length+" ("+y+"), got "+h);for(var b=new c(h),m=0;m<b.length;m++)b[m]=arguments[m];var i=function(d){var v=S.keys(d);if(s.length!==v.length)throw new l("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+v.join(","));if(!T.forall(s,function(g){return T.contains(v,g)}))throw new l("Not all branches were specified when using match. Specified: "+v.join(", ")+"\nRequired: "+s.join(", "));return d[x].apply(null,b)};return{fold:function(){if(arguments.length!==r.length)throw new l("Wrong number of arguments to fold. Expected "+r.length+", got "+arguments.length);var d=arguments[p];return d.apply(null,b)},match:i,log:function(d){u.log(d,{constructors:s,constructor:x,params:b})}}}}),a}}}),V("tinymce.core.delete.CefDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(T,S,C,c,l,u,f,o,r){var s=T.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),p=function(b,m,i){return c.fromPosition(m,b,i).bind(function(e){return m&&r.isContentEditableFalse(e.getNode())||!1===m&&r.isContentEditableFalse(e.getNode(!0))?function(b,m,i,e){var d=e.getNode(!1===m);return f.getParentTextBlock(C.fromDom(b),C.fromDom(i.getNode())).map(function(v){return o.isEmpty(v)?s.remove(v.dom()):s.moveToElement(d)}).orThunk(function(){return S.some(s.moveToElement(d))})}(b,m,i,e):m&&u.isAfterContentEditableFalse(i)||!1===m&&u.isBeforeContentEditableFalse(i)?S.some(s.moveToPosition(e)):S.none()})};return{read:function(b,m,i){var e=u.normalizeRange(m?1:-1,b,i),d=l.fromRangeStart(e);return!1===m&&u.isAfterContentEditableFalse(d)?S.some(s.remove(d.getNode(!0))):m&&u.isBeforeContentEditableFalse(d)?S.some(s.remove(d.getNode())):function(b,m,i){return function(b,m){var i=m.getNode(!1===b),e=b?"after":"before";return r.isElement(i)&&i.getAttribute("data-mce-caret")===e}(m,i)?function(b,m){return b&&r.isContentEditableFalse(m.nextSibling)?S.some(s.moveToElement(m.nextSibling)):!1===b&&r.isContentEditableFalse(m.previousSibling)?S.some(s.moveToElement(m.previousSibling)):S.none()}(m,i.getNode(!1===m)).fold(function(){return p(b,m,i)},S.some):p(b,m,i)}(b,m,d)}}}),V("tinymce.core.text.Bidi",[],function(){var T=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(c){return T.test(c)}}}),V("tinymce.core.keyboard.InlineUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.text.Bidi"],function(T,S,C,c,l,u,f,o,r,s,a,n){var p=function(A){return s.DOM.is(A,"a[href],code")},x=function(A,R){return T.filter(s.DOM.getParents(R.container(),"*",A),p)},h=function(A,R){var N=x(A,R);return C.from(N[N.length-1])},v=function(A,R,N){return u.fromPosition(R,A,N)},t=function(A,R){var N=R.container(),_=R.offset();return A?l.isCaretContainerInline(N)?a.isText(N.nextSibling)?new f(N.nextSibling,0):f.after(N):l.isBeforeInline(R)?new f(N,_+1):R:l.isCaretContainerInline(N)?a.isText(N.previousSibling)?new f(N.previousSibling,N.previousSibling.data.length):f.before(N):l.isAfterInline(R)?new f(N,_-1):R},g=S.curry(t,!0),w=S.curry(t,!1);return{isInlineTarget:p,findInline:function(A,R){var N=x(A,R);return C.from(N[0])},findRootInline:h,isInInline:function(A,R){return!!R&&h(A,R).isSome()},isRtl:function(A){return"rtl"===s.DOM.getStyle(A,"direction",!0)||n.hasStrongRtl(A.textContent)},isAtInlineEndPoint:function(A,R){return h(A,R).map(function(N){return v(N,!1,R).isNone()||v(N,!0,R).isNone()}).getOr(!1)},isAtZwsp:function(A){return l.isBeforeInline(A)||l.isAfterInline(A)},findCaretPositionIn:function(A,R){return u.positionIn(R,A)},findCaretPosition:v,normalizePosition:t,normalizeForwards:g,normalizeBackwards:w,hasSameParentBlock:function(A,R,N){var _=o.getParentBlock(R,A),P=o.getParentBlock(N,A);return _&&_===P}}}),V("tinymce.core.delete.DeleteElement",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(T,S,C,c,l,u,f,o,r,s,a,n,p,k){var y=function(D,U){return function(D,U){var L=D.container(),B=D.offset();return!1===a.isTextPosition(D)&&L===U.parentNode&&B>a.before(U).offset()}(U,D)?new a(U.container(),U.offset()-1):U},m=function(D){return s.isCaretCandidate(D.previousSibling)?S.some(function(D){return p.isText(D)?new a(D,D.data.length):a.after(D)}(D.previousSibling)):D.previousSibling?k.findCaretPositionIn(D.previousSibling,!1):S.none()},i=function(D){return s.isCaretCandidate(D.nextSibling)?S.some(function(D){return p.isText(D)?new a(D,0):a.before(D)}(D.nextSibling)):D.nextSibling?k.findCaretPositionIn(D.nextSibling,!0):S.none()},w=function(D,U,L){return function(D,U,L){return D?function(D,U){return i(U).orThunk(function(){return m(U)}).orThunk(function(){return function(D,U){return k.findCaretPosition(D,!0,a.after(U)).fold(function(){return k.findCaretPosition(D,!1,a.before(U))},S.some)}(D,U)})}(U,L):function(D,U){return m(U).orThunk(function(){return i(U)}).orThunk(function(){return function(D,U){var L=a.before(U.previousSibling?U.previousSibling:U.parentNode);return k.findCaretPosition(D,!1,L).fold(function(){return k.findCaretPosition(D,!0,a.after(U))},S.some)}(D,U)})}(U,L)}(D,U,L).map(T.curry(y,L))},E=function(D,U,L){L.fold(function(){D.focus()},function(B){D.selection.setRng(B.toRange(),U)})},R=function(D,U){return U&&D.schema.getBlockElements().hasOwnProperty(f.name(U))},N=function(D){if(n.isEmpty(D)){var U=u.fromHtml('<br data-mce-bogus="1">');return l.empty(D),c.append(D,U),S.some(a.before(U.dom()))}return S.none()};return{deleteElement:function(D,U,L){var B=w(U,D.getBody(),L.dom()),I=o.ancestor(L,T.curry(R,D),function(D){return function(U){return U.dom()===D}}(D.getBody())),F=function(D,U){return C.liftN([r.prevSibling(D),r.nextSibling(D),U],function(L,B,I){var F,q=L.dom(),G=B.dom();return p.isText(q)&&p.isText(G)?(F=q.data.length,q.appendData(G.data),l.remove(B),l.remove(D),I.container()===G?new a(q,F):I):(l.remove(D),I)}).orThunk(function(){return l.remove(D),U})}(L,B);I.bind(N).fold(function(){E(D,U,F)},function(q){E(D,U,S.some(q))})}}}),V("tinymce.core.delete.CefDelete",["ephox.sugar.api.node.Element","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.BlockBoundary","tinymce.core.delete.CefDeleteAction","tinymce.core.delete.DeleteElement","tinymce.core.delete.MergeBlocks","tinymce.core.dom.NodeType"],function(T,S,C,c,l,u,f,o){return{backspaceDelete:function(b,m){return b.selection.isCollapsed()?function(b,m){var i=l.read(b.getBody(),m,b.selection.getRng()).map(function(e){return e.fold(function(b,m){return function(i){return u.deleteElement(b,m,T.fromDom(i)),!0}}(b,m),function(b,m){return function(i){var e=m?S.before(i):S.after(i);return b.selection.setRng(e.toRange()),!0}}(b,m),function(b){return function(m){return b.selection.setRng(m.toRange()),!0}}(b))});return i.getOr(!1)}(b,m):function(b,m){var i=b.selection.getNode();return!!o.isContentEditableFalse(i)&&(u.deleteElement(b,m,T.fromDom(b.selection.getNode())),!0)}(b,m)},paddEmptyElement:function(b){var m,i=function(b,m){for(;m&&m!==b;){if(o.isContentEditableTrue(m)||o.isContentEditableFalse(m))return m;m=m.parentNode}return null}(b.getBody(),b.selection.getNode());return o.isContentEditableTrue(i)&&b.dom.isBlock(i)&&b.dom.isEmpty(i)&&(m=b.dom.create("br",{"data-mce-bogus":"1"}),b.dom.setHTML(i,""),i.appendChild(m),b.selection.setRng(S.before(m).toRange())),!0}}}),V("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(T,S,C){var c=S.isText,l=function(n){return c(n)&&n.data[0]===C.ZWSP},u=function(n){return c(n)&&n.data[n.data.length-1]===C.ZWSP},f=function(n){return n.ownerDocument.createTextNode(C.ZWSP)},s=function(n,p){return n?function(n){if(c(n.previousSibling))return u(n.previousSibling)||n.previousSibling.appendData(C.ZWSP),n.previousSibling;if(c(n))return l(n)||n.insertData(0,C.ZWSP),n;var p=f(n);return n.parentNode.insertBefore(p,n),p}(p):function(n){if(c(n.nextSibling))return l(n.nextSibling)||n.nextSibling.insertData(0,C.ZWSP),n.nextSibling;if(c(n))return u(n)||n.appendData(C.ZWSP),n;var p=f(n);return n.nextSibling?n.parentNode.insertBefore(p,n.nextSibling):n.parentNode.appendChild(p),p}(p)};return{insertInline:s,insertInlineBefore:T.curry(s,!0),insertInlineAfter:T.curry(s,!1)}}),V("tinymce.core.caret.CaretContainerRemove",["ephox.katamari.api.Arr","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(T,S,C,c,l,u){var f=c.isElement,o=c.isText,r=function(e){var d=e.parentNode;d&&d.removeChild(e)},a=function(e,d){0===d.length?r(e):e.nodeValue=d},n=function(e){var d=l.trim(e);return{count:e.length-d.length,text:d}},p=function(e,d){return m(e),d},m=function(e){if(f(e)&&S.isCaretContainer(e)&&(S.hasContent(e)?e.removeAttribute("data-mce-caret"):r(e)),o(e)){var d=l.trim(function(e){try{return e.nodeValue}catch(d){return""}}(e));a(e,d)}};return{removeAndReposition:function(e,d){return C.isTextPosition(d)?function(e,d){return d.container()===e?function(e,d){var v=n(e.data.substr(0,d.offset())),t=n(e.data.substr(d.offset())),g=v.text+t.text;return g.length>0?(a(e,g),new C(e,d.offset()-v.count)):d}(e,d):p(e,d)}(e,d):function(e,d){return d.container()===e.parentNode?function(e,d){var v=d.container(),t=T.indexOf(v.childNodes,e).map(function(g){return g<d.offset()?new C(v,d.offset()-1):d}).getOr(d);return m(e),t}(e,d):p(e,d)}(e,d)},remove:m}}),V("tinymce.core.keyboard.BoundaryCaret",["ephox.katamari.api.Option","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(T,S,C,c,l,u,f){var o=function(n,p){return u.isText(n.container())?C.insertInline(p,n.container()):C.insertInline(p,n.getNode())},r=function(n,p){var k=p.get();return k&&n.container()===k&&S.isCaretContainerInline(k)};return{renderCaret:function(n,p){return p.fold(function(k){c.remove(n.get());var x=C.insertInlineBefore(k);return n.set(x),T.some(new l(x,x.length-1))},function(k){return f.findCaretPositionIn(k,!0).map(function(x){if(r(x,n))return new l(n.get(),1);c.remove(n.get());var y=o(x,!0);return n.set(y),new l(y,1)})},function(k){return f.findCaretPositionIn(k,!1).map(function(x){if(r(x,n))return new l(n.get(),n.get().length-1);c.remove(n.get());var y=o(x,!1);return n.set(y),new l(y,y.length-1)})},function(k){c.remove(n.get());var x=C.insertInlineAfter(k);return n.set(x),T.some(new l(x,1))})}}}),V("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],function(T){return{evaluateUntil:function(c,l){for(var u=0;u<c.length;u++){var f=c[u].apply(null,l);if(f.isSome())return f}return T.none()}}}),V("tinymce.core.keyboard.BoundaryLocation",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils","tinymce.core.util.LazyEvaluator"],function(T,S,C,c,l,u,f,o,r,s){var a=T.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),n=function(N,_){return f.getParentBlock(_,N)||N},p=function(N,_){var P=r.normalizeForwards(_),M=n(N,P.container());return r.findRootInline(M,P).fold(function(){return r.findCaretPosition(M,!0,P).bind(S.curry(r.findRootInline,M)).map(function(D){return a.before(D)})},C.none)},k=function(N,_){var P=r.normalizeBackwards(_);return r.findRootInline(N,P).bind(function(M){return r.findCaretPosition(M,!1,P).isNone()?C.some(a.start(M)):C.none()})},x=function(N,_){var P=r.normalizeForwards(_);return r.findRootInline(N,P).bind(function(M){return r.findCaretPosition(M,!0,P).isNone()?C.some(a.end(M)):C.none()})},y=function(N,_){var P=r.normalizeBackwards(_),M=n(N,P.container());return r.findRootInline(M,P).fold(function(){return r.findCaretPosition(M,!1,P).bind(S.curry(r.findRootInline,M)).map(function(D){return a.after(D)})},C.none)},h=function(N){return!1===r.isRtl(m(N))},b=function(N,_){return s.evaluateUntil([p,k,x,y],[N,_]).filter(h)},m=function(N){return N.fold(S.identity,S.identity,S.identity,S.identity)},i=function(N){return N.fold(S.constant("before"),S.constant("start"),S.constant("end"),S.constant("after"))},e=function(N){return N.fold(a.before,a.before,a.after,a.after)},t=function(N,_,P,M,D){return c.liftN([r.findRootInline(_,P),r.findRootInline(_,M)],function(U,L){return U!==L&&r.hasSameParentBlock(_,U,L)?a.after(N?U:L):D}).getOr(D)},g=function(N,_){return N.fold(S.constant(!0),function(P){return!function(N,_){return i(N)===i(_)&&m(N)===m(_)}(P,_)})},E=function(N,_){return N?_.fold(S.compose(C.some,a.start),C.none,S.compose(C.some,a.after),C.none):_.fold(C.none,S.compose(C.some,a.before),C.none,S.compose(C.some,a.end))},A=function(N,_,P){var M=r.normalizePosition(N,P),D=b(_,M);return b(_,M).bind(S.curry(E,N)).orThunk(function(){return function(N,_,P,M){var D=r.normalizePosition(N,M);return r.findCaretPosition(_,N,D).map(S.curry(r.normalizePosition,N)).fold(function(){return P.map(e)},function(B){return b(_,B).map(S.curry(t,N,_,D,B)).filter(S.curry(g,P))}).filter(h)}(N,_,D,P)})};return{readLocation:b,prevLocation:S.curry(A,!1),nextLocation:S.curry(A,!0),getElement:m,outside:e,inside:function(N){return N.fold(a.start,a.start,a.end,a.end)}}}),V("ephox.katamari.api.Cell",[],function(){return function S(C){var c=C,l=function(){return c};return{get:l,set:function(r){c=r},clone:function(){return S(l())}}}}),V("tinymce.core.keyboard.BoundarySelection",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],function(T,S,C,c,l,u,f,o){var r=function(i,e){var d=i.dom.createRng();d.setStart(e.container(),e.offset()),d.setEnd(e.container(),e.offset()),i.selection.setRng(d)},s=function(i){return!1!==i.settings.inline_boundaries},a=function(i,e){i?e.setAttribute("data-mce-selected","1"):e.removeAttribute("data-mce-selected","1")},n=function(i,e,d){return u.renderCaret(e,d).map(function(v){return r(i,v),d})};return{move:function(i,e,d){return function(){return!!s(i)&&function(i,e,d){var v=i.getBody(),t=l.fromRangeStart(i.selection.getRng());return(d?f.nextLocation(v,t):f.prevLocation(v,t)).bind(function(w){return n(i,e,w)})}(i,e,d).isSome()}},setupSelectedState:function(i){var e=new S(null);return i.on("NodeChange",function(d){s(i)&&(function(i,e){var d=i.select("a[href][data-mce-selected],code[data-mce-selected]"),v=T.filter(e,o.isInlineTarget);T.each(T.difference(d,v),C.curry(a,!1)),T.each(T.difference(v,d),C.curry(a,!0))}(i.dom,d.parents),function(i,e){if(i.selection.isCollapsed()&&!0!==i.composing&&e.get()){var d=l.fromRangeStart(i.selection.getRng());l.isTextPosition(d)&&!1===o.isAtZwsp(d)&&(r(i,c.removeAndReposition(e.get(),d)),e.set(null))}}(i,e),function(i,e,d){if(i.selection.isCollapsed()){var v=T.filter(d,o.isInlineTarget);T.each(v,function(t){var g=l.fromRangeStart(i.selection.getRng());f.readLocation(i.getBody(),g).bind(function(w){return n(i,e,w)})})}}(i,e,d.parents))}),e},setCaretPosition:r}}),V("tinymce.core.delete.InlineBoundaryDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Element","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteElement","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.InlineUtils"],function(T,S,C,c,l,u,f,o,r,s,a,n,p){var h=function(v,t){return function(g){return s.renderCaret(t,g).map(function(w){return n.setCaretPosition(v,w),!0}).getOr(!1)}},b=function(v,t,g,w){var E=v.getBody();v.undoManager.ignore(function(){v.selection.setRng(function(v,t){var g=document.createRange();return g.setStart(v.container(),v.offset()),g.setEnd(t.container(),t.offset()),g}(g,w)),v.execCommand("Delete"),a.readLocation(E,f.fromRangeStart(v.selection.getRng())).map(a.inside).map(h(v,t))}),v.nodeChanged()};return{backspaceDelete:function(v,t,g){if(v.selection.isCollapsed()&&function(v){return!1!==v.settings.inline_boundaries}(v)){var w=f.fromRangeStart(v.selection.getRng());return function(v,t,g,w){var E=function(v,t){return o.getParentBlock(t,v)||v}(v.getBody(),w.container()),A=a.readLocation(E,w);return A.bind(function(R){return g?R.fold(T.constant(S.some(a.inside(R))),S.none,T.constant(S.some(a.outside(R))),S.none):R.fold(S.none,T.constant(S.some(a.outside(R))),S.none,T.constant(S.some(a.inside(R))))}).map(h(v,t)).getOrThunk(function(){var R=u.navigate(g,E,w),N=R.bind(function(_){return a.readLocation(E,_)});return A.isSome()&&N.isSome()?p.findRootInline(E,w).map(function(_){return!!function(v){return C.liftN([p.findCaretPositionIn(v,!0),p.findCaretPositionIn(v,!1)],function(t,g){var w=p.normalizePosition(!0,t),E=p.normalizePosition(!1,g);return p.findCaretPosition(v,!0,w).map(function(A){return A.isEqual(E)}).getOr(!0)}).getOr(!0)}(_)&&(r.deleteElement(v,g,c.fromDom(_)),!0)}).getOr(!1):N.bind(function(_){return R.map(function(P){return g?b(v,t,w,P):b(v,t,P,w),!0})}).getOr(!1)})}(v,t,g,w)}return!1}}}),V("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete"],function(T,S,C,c){var l=function(s,a){s.getDoc().execCommand(a,!1,null)};return{deleteCommand:function(s){if(!C.backspaceDelete(s,!1)){if(c.backspaceDelete(s,!1))return;if(T.backspaceDelete(s,!1))return;if(S.backspaceDelete(s,!1))return;l(s,"Delete"),function(s){var a=s.dom,n=s.getBody();a.isEmpty(n)&&(s.setContent(""),n.firstChild&&a.isBlock(n.firstChild)?s.selection.setCursorLocation(n.firstChild,0):s.selection.setCursorLocation(n,0))}(s)}},forwardDeleteCommand:function(s){if(!C.backspaceDelete(s,!0)){if(c.backspaceDelete(s,!0))return;if(T.backspaceDelete(s,!0))return;if(S.backspaceDelete(s,!0))return;l(s,"ForwardDelete")}}}}),V("tinymce.core.dom.RangeNormalizer",["tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType"],function(T,S,C,c){var l=function(a){return c.isElement(a)&&/^(P|H[1-6]|DIV)$/.test(a.nodeName)};return{normalize:function(a){return function(a){var n=S.fromRangeStart(a),p=S.fromRangeEnd(a),k=a.commonAncestorContainer;return!1===a.collapsed&&function(a,n){return n(a.endContainer)}(a,l)&&0===a.endOffset?T.fromPosition(!1,k,p).map(function(x){return!C.isInSameBlock(n,p,k)&&C.isInSameBlock(n,x,k)?function(a,n,p,k){var x=document.createRange();return x.setStart(a,n),x.setEnd(p,k),x}(n.container(),n.offset(),x.container(),x.offset()):a}).getOr(a):a}(a)}}}),V("tinymce.core.InsertList",["tinymce.core.util.Tools","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition"],function(T,S,C){var f=function(i){return T.grep(i.childNodes,function(e){return"LI"===e.nodeName})},r=function(i){return i.length>0&&function(i){return!i.firstChild}(i[i.length-1])?i.slice(0,-1):i},s=function(i,e){var d=i.getParent(e,i.isBlock);return d&&"LI"===d.nodeName?d:null},k=function(i,e){var d=C.after(i),t=new S(e).prev(d);return t?t.toRange():null};return{isListFragment:function(i){var e=i.firstChild,d=i.lastChild;return e&&"meta"===e.name&&(e=e.next),d&&"mce_marker"===d.attr("id")&&(d=d.prev),!(!e||e!==d||"ul"!==e.name&&"ol"!==e.name)},insertAtCaret:function(i,e,d,v){var t=function(i,e,d){var v=e.serialize(d);return function(i){var e=i.firstChild,d=i.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),d&&"mce_marker"===d.id&&d.parentNode.removeChild(d),i}(i.createFragment(v))}(e,i,v),g=s(e,d.startContainer),w=r(f(t.firstChild)),R=e.getRoot(),N=function(P){var M=C.fromRangeStart(d),D=new S(e.getRoot()),U=1===P?D.prev(M):D.next(M);return!U||s(e,U.getNode())!==g};return N(1)?function(i,e,d){var v=i.parentNode;return T.each(e,function(t){v.insertBefore(t,i)}),function(i,e){var d=C.before(i),t=new S(e).next(d);return t?t.toRange():null}(i,d)}(g,w,R):N(2)?function(i,e,d,v){return v.insertAfter(e.reverse(),i),k(e[0],d)}(g,w,R,e):function(i,e,d,v){var t=function(i,e){var d=e.cloneRange(),v=e.cloneRange();return d.setStartBefore(i),v.setEndAfter(i),[d.cloneContents(),v.cloneContents()]}(i,v),g=i.parentNode;return g.insertBefore(t[0],i),T.each(e,function(w){g.insertBefore(w,i)}),g.insertBefore(t[1],i),g.removeChild(i),k(e[e.length-1],d)}(g,w,R,d)},isParentBlockLi:function(i,e){return!!s(i,e)},trimListItems:r,listItems:f}}),V("tinymce.core.InsertContent",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangeNormalizer","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.InsertList","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f,o,r){var s=c.matchNodeNames("td th");return{insertAtCaret:function(y,h){var b=function(y){var h;return"string"!=typeof y?(h=r.extend({paste:y.paste,data:{paste:y.paste}},y),{content:y.content,details:h}):{content:y,details:{}}}(h);!function(y,h,b){var m,i,e,d,v,t,g,w,E,A,R,N,_=y.schema.getTextInlineElements(),P=y.selection,M=y.dom;/^ | $/.test(h)&&(h=function D(ue){var Se,me,X;function Z($){return me[$]&&3==me[$].nodeType}return X=(Se=P.getRng(!0)).startOffset,3==(me=Se.startContainer).nodeType&&(X>0?ue=ue.replace(/^&nbsp;/," "):Z("previousSibling")||(ue=ue.replace(/^ /,"&nbsp;")),X<me.length?ue=ue.replace(/&nbsp;(<br>|)$/," "):Z("nextSibling")||(ue=ue.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),ue}(h)),m=y.parser,N=b.merge,i=new f({validate:y.settings.validate},y.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',y.fire("BeforeSetContent",t={content:h,format:"html",selection:!0}),-1==(h=t.content).indexOf("{$caret}")&&(h+="{$caret}"),h=h.replace(/\{\$caret\}/,R);var ne=(w=P.getRng()).startContainer||(w.parentElement?w.parentElement():null),se=y.getBody();ne===se&&P.isCollapsed()&&M.isBlock(se.firstChild)&&function q(ue){return ue&&!y.schema.getShortEndedElements()[ue.nodeName]}(se.firstChild)&&M.isEmpty(se.firstChild)&&((w=M.createRng()).setStart(se.firstChild,0),w.setEnd(se.firstChild,0),P.setRng(w)),P.isCollapsed()||(y.selection.setRng(l.normalize(y.selection.getRng())),y.getDoc().execCommand("Delete",!1,null),function U(){var ue,Se,me;me=(ue=P.getRng(!0)).startOffset,3==(Se=ue.startContainer).nodeType&&ue.collapsed&&("\xa0"===Se.data[me]?(Se.deleteData(me,1),/[\u00a0| ]$/.test(h)||(h+=" ")):"\xa0"===Se.data[me-1]&&(Se.deleteData(me-1,1),/[\u00a0| ]$/.test(h)||(h=" "+h)))}());var de={context:(e=P.getNode()).nodeName.toLowerCase(),data:b.data};if(v=m.parse(h,de),!0===b.paste&&o.isListFragment(v)&&o.isParentBlockLi(M,e))return w=o.insertAtCaret(i,M,y.selection.getRng(!0),v),y.selection.setRng(w),void y.fire("SetContent",t);if(function B(ue){for(var Se=ue;Se=Se.walk();)1===Se.type&&Se.attr("data-mce-fragment","1")}(v),"mce_marker"==(E=v.lastChild).attr("id"))for(g=E,E=E.prev;E;E=E.walk(!0))if(3==E.type||!M.isBlock(E.name)){y.schema.isValidChild(E.parent.name,"span")&&E.parent.insert(g,E,"br"===E.name);break}if(y._selectionOverrides.showBlockCaretContainer(e),de.invalid){for(P.setContent(R),e=P.getNode(),d=y.getBody(),9==e.nodeType?e=E=d:E=e;E!==d;)e=E,E=E.parentNode;h=e==d?d.innerHTML:M.getOuterHTML(e),h=i.serialize(m.parse(h.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return i.serialize(v)}))),e==d?M.setHTML(d,h):M.setOuterHTML(e,h)}else h=i.serialize(v),function(y,h,b){if("all"===b.getAttribute("data-mce-bogus"))b.parentNode.insertBefore(y.dom.createFragment(h),b);else{var m=b.firstChild;!m||m===b.lastChild&&"BR"===m.nodeName?y.dom.setHTML(b,h):y.selection.setContent(h)}}(y,h,e);(function L(){if(N){var ue=y.getBody(),Se=new C(M);r.each(M.select("*[data-mce-fragment]"),function(me){for(var X=me.parentNode;X&&X!=ue;X=X.parentNode)_[me.nodeName.toLowerCase()]&&Se.compare(X,me)&&M.remove(me,!0)})}})(),function G(ue){var Se,me,X;if(ue){if(P.scrollIntoView(ue),Se=function Z(J){for(var re=y.getBody();J&&J!==re;J=J.parentNode)if("false"===y.dom.getContentEditable(J))return J;return null}(ue))return M.remove(ue),void P.select(Se);w=M.createRng(),(E=ue.previousSibling)&&3==E.nodeType?(w.setStart(E,E.nodeValue.length),u.ie||(A=ue.nextSibling)&&3==A.nodeType&&(E.appendData(A.data),A.parentNode.removeChild(A))):(w.setStartBefore(ue),w.setEndBefore(ue)),me=M.getParent(ue,M.isBlock),M.remove(ue),me&&M.isEmpty(me)&&(y.$(me).empty(),w.setStart(me,0),w.setEnd(me,0),s(me)||function F(ue){return!!ue.getAttribute("data-mce-fragment")}(me)||!(X=function $(J){var re=T.fromRangeStart(J);if(re=new S(y.getBody()).next(re))return re.toRange()}(w))?M.add(me,M.create("br",{"data-mce-bogus":"1"})):(w=X,M.remove(me))),P.setRng(w)}}(M.get("mce_marker")),function I(ue){r.each(ue.getElementsByTagName("*"),function(Se){Se.removeAttribute("data-mce-fragment")})}(y.getBody()),y.fire("SetContent",t),y.addVisual()}(y,b.content,b.details)}}}),V("tinymce.core.EditorCommands",["tinymce.core.delete.DeleteCommands","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.InsertContent","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f){var o=f.each,r=f.extend,s=f.map,a=f.inArray,n=f.explode,p=l.ie&&l.ie<11,k=!0;return function(y){var h,b,m,d,i={state:{},exec:{},value:{}},e=y.settings;function t(B){var I;if(!y.quirks.isHidden()&&!y.removed){if(B=B.toLowerCase(),I=i.state[B])return I(B);try{return y.getDoc().queryCommandState(B)}catch(F){}return!1}}function w(B,I){I=I||"exec",o(B,function(F,q){o(q.toLowerCase().split(","),function(G){i[I][G]=F})})}function P(B,I,F){return void 0===I&&(I=!1),void 0===F&&(F=null),y.getDoc().execCommand(B,I,F)}function M(B){return m.match(B)}function D(B,I){m.toggle(B,I?{value:I}:void 0),y.nodeChanged()}function U(B){d=b.getBookmark(B)}function L(){b.moveToBookmark(d)}y.on("PreInit",function(){h=y.dom,b=y.selection,e=y.settings,m=y.formatter}),r(this,{execCommand:function v(B,I,F,q){var G,ne,se=0;if(!y.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(B)&&(!q||!q.skip_focus)&&y.focus(),(q=y.fire("BeforeExecCommand",{command:B,ui:I,value:F})).isDefaultPrevented())return!1;if(ne=B.toLowerCase(),G=i.exec[ne])return G(ne,I,F),y.fire("ExecCommand",{command:B,ui:I,value:F}),!0;if(o(y.plugins,function(de){if(de.execCommand&&de.execCommand(B,I,F))return y.fire("ExecCommand",{command:B,ui:I,value:F}),se=!0,!1}),se)return se;if(y.theme&&y.theme.execCommand&&y.theme.execCommand(B,I,F))return y.fire("ExecCommand",{command:B,ui:I,value:F}),!0;try{se=y.getDoc().execCommand(B,I,F)}catch(de){}return!!se&&(y.fire("ExecCommand",{command:B,ui:I,value:F}),!0)}},queryCommandState:t,queryCommandValue:function g(B){var I;if(!y.quirks.isHidden()&&!y.removed){if(B=B.toLowerCase(),I=i.value[B])return I(B);try{return y.getDoc().queryCommandValue(B)}catch(F){}}},queryCommandSupported:function A(B){if(B=B.toLowerCase(),i.exec[B])return!0;try{return y.getDoc().queryCommandSupported(B)}catch(I){}return!1},addCommands:w,addCommand:function E(B,I,F){B=B.toLowerCase(),i.exec[B]=function(q,G,ne,se){return I.call(F||y,G,ne,se)}},addQueryStateHandler:function R(B,I,F){B=B.toLowerCase(),i.state[B]=function(){return I.call(F||y)}},addQueryValueHandler:function N(B,I,F){B=B.toLowerCase(),i.value[B]=function(){return I.call(F||y)}},hasCustomCommand:function _(B){return B=B.toLowerCase(),!!i.exec[B]}}),w({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){y.undoManager.add()},"Cut,Copy,Paste":function(I){var q,F=y.getDoc();try{P(I)}catch(ne){q=k}if("paste"===I&&!F.queryCommandEnabled(I)&&(q=!0),q||!F.queryCommandSupported(I)){var G=y.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");l.mac&&(G=G.replace(/Ctrl\+/g,"\u2318+")),y.notificationManager.open({text:G,type:"error"})}},unlink:function(){if(b.isCollapsed()){var I=y.dom.getParent(y.selection.getStart(),"a");I&&y.dom.remove(I,!0)}else m.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(I){var F=I.substring(7);"full"==F&&(F="justify"),o("left,center,right,justify".split(","),function(q){F!=q&&m.remove("align"+q)}),"none"!=F&&D("align"+F)},"InsertUnorderedList,InsertOrderedList":function(I){var F,q;P(I),(F=h.getParent(b.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((q=F.parentNode).nodeName)&&(U(),h.split(q,F),L())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(I){D(I)},"ForeColor,HiliteColor,FontName":function(I,F,q){D(I,q)},FontSize:function(I,F,q){var G,ne;q>=1&&q<=7&&(ne=n(e.font_size_style_values),q=(G=n(e.font_size_classes))?G[q-1]||q:ne[q-1]||q),D(I,q)},RemoveFormat:function(I){m.remove(I)},mceBlockQuote:function(){D("blockquote")},FormatBlock:function(I,F,q){return D(q||"p")},mceCleanup:function(){var I=b.getBookmark();y.setContent(y.getContent({cleanup:k}),{cleanup:k}),b.moveToBookmark(I)},mceRemoveNode:function(I,F,q){var G=q||b.getNode();G!=y.getBody()&&(U(),y.dom.remove(G,k),L())},mceSelectNodeDepth:function(I,F,q){var G=0;h.getParent(b.getNode(),function(ne){if(1==ne.nodeType&&G++==q)return b.select(ne),!1},y.getBody())},mceSelectNode:function(I,F,q){b.select(q)},mceInsertContent:function(I,F,q){u.insertAtCaret(y,q)},mceInsertRawHTML:function(I,F,q){b.setContent("tiny_mce_marker"),y.setContent(y.getContent().replace(/tiny_mce_marker/g,function(){return q}))},mceToggleFormat:function(I,F,q){D(q)},mceSetContent:function(I,F,q){y.setContent(q)},"Indent,Outdent":function(I){var F,q,G;q=/[a-z%]+$/i.exec(F=e.indentation),F=parseInt(F,10),t("InsertUnorderedList")||t("InsertOrderedList")?P(I):(!e.forced_root_block&&!h.getParent(b.getNode(),h.isBlock)&&m.apply("div"),o(b.getSelectedBlocks(),function(ne){if("false"!==h.getContentEditable(ne)&&"LI"!==ne.nodeName){var se=y.getParam("indent_use_margin",!1)?"margin":"padding";se="TABLE"===ne.nodeName?"margin":se,se+="rtl"==h.getStyle(ne,"direction",!0)?"Right":"Left","outdent"==I?(G=Math.max(0,parseInt(ne.style[se]||0,10)-F),h.setStyle(ne,se,G?G+q:"")):(G=parseInt(ne.style[se]||0,10)+F+q,h.setStyle(ne,se,G))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){y.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){y.hasVisual=!y.hasVisual,y.addVisual()},mceReplaceContent:function(I,F,q){y.execCommand("mceInsertContent",!1,q.replace(/\{\$selection\}/g,b.getContent({format:"text"})))},mceInsertLink:function(I,F,q){var G;"string"==typeof q&&(q={href:q}),G=h.getParent(b.getNode(),"a"),q.href=q.href.replace(" ","%20"),(!G||!q.href)&&m.remove("link"),q.href&&m.apply("link",q,G)},selectAll:function(){var F,I=h.getRoot();if(b.getRng().setStart){var q=h.getParent(b.getStart(),S.isContentEditableTrue);q&&((F=h.createRng()).selectNodeContents(q),b.setRng(F))}else(F=b.getRng()).item||(F.moveToElementText(I),F.select())},delete:function(){T.deleteCommand(y)},forwardDelete:function(){T.forwardDeleteCommand(y)},mceNewDocument:function(){y.setContent("")},InsertLineBreak:function(I,F,q){var ne,se,de,G=q,ue=b.getRng(!0);new C(h).normalize(ue);var Se=ue.startOffset,me=ue.startContainer;if(1==me.nodeType&&me.hasChildNodes()){var X=Se>me.childNodes.length-1;me=me.childNodes[Math.min(Se,me.childNodes.length-1)]||me,Se=X&&3==me.nodeType?me.nodeValue.length:0}var Z=h.getParent(me,h.isBlock),$=Z?Z.nodeName.toUpperCase():"",J=Z?h.getParent(Z.parentNode,h.isBlock):null,re=J?J.nodeName.toUpperCase():"";"LI"==re&&!(G&&G.ctrlKey)&&(Z=J,$=re),me&&3==me.nodeType&&Se>=me.nodeValue.length&&!p&&!function we(){for(var te,oe=new c(me,Z),Te=y.schema.getNonEmptyElements();te=oe.next();)if(Te[te.nodeName.toLowerCase()]||te.length>0)return!0}()&&(ne=h.create("br"),ue.insertNode(ne),ue.setStartAfter(ne),ue.setEndAfter(ne),se=!0),ne=h.create("br"),ue.insertNode(ne);var ae=h.doc.documentMode;return p&&"PRE"==$&&(!ae||ae<8)&&ne.parentNode.insertBefore(h.doc.createTextNode("\r"),ne),de=h.create("span",{},"&nbsp;"),ne.parentNode.insertBefore(de,ne),b.scrollIntoView(de),h.remove(de),se?(ue.setStartBefore(ne),ue.setEndBefore(ne)):(ue.setStartAfter(ne),ue.setEndAfter(ne)),b.setRng(ue),y.undoManager.add(),k}}),w({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(I){var F="align"+I.substring(7),q=b.isCollapsed()?[h.getParent(b.getNode(),h.isBlock)]:b.getSelectedBlocks(),G=s(q,function(ne){return!!m.matchNode(ne,F)});return-1!==a(G,k)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(I){return M(I)},mceBlockQuote:function(){return M("blockquote")},Outdent:function(){var I;return e.inline_styles&&((I=h.getParent(b.getStart(),h.isBlock))&&parseInt(I.style.paddingLeft,10)>0||(I=h.getParent(b.getEnd(),h.isBlock))&&parseInt(I.style.paddingLeft,10)>0)?k:t("InsertUnorderedList")||t("InsertOrderedList")||!e.inline_styles&&!!h.getParent(b.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(I){var F=h.getParent(b.getNode(),"ul,ol");return F&&("insertunorderedlist"===I&&"UL"===F.tagName||"insertorderedlist"===I&&"OL"===F.tagName)}},"state"),w({"FontSize,FontName":function(I){var q,F=0;return(q=h.getParent(b.getNode(),"span"))&&(F="fontsize"==I?q.style.fontSize:q.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),F}},"value"),w({Undo:function(){y.undoManager.undo()},Redo:function(){y.undoManager.redo()}})}}),V("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],function(T,S){var C=S.each,c=S.trim,l="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),u={ftp:21,http:80,https:443,mailto:25};function f(o,r){var a,n,s=this;if(o=c(o),a=(r=s.settings=r||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o))s.source=o;else{var p=0===o.indexOf("//");0===o.indexOf("/")&&!p&&(o=(a&&a.protocol||"http")+"://mce_host"+o),/^[\w\-]*:?\/\//.test(o)||(n=r.base_uri?r.base_uri.path:new f(T.location.href).directory,""===r.base_uri.protocol?o="//mce_host"+s.toAbsPath(n,o):(o=/([^#?]*)([#?]?.*)/.exec(o),o=(a&&a.protocol||"http")+"://mce_host"+s.toAbsPath(n,o[1])+o[2])),o=o.replace(/@@/g,"(mce_at)"),o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o),C(l,function(k,x){var y=o[x];y&&(y=y.replace(/\(mce_at\)/g,"@@")),s[k]=y}),a&&(s.protocol||(s.protocol=a.protocol),s.userInfo||(s.userInfo=a.userInfo),!s.port&&"mce_host"===s.host&&(s.port=a.port),(!s.host||"mce_host"===s.host)&&(s.host=a.host),s.source=""),p&&(s.protocol="")}}return f.prototype={setPath:function(r){var s=this;r=/^(.*?)\/?(\w+)?$/.exec(r),s.path=r[0],s.directory=r[1],s.file=r[2],s.source="",s.getURI()},toRelative:function(r){var a,s=this;if("./"===r)return r;if("mce_host"!=(r=new f(r,{base_uri:s})).host&&s.host!=r.host&&r.host||s.port!=r.port||s.protocol!=r.protocol&&""!==r.protocol)return r.getURI();var n=s.getURI(),p=r.getURI();return n==p||"/"==n.charAt(n.length-1)&&n.substr(0,n.length-1)==p?n:(a=s.toRelPath(s.path,r.path),r.query&&(a+="?"+r.query),r.anchor&&(a+="#"+r.anchor),a)},toAbsolute:function(r,s){return(r=new f(r,{base_uri:this})).getURI(s&&this.isSameOrigin(r))},isSameOrigin:function(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;var s=u[this.protocol];if(s&&(this.port||s)==(r.port||s))return!0}return!1},toRelPath:function(r,s){var a,k,x,n=0,p="";if(r=(r=r.substring(0,r.lastIndexOf("/"))).split("/"),a=s.split("/"),r.length>=a.length)for(k=0,x=r.length;k<x;k++)if(k>=a.length||r[k]!=a[k]){n=k+1;break}if(r.length<a.length)for(k=0,x=a.length;k<x;k++)if(k>=r.length||r[k]!=a[k]){n=k+1;break}if(1===n)return s;for(k=0,x=r.length-(n-1);k<x;k++)p+="../";for(k=n-1,x=a.length;k<x;k++)p+=k!=n-1?"/"+a[k]:a[k];return p},toAbsPath:function(r,s){var a,k,x,n=0,p=[];for(k=/\/$/.test(s)?"/":"",r=r.split("/"),s=s.split("/"),C(r,function(y){y&&p.push(y)}),r=p,a=s.length-1,p=[];a>=0;a--)if(0!==s[a].length&&"."!==s[a]){if(".."===s[a]){n++;continue}if(n>0){n--;continue}p.push(s[a])}return 0!==(x=(a=r.length-n)<=0?p.reverse().join("/"):r.slice(0,a).join("/")+"/"+p.reverse().join("/")).indexOf("/")&&(x="/"+x),k&&x.lastIndexOf("/")!==x.length-1&&(x+=k),x},getURI:function(r){var s,a=this;return(!a.source||r)&&(s="",r||(s+=a.protocol?a.protocol+"://":"//",a.userInfo&&(s+=a.userInfo+"@"),a.host&&(s+=a.host),a.port&&(s+=":"+a.port)),a.path&&(s+=a.path),a.query&&(s+="?"+a.query),a.anchor&&(s+="#"+a.anchor),a.source=s),a.source}},f.parseDataUri=function(o){var r,s;return o=decodeURIComponent(o).split(","),(s=/data:([^;]+)/.exec(o[0]))&&(r=s[1]),{type:r,data:o[1]}},f.getDocumentBaseUrl=function(o){var r;return r=0!==o.protocol.indexOf("http")&&"file:"!==o.protocol?o.href:o.protocol+"//"+o.host+o.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r},f}),V("tinymce.core.util.Class",["tinymce.core.util.Tools"],function(T){var c,l,S=T.each,C=T.extend;function u(){}return u.extend=c=function(o){var a,n,p,s=this.prototype;function k(){var h,b,m,i=this;if(!l&&(i.init&&i.init.apply(i,arguments),b=i.Mixins))for(h=b.length;h--;)(m=b[h]).init&&m.init.apply(i,arguments)}function x(){return this}function y(h,b){return function(){var e,m=this,i=m._super;return m._super=s[h],e=b.apply(m,arguments),m._super=i,e}}for(n in l=!0,a=new this,l=!1,o.Mixins&&(S(o.Mixins,function(h){for(var b in h)"init"!==b&&(o[b]=h[b])}),s.Mixins&&(o.Mixins=s.Mixins.concat(o.Mixins))),o.Methods&&S(o.Methods.split(","),function(h){o[h]=x}),o.Properties&&S(o.Properties.split(","),function(h){var b="_"+h;o[h]=function(m){var i=this;return void 0!==m?(i[b]=m,i):i[b]}}),o.Statics&&S(o.Statics,function(h,b){k[b]=h}),o.Defaults&&s.Defaults&&(o.Defaults=C({},s.Defaults,o.Defaults)),o)a[n]="function"==typeof(p=o[n])&&s[n]?y(n,p):p;return k.prototype=a,k.constructor=k,k.extend=c,k},u}),V("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],function(T){var S=T.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");function C(c){var u,o,l=this,f={};function r(){return!1}function s(){return!0}function n(y,h,b,m){var i,e,d;if(!1===h&&(h=r),h)for(h={func:h},m&&T.extend(h,m),d=(e=y.toLowerCase().split(" ")).length;d--;)(i=f[y=e[d]])||(i=f[y]=[],o(y,!0)),b?i.unshift(h):i.push(h);return l}function p(y,h){var b,m,i,e,d;if(y)for(b=(e=y.toLowerCase().split(" ")).length;b--;){if(m=f[y=e[b]],!y){for(i in f)o(i,!1),delete f[i];return l}if(m){if(h)for(d=m.length;d--;)m[d].func===h&&(m=m.slice(0,d).concat(m.slice(d+1)),f[y]=m);else m.length=0;m.length||(o(y,!1),delete f[y])}}else{for(y in f)o(y,!1);f={}}return l}u=(c=c||{}).scope||l,o=c.toggleEvent||r,l.fire=function a(y,h){var b,m,i,e;if(y=y.toLowerCase(),(h=h||{}).type=y,h.target||(h.target=u),h.preventDefault||(h.preventDefault=function(){h.isDefaultPrevented=s},h.stopPropagation=function(){h.isPropagationStopped=s},h.stopImmediatePropagation=function(){h.isImmediatePropagationStopped=s},h.isDefaultPrevented=r,h.isPropagationStopped=r,h.isImmediatePropagationStopped=r),c.beforeFire&&c.beforeFire(h),b=f[y])for(m=0,i=b.length;m<i;m++){if((e=b[m]).once&&p(y,e.func),h.isImmediatePropagationStopped())return h.stopPropagation(),h;if(!1===e.func.call(u,h))return h.preventDefault(),h}return h},l.on=n,l.off=p,l.once=function k(y,h,b){return n(y,h,b,{once:!0})},l.has=function x(y){return y=y.toLowerCase(),!(!f[y]||0===f[y].length)}}return C.isNative=function(c){return!!S[c.toLowerCase()]},C}),V("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],function(T){function S(C){return C._eventDispatcher||(C._eventDispatcher=new T({scope:C,toggleEvent:function(l,u){T.isNative(l)&&C.toggleNativeEvent&&C.toggleNativeEvent(l,u)}})),C._eventDispatcher}return{fire:function(c,l,u){var f=this;if(f.removed&&"remove"!==c)return l;if(l=S(f).fire(c,l,u),!1!==u&&f.parent)for(var o=f.parent();o&&!l.isPropagationStopped();)o.fire(c,l,!1),o=o.parent();return l},on:function(c,l,u){return S(this).on(c,l,u)},off:function(c,l){return S(this).off(c,l)},once:function(c,l){return S(this).once(c,l)},hasEventListeners:function(c){return S(this).has(c)}}}),V("tinymce.core.data.Binding",[],function(){function T(S){this.create=S.create}return T.create=function(S,C){return new T({create:function(l,u){var f;function o(s){l.set(u,s.value)}return l.on("change:"+u,function r(s){S.set(C,s.value)}),S.on("change:"+C,o),(f=l._bindings)||(f=l._bindings=[],l.on("destroy",function(){for(var s=f.length;s--;)f[s]()})),f.push(function(){S.off("change:"+C,o)}),S.get(C)}})},T}),V("tinymce.core.data.ObservableObject",["tinymce.core.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(T,S,C,c){function l(f){return f.nodeType>0}function u(f,o){var r,s;if(f===o)return!0;if(null===f||null===o||"object"!=typeof f||"object"!=typeof o)return f===o;if(c.isArray(o)){if(f.length!==o.length)return!1;for(r=f.length;r--;)if(!u(f[r],o[r]))return!1}if(l(f)||l(o))return f===o;for(r in s={},o){if(!u(f[r],o[r]))return!1;s[r]=!0}for(r in f)if(!s[r]&&!u(f[r],o[r]))return!1;return!0}return S.extend({Mixins:[C],init:function(o){var r,s;for(r in o=o||{})(s=o[r])instanceof T&&(o[r]=s.create(this,r));this.data=o},set:function(o,r){var s,a,n=this.data[o];if(r instanceof T&&(r=r.create(this,o)),"object"==typeof o){for(s in o)this.set(s,o[s]);return this}return u(n,r)||(this.data[o]=r,this.fire("change:"+o,a={target:this,name:o,value:r,oldValue:n}),this.fire("change",a)),this},get:function(o){return this.data[o]},has:function(o){return o in this.data},bind:function(o){return T.create(this,o)},destroy:function(){this.fire("destroy")}})}),V("tinymce.core.ui.Selector",["tinymce.core.util.Class"],function(T){"use strict";var u,C=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,l=/^\s*|\s*$/g,f=T.extend({init:function(r){var s=this.match;function y(b,m,i){var e;function d(v){v&&m.push(v)}return d(function a(b){if(b)return b=b.toLowerCase(),function(m){return"*"===b||m.type===b}}((e=C.exec(b.replace(l,"")))[1])),d(function n(b){if(b)return function(m){return m._name===b}}(e[2])),d(function p(b){if(b)return b=b.split("."),function(m){for(var i=b.length;i--;)if(!m.classes.contains(b[i]))return!1;return!0}}(e[3])),d(function k(b,m,i){if(b)return function(e){var d=e[b]?e[b]():"";return m?"="===m?d===i:"*="===m?d.indexOf(i)>=0:"~="===m?(" "+d+" ").indexOf(" "+i+" ")>=0:"!="===m?d!=i:"^="===m?0===d.indexOf(i):"$="===m&&d.substr(d.length-i.length)===i:!!i}}(e[4],e[5],e[6])),d(function x(b){var m;if(b)return(b=/(?:not\((.+)\))|(.+)/i.exec(b))[1]?(m=h(b[1],[]),function(i){return!s(i,m)}):(b=b[2],function(i,e,d){return"first"===b?0===e:"last"===b?e===d-1:"even"===b?e%2==0:"odd"===b?e%2==1:!!i[b]&&i[b]()})}(e[7])),m.pseudo=!!e[7],m.direct=i,m}function h(b,m){var e,d,v,i=[];do{if(c.exec(""),(d=c.exec(b))&&(b=d[3],i.push(d[1]),d[2])){e=d[3];break}}while(d);for(e&&h(e,m),b=[],v=0;v<i.length;v++)">"!=i[v]&&b.push(y(i[v],[],">"===i[v-1]));return m.push(b),m}this._selectors=h(r,[])},match:function(r,s){var a,n,p,k,x,y,h,b,m,i,e,d,v;for(a=0,n=(s=s||this._selectors).length;a<n;a++){for(v=r,d=0,p=(k=(x=s[a]).length)-1;p>=0;p--)for(b=x[p];v;){if(b.pseudo)for(m=i=(e=v.parent().items()).length;m--&&e[m]!==v;);for(y=0,h=b.length;y<h;y++)if(!b[y](v,m,i)){y=h+1;break}if(y===h){d++;break}if(p===k-1)break;v=v.parent()}if(d===k)return!0}return!1},find:function(r){var a,n,s=[],p=this._selectors;function k(x,y,h){var b,m,i,e,d,v=y[h];for(b=0,m=x.length;b<m;b++){for(d=x[b],i=0,e=v.length;i<e;i++)if(!v[i](d,b,m)){i=e+1;break}if(i===e)h==y.length-1?s.push(d):d.items&&k(d.items(),y,h+1);else if(v.direct)return;d.items&&k(d.items(),y,h)}}if(r.items){for(a=0,n=p.length;a<n;a++)k(r.items(),p[a],0);n>1&&(s=function S(o){for(var a,r=[],s=o.length;s--;)(a=o[s]).__checked||(r.push(a),a.__checked=1);for(s=r.length;s--;)delete r[s].__checked;return r}(s))}return u||(u=f.Collection),new u(s)}});return f}),V("tinymce.core.ui.Collection",["tinymce.core.util.Tools","tinymce.core.ui.Selector","tinymce.core.util.Class"],function(T,S,C){"use strict";var c,l,u=Array.prototype.push,f=Array.prototype.slice;return l={length:0,init:function(r){r&&this.add(r)},add:function(r){var s=this;return T.isArray(r)?u.apply(s,r):r instanceof c?s.add(r.toArray()):u.call(s,r),s},set:function(r){var n,s=this,a=s.length;for(s.length=0,s.add(r),n=s.length;n<a;n++)delete s[n];return s},filter:function(r){var a,n,k,x,p=[];for("string"==typeof r?(r=new S(r),x=function(h){return r.match(h)}):x=r,a=0,n=this.length;a<n;a++)x(k=this[a])&&p.push(k);return new c(p)},slice:function(){return new c(f.apply(this,arguments))},eq:function(r){return-1===r?this.slice(r):this.slice(r,+r+1)},each:function(r){return T.each(this,r),this},toArray:function(){return T.toArray(this)},indexOf:function(r){for(var a=this.length;a--&&this[a]!==r;);return a},reverse:function(){return new c(T.toArray(this).reverse())},hasClass:function(r){return!!this[0]&&this[0].classes.contains(r)},prop:function(r,s){var p,a=this;return void 0!==s?(a.each(function(k){k[r]&&k[r](s)}),a):(p=a[0])&&p[r]?p[r]():void 0},exec:function(r){var s=this,a=T.toArray(arguments).slice(1);return s.each(function(n){n[r]&&n[r].apply(n,a)}),s},remove:function(){for(var r=this.length;r--;)this[r].remove();return this},addClass:function(r){return this.each(function(s){s.classes.add(r)})},removeClass:function(r){return this.each(function(s){s.classes.remove(r)})}},T.each("fire on off show hide append prepend before after reflow".split(" "),function(o){l[o]=function(){var r=T.toArray(arguments);return this.each(function(s){o in s&&s[o].apply(s,r)}),this}}),T.each("text name disabled active selected checked visible parent value data".split(" "),function(o){l[o]=function(r){return this.prop(o,r)}}),c=C.extend(l),S.Collection=c,c}),V("tinymce.core.ui.DomUtils",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.dom.DOMUtils"],function(T,S,C){"use strict";var c=0,l={id:function(){return"mceu_"+c++},create:function(f,o,r){var s=document.createElement(f);return C.DOM.setAttribs(s,o),"string"==typeof r?s.innerHTML=r:S.each(r,function(a){a.nodeType&&s.appendChild(a)}),s},createFragment:function(f){return C.DOM.createFragment(f)},getWindowSize:function(){return C.DOM.getViewPort()},getSize:function(f){var o,r;if(f.getBoundingClientRect){var s=f.getBoundingClientRect();o=Math.max(s.width||s.right-s.left,f.offsetWidth),r=Math.max(s.height||s.bottom-s.bottom,f.offsetHeight)}else o=f.offsetWidth,r=f.offsetHeight;return{width:o,height:r}},getPos:function(f,o){return C.DOM.getPos(f,o||l.getContainer())},getContainer:function(){return T.container?T.container:document.body},getViewPort:function(f){return C.DOM.getViewPort(f)},get:function(f){return document.getElementById(f)},addClass:function(f,o){return C.DOM.addClass(f,o)},removeClass:function(f,o){return C.DOM.removeClass(f,o)},hasClass:function(f,o){return C.DOM.hasClass(f,o)},toggleClass:function(f,o,r){return C.DOM.toggleClass(f,o,r)},css:function(f,o,r){return C.DOM.setStyle(f,o,r)},getRuntimeStyle:function(f,o){return C.DOM.getStyle(f,o,!0)},on:function(f,o,r,s){return C.DOM.bind(f,o,r,s)},off:function(f,o,r){return C.DOM.unbind(f,o,r)},fire:function(f,o,r){return C.DOM.fire(f,o,r)},innerHtml:function(f,o){C.DOM.setHTML(f,o)}};return l}),V("tinymce.core.ui.BoxUtils",[],function(){"use strict";return{parseBox:function(S){var C;if(S)return"number"==typeof S?{top:S=S||0,left:S,bottom:S,right:S}:(1===(C=(S=S.split(" ")).length)?S[1]=S[2]=S[3]=S[0]:2===C?(S[2]=S[0],S[3]=S[1]):3===C&&(S[3]=S[1]),{top:parseInt(S[0],10)||0,right:parseInt(S[1],10)||0,bottom:parseInt(S[2],10)||0,left:parseInt(S[3],10)||0})},measureBox:function(S,C){function l(u){var f=parseFloat(function c(u){var f=document.defaultView;return f?(u=u.replace(/[A-Z]/g,function(o){return"-"+o}),f.getComputedStyle(S,null).getPropertyValue(u)):S.currentStyle[u]}(u),10);return isNaN(f)?0:f}return{top:l(C+"TopWidth"),right:l(C+"RightWidth"),bottom:l(C+"BottomWidth"),left:l(C+"LeftWidth")}}}}),V("tinymce.core.ui.ClassList",["tinymce.core.util.Tools"],function(T){"use strict";function S(){}function C(c){this.cls=[],this.cls._map={},this.onchange=c||S,this.prefix=""}return T.extend(C.prototype,{add:function(l){return l&&!this.contains(l)&&(this.cls._map[l]=!0,this.cls.push(l),this._change()),this},remove:function(l){if(this.contains(l)){for(var u=0;u<this.cls.length&&this.cls[u]!==l;u++);this.cls.splice(u,1),delete this.cls._map[l],this._change()}return this},toggle:function(l,u){var f=this.contains(l);return f!==u&&(f?this.remove(l):this.add(l),this._change()),this},contains:function(l){return!!this.cls._map[l]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),C.prototype.toString=function(){var c;if(this.clsValue)return this.clsValue;c="";for(var l=0;l<this.cls.length;l++)l>0&&(c+=" "),c+=this.prefix+this.cls[l];return c},C}),V("tinymce.core.ui.ReflowQueue",["tinymce.core.util.Delay"],function(T){var C,S={};return{add:function(l){var u=l.parent();if(u){if(!u._layout||u._layout.isNative())return;S[u._id]||(S[u._id]=u),C||(C=!0,T.requestAnimationFrame(function(){var f,o;for(f in C=!1,S)(o=S[f]).state.get("rendered")&&o.reflow();S={}},document.body))}},remove:function(l){S[l._id]&&delete S[l._id]}}}),V("tinymce.core.ui.Control",["tinymce.core.util.Class","tinymce.core.util.Tools","tinymce.core.util.EventDispatcher","tinymce.core.data.ObservableObject","tinymce.core.ui.Collection","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.BoxUtils","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(T,S,C,c,l,u,f,o,r,s){"use strict";var k,a="onmousewheel"in document,p="mce-",x=0,y={Statics:{classPrefix:p},isRtl:function(){return k.rtl},classPrefix:p,init:function(i){var d,v,e=this;function t(g){var w;for(g=g.split(" "),w=0;w<g.length;w++)e.classes.add(g[w])}e.settings=i=S.extend({},e.Defaults,i),e._id=i.id||"mceu_"+x++,e._aria={role:i.role},e._elmCache={},e.$=f,e.state=new c({visible:!0,active:!1,disabled:!1,value:""}),e.data=new c(i.data),e.classes=new r(function(){e.state.get("rendered")&&(e.getEl().className=this.toString())}),e.classes.prefix=e.classPrefix,(d=i.classes)&&(e.Defaults&&(v=e.Defaults.classes)&&d!=v&&t(v),t(d)),S.each("title text name visible disabled active value".split(" "),function(g){g in i&&e[g](i[g])}),e.on("click",function(){if(e.disabled())return!1}),e.settings=i,e.borderBox=o.parseBox(i.border),e.paddingBox=o.parseBox(i.padding),e.marginBox=o.parseBox(i.margin),i.hidden&&e.hide()},Properties:"parent,name",getContainerElm:function(){return u.getContainer()},getParentCtrl:function(i){for(var e,d=this.getRoot().controlIdLookup;i&&d&&!(e=d[i.id]);)i=i.parentNode;return e},initLayoutRect:function(){var d,v,g,w,E,A,R,N,_,P,i=this,e=i.settings,t=i.getEl();d=i.borderBox=i.borderBox||o.measureBox(t,"border"),i.paddingBox=i.paddingBox||o.measureBox(t,"padding"),i.marginBox=i.marginBox||o.measureBox(t,"margin"),P=u.getSize(t),E=(N=e.minWidth)||P.width,A=(_=e.minHeight)||P.height,g=e.width,w=e.height,R=void 0!==(R=e.autoResize)?R:!g&&!w;var M=d.left+d.right,D=d.top+d.bottom,U=e.maxWidth||65535,L=e.maxHeight||65535;return i._layoutRect=v={x:e.x||0,y:e.y||0,w:g=g||E,h:w=w||A,deltaW:M,deltaH:D,contentW:g-M,contentH:w-D,innerW:g-M,innerH:w-D,startMinWidth:N||0,startMinHeight:_||0,minW:Math.min(E,U),minH:Math.min(A,L),maxW:U,maxH:L,autoResize:R,scrollW:0},i._lastLayoutRect={},v},layoutRect:function(i){var v,t,g,w,E,A,e=this,d=e._layoutRect;return d||(d=e.initLayoutRect()),i?(g=d.deltaW,w=d.deltaH,i.x!==E&&(d.x=i.x),i.y!==E&&(d.y=i.y),i.minW!==E&&(d.minW=i.minW),i.minH!==E&&(d.minH=i.minH),(t=i.w)!==E&&(d.w=t=(t=t<d.minW?d.minW:t)>d.maxW?d.maxW:t,d.innerW=t-g),(t=i.h)!==E&&(d.h=t=(t=t<d.minH?d.minH:t)>d.maxH?d.maxH:t,d.innerH=t-w),(t=i.innerW)!==E&&(d.innerW=t=(t=t<d.minW-g?d.minW-g:t)>d.maxW-g?d.maxW-g:t,d.w=t+g),(t=i.innerH)!==E&&(d.innerH=t=(t=t<d.minH-w?d.minH-w:t)>d.maxH-w?d.maxH-w:t,d.h=t+w),i.contentW!==E&&(d.contentW=i.contentW),i.contentH!==E&&(d.contentH=i.contentH),((v=e._lastLayoutRect).x!==d.x||v.y!==d.y||v.w!==d.w||v.h!==d.h)&&((A=k.repaintControls)&&A.map&&!A.map[e._id]&&(A.push(e),A.map[e._id]=!0),v.x=d.x,v.y=d.y,v.w=d.w,v.h=d.h),e):d},repaint:function(){var e,d,v,t,g,w,E,A,R,N,i=this;R=document.createRange?function(_){return _}:Math.round,e=i.getEl().style,w=(g=i.borderBox).left+g.right,E=g.top+g.bottom,(t=i._layoutRect).x!==(A=i._lastRepaintRect||{}).x&&(e.left=R(t.x)+"px",A.x=t.x),t.y!==A.y&&(e.top=R(t.y)+"px",A.y=t.y),t.w!==A.w&&(N=R(t.w-w),e.width=(N>=0?N:0)+"px",A.w=t.w),t.h!==A.h&&(N=R(t.h-E),e.height=(N>=0?N:0)+"px",A.h=t.h),i._hasBody&&t.innerW!==A.innerW&&(N=R(t.innerW),(v=i.getEl("body"))&&((d=v.style).width=(N>=0?N:0)+"px"),A.innerW=t.innerW),i._hasBody&&t.innerH!==A.innerH&&(N=R(t.innerH),(v=v||i.getEl("body"))&&((d=d||v.style).height=(N>=0?N:0)+"px"),A.innerH=t.innerH),i._lastRepaintRect=A,i.fire("repaint",{},!1)},updateLayoutRect:function(){var i=this;i.parent()._lastRect=null,u.css(i.getEl(),{width:"",height:""}),i._layoutRect=i._lastRepaintRect=i._lastLayoutRect=null,i.initLayoutRect()},on:function(i,e){var d=this;return h(d).on(i,function v(t){var g,w;return"string"!=typeof t?t:function(E){return g||d.parentsAndSelf().each(function(A){var R=A.settings.callbacks;if(R&&(g=R[t]))return w=A,!1}),g?g.call(w,E):(E.action=t,void this.fire("execute",E))}}(e)),d},off:function(i,e){return h(this).off(i,e),this},fire:function(i,e,d){var v=this;if((e=e||{}).control||(e.control=v),e=h(v).fire(i,e),!1!==d&&v.parent)for(var t=v.parent();t&&!e.isPropagationStopped();)t.fire(i,e,!1),t=t.parent();return e},hasEventListeners:function(i){return h(this).has(i)},parents:function(i){var d,v=new l;for(d=this.parent();d;d=d.parent())v.add(d);return i&&(v=v.filter(i)),v},parentsAndSelf:function(i){return new l(this).add(this.parents(i))},next:function(){var i=this.parent().items();return i[i.indexOf(this)+1]},prev:function(){var i=this.parent().items();return i[i.indexOf(this)-1]},innerHtml:function(i){return this.$el.html(i),this},getEl:function(i){var e=i?this._id+"-"+i:this._id;return this._elmCache[e]||(this._elmCache[e]=f("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(i){}return this},blur:function(){return this.getEl().blur(),this},aria:function(i,e){var d=this,v=d.getEl(d.ariaTarget);return void 0===e?d._aria[i]:(d._aria[i]=e,d.state.get("rendered")&&v.setAttribute("role"==i?i:"aria-"+i,e),d)},encode:function(i,e){return!1!==e&&(i=this.translate(i)),(i||"").replace(/[&<>"]/g,function(d){return"&#"+d.charCodeAt(0)+";"})},translate:function(i){return k.translate?k.translate(i):i},before:function(i){var e=this,d=e.parent();return d&&d.insert(i,d.items().indexOf(e),!0),e},after:function(i){var e=this,d=e.parent();return d&&d.insert(i,d.items().indexOf(e)),e},remove:function(){var v,t,i=this,e=i.getEl(),d=i.parent();if(i.items){var g=i.items().toArray();for(t=g.length;t--;)g[t].remove()}d&&d.items&&(v=[],d.items().each(function(E){E!==i&&v.push(E)}),d.items().set(v),d._lastRect=null),i._eventsRoot&&i._eventsRoot==i&&f(e).off();var w=i.getRoot().controlIdLookup;return w&&delete w[i._id],e&&e.parentNode&&e.parentNode.removeChild(e),i.state.set("rendered",!1),i.state.destroy(),i.fire("remove"),i},renderBefore:function(i){return f(i).before(this.renderHtml()),this.postRender(),this},renderTo:function(i){return f(i||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var d,v,t,g,w,i=this,e=i.settings;for(g in i.$el=f(i.getEl()),i.state.set("rendered",!0),e)0===g.indexOf("on")&&i.on(g.substr(2),e[g]);if(i._eventsRoot){for(t=i.parent();!w&&t;t=t.parent())w=t._eventsRoot;if(w)for(g in w._nativeEvents)i._nativeEvents[g]=!0}b(i),e.style&&(d=i.getEl())&&(d.setAttribute("style",e.style),d.style.cssText=e.style),i.settings.border&&i.$el.css({"border-top-width":(v=i.borderBox).top,"border-right-width":v.right,"border-bottom-width":v.bottom,"border-left-width":v.left});var E=i.getRoot();for(var A in E.controlIdLookup||(E.controlIdLookup={}),E.controlIdLookup[i._id]=i,i._aria)i.aria(A,i._aria[A]);!1===i.state.get("visible")&&(i.getEl().style.display="none"),i.bindStates(),i.state.on("change:visible",function(R){var _,N=R.value;i.state.get("rendered")&&(i.getEl().style.display=!1===N?"none":"",i.getEl().getBoundingClientRect()),(_=i.parent())&&(_._lastRect=null),i.fire(N?"show":"hide"),s.add(i)}),i.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(i){var t,g,w,E,A,R,d=this.getEl(),v=d.parentNode,N=function e(_,P){var M,D,U=_;for(M=D=0;U&&U!=P&&U.nodeType;)M+=U.offsetLeft||0,D+=U.offsetTop||0,U=U.offsetParent;return{x:M,y:D}}(d,v);return t=N.x,g=N.y,w=d.offsetWidth,E=d.offsetHeight,A=v.clientWidth,R=v.clientHeight,"end"==i?(t-=A-w,g-=R-E):"center"==i&&(t-=A/2-w/2,g-=R/2-E/2),v.scrollLeft=t,v.scrollTop=g,this},getRoot:function(){for(var e,i=this,d=[];i;){if(i.rootControl){e=i.rootControl;break}d.push(i),e=i,i=i.parent()}e||(e=this);for(var v=d.length;v--;)d[v].rootControl=e;return e},reflow:function(){s.remove(this);var i=this.parent();return i&&i._layout&&!i._layout.isNative()&&i.reflow(),this}};function h(m){return m._eventDispatcher||(m._eventDispatcher=new C({scope:m,toggleEvent:function(e,d){d&&C.isNative(e)&&(m._nativeEvents||(m._nativeEvents={}),m._nativeEvents[e]=!0,m.state.get("rendered")&&b(m))}})),m._eventDispatcher}function b(m){var i,e,d,v,t,g;function w(_){var P=m.getParentCtrl(_.target);P&&P.fire(_.type,_)}function E(){var _=v._lastHoverCtrl;_&&(_.fire("mouseleave",{target:_.getEl()}),_.parents().each(function(P){P.fire("mouseleave",{target:P.getEl()})}),v._lastHoverCtrl=null)}function A(_){var U,L,B,P=m.getParentCtrl(_.target),M=v._lastHoverCtrl,D=0;if(P!==M){if(v._lastHoverCtrl=P,(L=P.parents().toArray().reverse()).push(P),M){for((B=M.parents().toArray().reverse()).push(M),D=0;D<B.length&&L[D]===B[D];D++);for(U=B.length-1;U>=D;U--)(M=B[U]).fire("mouseleave",{target:M.getEl()})}for(U=D;U<L.length;U++)(P=L[U]).fire("mouseenter",{target:P.getEl()})}}function R(_){_.preventDefault(),"mousewheel"==_.type?(_.deltaY=-1/40*_.wheelDelta,_.wheelDeltaX&&(_.deltaX=-1/40*_.wheelDeltaX)):(_.deltaX=0,_.deltaY=_.detail),_=m.fire("wheel",_)}if(t=m._nativeEvents){for((d=m.parents().toArray()).unshift(m),i=0,e=d.length;!v&&i<e;i++)v=d[i]._eventsRoot;for(v||(v=d[d.length-1]||m),m._eventsRoot=v,e=i,i=0;i<e;i++)d[i]._eventsRoot=v;var N=v._delegates;for(g in N||(N=v._delegates={}),t){if(!t)return!1;"wheel"!==g?("mouseenter"===g||"mouseleave"===g?v._hasMouseEnter||(f(v.getEl()).on("mouseleave",E).on("mouseover",A),v._hasMouseEnter=1):N[g]||(f(v.getEl()).on(g,w),N[g]=!0),t[g]=!1):a?f(m.getEl()).on("mousewheel",R):f(m.getEl()).on("DOMMouseScroll",R)}}}return S.each("text title visible disabled active value".split(" "),function(m){y[m]=function(i){return 0===arguments.length?this.state.get(m):(void 0!==i&&this.state.set(m,i),this)}}),k=T.extend(y)}),V("tinymce.core.ui.Factory",[],function(){"use strict";var T={};return{add:function(C,c){T[C.toLowerCase()]=c},has:function(C){return!!T[C.toLowerCase()]},create:function(C,c){var l;if("string"==typeof C?(c=c||{}).type=C:C=(c=C).type,C=C.toLowerCase(),!(l=T[C]))throw new Error("Could not find control by type: "+C);return(l=new l(c)).type=C,l}}}),V("tinymce.core.ui.KeyboardNavigation",[],function(){"use strict";var T=function(C){return!!C.getAttribute("data-mce-tabstop")};return function(S){var c,l,C=S.root;function u(t){return t&&1===t.nodeType}try{c=document.activeElement}catch(t){c=document.body}function f(t){return u(t=t||c)?t.getAttribute("role"):null}function o(t){for(var g,w=t||c;w=w.parentNode;)if(g=f(w))return g}function r(t){var g=c;if(u(g))return g.getAttribute("aria-"+t)}function s(t){var g=t.tagName.toUpperCase();return"INPUT"==g||"TEXTAREA"==g||"SELECT"==g}function n(t){var g=[];return function w(E){if(1==E.nodeType&&"none"!=E.style.display&&!E.disabled){(function a(t){return!!(s(t)&&!t.hidden||T(t)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(f(t)))})(E)&&g.push(E);for(var A=0;A<E.childNodes.length;A++)w(E.childNodes[A])}}(t||C.getEl()),g}function p(t){var g,w;(w=(t=t||l).parents().toArray()).unshift(t);for(var E=0;E<w.length&&!(g=w[E]).settings.ariaRoot;E++);return g}function x(t,g){return t<0?t=g.length-1:t>=g.length&&(t=0),g[t]&&g[t].focus(),t}function y(t,g){var w=-1,E=p();g=g||n(E.getEl());for(var A=0;A<g.length;A++)g[A]===c&&(w=A);E.lastAriaIndex=x(w+=t,g)}function h(){"tablist"==o()?y(-1,n(c.parentNode)):l.parent().submenu?d():y(-1)}function b(){var t=f(),g=o();"tablist"==g?y(1,n(c.parentNode)):"menuitem"==t&&"menu"==g&&r("haspopup")?v():y(1)}function m(){y(-1)}function i(){var t=f(),g=o();"menuitem"==t&&"menubar"==g?v():"button"==t&&r("haspopup")?v({key:"down"}):y(1)}function d(){l.fire("cancel")}function v(t){l.fire("click",{target:c,aria:t=t||{}})}return l=C.getParentCtrl(c),C.on("keydown",function(t){function g(w,E){s(c)||T(c)||"slider"!==f(c)&&!1!==E(w)&&w.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:g(t,h);break;case 39:g(t,b);break;case 38:g(t,m);break;case 40:g(t,i);break;case 27:d();break;case 14:case 13:case 32:g(t,v);break;case 9:!1!==function e(t){if("tablist"==o()){var w=n(l.getEl("body"))[0];w&&w.focus()}else y(t.shiftKey?-1:1)}(t)&&t.preventDefault()}}),C.on("focusin",function(t){c=t.target,l=t.control}),{focusFirst:function k(t){var g=p(t),w=n(g.getEl());x(g.settings.ariaRemember&&"lastAriaIndex"in g?g.lastAriaIndex:0,w)}}}}),V("tinymce.core.ui.Container",["tinymce.core.ui.Control","tinymce.core.ui.Collection","tinymce.core.ui.Selector","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(T,S,C,c,l,u,f,o,r){"use strict";var s={};return T.extend({init:function(n){var p=this;p._super(n),(n=p.settings).fixed&&p.state.set("fixed",!0),p._items=new S,p.isRtl()&&p.classes.add("rtl"),p.bodyClasses=new o(function(){p.state.get("rendered")&&(p.getEl("body").className=this.toString())}),p.bodyClasses.prefix=p.classPrefix,p.classes.add("container"),p.bodyClasses.add("container-body"),n.containerCls&&p.classes.add(n.containerCls),p._layout=c.create((n.layout||"")+"layout"),p.add(p.settings.items?p.settings.items:p.render()),p._hasBody=!0},items:function(){return this._items},find:function(n){return(n=s[n]=s[n]||new C(n)).find(this)},add:function(n){var p=this;return p.items().add(p.create(n)).parent(p),p},focus:function(n){var k,x,y,p=this;if(!n||!(x=p.keyboardNav||p.parents().eq(-1)[0].keyboardNav))return y=p.find("*"),p.statusbar&&y.add(p.statusbar.items()),y.each(function(h){if(h.settings.autofocus)return k=null,!1;h.canFocus&&(k=k||h)}),k&&k.focus(),p;x.focusFirst(p)},replace:function(n,p){for(var k,x=this.items(),y=x.length;y--;)if(x[y]===n){x[y]=p;break}y>=0&&((k=p.getEl())&&k.parentNode.removeChild(k),(k=n.getEl())&&k.parentNode.removeChild(k)),p.parent(this)},create:function(n){var k,p=this,x=[];return u.isArray(n)||(n=[n]),u.each(n,function(y){y&&(y instanceof T||("string"==typeof y&&(y={type:y}),k=u.extend({},p.settings.defaults,y),y.type=k.type=k.type||y.type||p.settings.defaultType||(k.defaults?k.defaults.type:null),y=c.create(k)),x.push(y))}),x},renderNew:function(){var n=this;return n.items().each(function(p,k){var x;p.parent(n),p.state.get("rendered")||((x=n.getEl("body")).hasChildNodes()&&k<=x.childNodes.length-1?f(x.childNodes[k]).before(p.renderHtml()):f(x).append(p.renderHtml()),p.postRender(),r.add(p))}),n._layout.applyClasses(n.items().filter(":visible")),n._lastRect=null,n},append:function(n){return this.add(n).renderNew()},prepend:function(n){var p=this;return p.items().set(p.create(n).concat(p.items().toArray())),p.renderNew()},insert:function(n,p,k){var y,h,b,x=this;return n=x.create(n),y=x.items(),!k&&p<y.length-1&&(p+=1),p>=0&&p<y.length&&(h=y.slice(0,p).toArray(),b=y.slice(p).toArray(),y.set(h.concat(n,b))),x.renderNew()},fromJSON:function(n){for(var k in n)this.find("#"+k).value(n[k]);return this},toJSON:function(){var p={};return this.find("*").each(function(k){var x=k.name(),y=k.value();x&&void 0!==y&&(p[x]=y)}),p},renderHtml:function(){var n=this,p=n._layout,k=this.settings.role;return n.preRender(),p.preRender(n),'<div id="'+n._id+'" class="'+n.classes+'"'+(k?' role="'+this.settings.role+'"':"")+'><div id="'+n._id+'-body" class="'+n.bodyClasses+'">'+(n.settings.html||"")+p.renderHtml(n)+"</div></div>"},postRender:function(){var p,n=this;return n.items().exec("postRender"),n._super(),n._layout.postRender(n),n.state.set("rendered",!0),n.settings.style&&n.$el.css(n.settings.style),n.settings.border&&n.$el.css({"border-top-width":(p=n.borderBox).top,"border-right-width":p.right,"border-bottom-width":p.bottom,"border-left-width":p.left}),n.parent()||(n.keyboardNav=new l({root:n})),n},initLayoutRect:function(){var n=this,p=n._super();return n._layout.recalc(n),p},recalc:function(){var n=this,p=n._layoutRect,k=n._lastRect;if(!k||k.w!=p.w||k.h!=p.h)return n._layout.recalc(n),p=n.layoutRect(),n._lastRect={x:p.x,y:p.y,w:p.w,h:p.h},!0},reflow:function(){var n;if(r.remove(this),this.visible()){for(T.repaintControls=[],T.repaintControls.map={},this.recalc(),n=T.repaintControls.length;n--;)T.repaintControls[n].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),T.repaintControls=[]}return this}})}),V("tinymce.core.ui.DragHelper",["tinymce.core.dom.DomQuery"],function(T){"use strict";function C(c){var l,u;if(c.changedTouches)for(l="screenX screenY pageX pageY clientX clientY".split(" "),u=0;u<l.length;u++)c[l[u]]=c.changedTouches[0][l[u]]}return function(c,l){var u,o,r,s,a,n,p,f=l.document||document;function k(){return f.getElementById(l.handle||c)}l=l||{},r=function(y){var b,m,h=function S(c){var l,u,f,o,r,s,a,p=Math.max;return f=p((l=c.documentElement).scrollWidth,(u=c.body).scrollWidth),o=p(l.clientWidth,u.clientWidth),r=p(l.offsetWidth,u.offsetWidth),s=p(l.scrollHeight,u.scrollHeight),a=p(l.clientHeight,u.clientHeight),{width:f<r?o:f,height:s<p(l.offsetHeight,u.offsetHeight)?a:s}}(f);C(y),y.preventDefault(),o=y.button,b=k(),n=y.screenX,p=y.screenY,m=window.getComputedStyle?window.getComputedStyle(b,null).getPropertyValue("cursor"):b.runtimeStyle.cursor,u=T("<div></div>").css({position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:m}).appendTo(f.body),T(f).on("mousemove touchmove",a).on("mouseup touchend",s),l.start(y)},a=function(y){if(C(y),y.button!==o)return s(y);y.deltaX=y.screenX-n,y.deltaY=y.screenY-p,y.preventDefault(),l.drag(y)},s=function(y){C(y),T(f).off("mousemove touchmove",a).off("mouseup touchend",s),u.remove(),l.stop&&l.stop(y)},this.destroy=function(){T(k()).off()},T(k()).on("mousedown touchstart",r)}}),V("tinymce.core.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper"],function(T,S){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var c=this;function u(){var o,r,s;function a(n,p,k,x,y,h){var b,m,i,e,v,t,g,w;if(m=c.getEl("scroll"+n)){if(g=p.toLowerCase(),w=k.toLowerCase(),T(c.getEl("absend")).css(g,c.layoutRect()[x]-1),!y)return void T(m).css("display","none");T(m).css("display","block"),b=c.getEl("body"),i=c.getEl("scroll"+n+"t"),e=b["client"+k]-4,v=(e-=o&&r?m["client"+h]:0)/b["scroll"+k],(t={})[g]=b["offset"+p]+2,t[w]=e,T(m).css(t),(t={})[g]=b["scroll"+p]*v,t[w]=e*v,T(i).css(t)}}s=c.getEl("body"),r=s.scrollHeight>s.clientHeight,a("h","Left","Width","contentW",o=s.scrollWidth>s.clientWidth,"Height"),a("v","Top","Height","contentH",r,"Width")}c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,function f(){function o(r,s,a,n,p){var k,x=c._id+"-scroll"+r,y=c.classPrefix;T(c.getEl()).append('<div id="'+x+'" class="'+y+"scrollbar "+y+"scrollbar-"+r+'"><div id="'+x+'t" class="'+y+'scrollbar-thumb"></div></div>'),c.draghelper=new S(x+"t",{start:function(){k=c.getEl("body")["scroll"+s],T("#"+x).addClass(y+"active")},drag:function(b){var m,i,e,d,v=c.layoutRect();i=v.contentW>v.innerW,e=v.contentH>v.innerH,d=c.getEl("body")["client"+a]-4,m=(d-=i&&e?c.getEl("scroll"+r)["client"+p]:0)/c.getEl("body")["scroll"+a],c.getEl("body")["scroll"+s]=k+b["delta"+n]/m},stop:function(){T("#"+x).removeClass(y+"active")}})}c.classes.add("scroll"),o("v","Top","Height","Y","Width"),o("h","Left","Width","X","Height")}(),c.on("wheel",function(o){var r=c.getEl("body");r.scrollLeft+=10*(o.deltaX||0),r.scrollTop+=10*o.deltaY,u()}),T(c.getEl("body")).on("scroll",u)),u())}}}),V("tinymce.core.ui.Panel",["tinymce.core.ui.Container","tinymce.core.ui.Scrollable"],function(T,S){"use strict";return T.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[S],renderHtml:function(){var c=this,l=c._layout,u=c.settings.html;return c.preRender(),l.preRender(c),void 0===u?u='<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+l.renderHtml(c)+"</div>":("function"==typeof u&&(u=u.call(c)),c._hasBody=!1),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1" role="group">'+(c._preBodyHtml||"")+u+"</div>"}})}),V("tinymce.core.ui.Movable",["tinymce.core.ui.DomUtils"],function(T){"use strict";function S(C,c,l){var u,f,o,r,s,a,n,p,k,x;return k=T.getViewPort(),o=(f=T.getPos(c)).x,r=f.y,C.state.get("fixed")&&"static"==T.getRuntimeStyle(document.body,"position")&&(o-=k.x,r-=k.y),u=C.getEl(),s=(x=T.getSize(u)).width,a=x.height,n=(x=T.getSize(c)).width,p=x.height,"b"===(l=(l||"").split(""))[0]&&(r+=p),"r"===l[1]&&(o+=n),"c"===l[0]&&(r+=Math.round(p/2)),"c"===l[1]&&(o+=Math.round(n/2)),"b"===l[3]&&(r-=a),"r"===l[4]&&(o-=s),"c"===l[3]&&(r-=Math.round(a/2)),"c"===l[4]&&(o-=Math.round(s/2)),{x:o,y:r,w:s,h:a}}return{testMoveRel:function(c,l){for(var u=T.getViewPort(),f=0;f<l.length;f++){var o=S(this,c,l[f]);if(this.state.get("fixed")){if(o.x>0&&o.x+o.w<u.w&&o.y>0&&o.y+o.h<u.h)return l[f]}else if(o.x>u.x&&o.x+o.w<u.w+u.x&&o.y>u.y&&o.y+o.h<u.h+u.y)return l[f]}return l[0]},moveRel:function(c,l){"string"!=typeof l&&(l=this.testMoveRel(c,l));var u=S(this,c,l);return this.moveTo(u.x,u.y)},moveBy:function(c,l){var u=this,f=u.layoutRect();return u.moveTo(f.x+c,f.y+l),u},moveTo:function(c,l){var u=this;function f(s,a,n){return s<0||s+n>a&&(s=a-n)<0?0:s}if(u.settings.constrainToViewport){var o=T.getViewPort(window),r=u.layoutRect();c=f(c,o.w+o.x,r.w),l=f(l,o.h+o.y,r.h)}return u.state.get("rendered")?u.layoutRect({x:c,y:l}).repaint():(u.settings.x=c,u.settings.y=l),u.fire("move",{x:c,y:l}),u}}}),V("tinymce.core.ui.Resizable",["tinymce.core.ui.DomUtils"],function(T){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(C,c){if(C<=1||c<=1){var l=T.getWindowSize();C=C<=1?C*l.w:C,c=c<=1?c*l.h:c}return this._layoutRect.autoResize=!1,this.layoutRect({minW:C,minH:c,w:C,h:c}).reflow()},resizeBy:function(C,c){var u=this.layoutRect();return this.resizeTo(u.w+C,u.h+c)}}}),V("tinymce.core.ui.FloatPanel",["tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.Delay"],function(T,S,C,c,l,u){"use strict";var f,o,r,n,s=[],a=[];function p(d,v){for(;d;){if(d==v)return!0;d=d.parent()}}function b(d){var v=c.getViewPort().y;function t(g,w){for(var E,A=0;A<s.length;A++)if(s[A]!=d)for(E=s[A].parent();E&&(E=E.parent());)E==d&&s[A].fixed(g).moveBy(0,w).repaint()}d.settings.autofix&&(d.state.get("fixed")?d._autoFixY>v&&(d.fixed(!1).layoutRect({y:d._autoFixY}).repaint(),t(!1,d._autoFixY-v)):(d._autoFixY=d.layoutRect().y,d._autoFixY<v&&(d.fixed(!0).layoutRect({y:0}).repaint(),t(!0,v-d._autoFixY))))}function m(d,v){var t,w,g=i.zIndex||65535;if(d)a.push(v);else for(t=a.length;t--;)a[t]===v&&a.splice(t,1);if(a.length)for(t=0;t<a.length;t++)a[t].modal&&(g++,w=a[t]),a[t].getEl().style.zIndex=g,a[t].zIndex=g,g++;var E=l("#"+v.classPrefix+"modal-block",v.getContainerElm())[0];w?l(E).css("z-index",w.zIndex-1):E&&(E.parentNode.removeChild(E),n=!1),i.currentZIndex=g}var i=T.extend({Mixins:[S,C],init:function(v){var t=this;t._super(v),t._eventsRoot=t,t.classes.add("floatpanel"),v.autohide&&(function x(){f||(f=function(v){2!=v.button&&function k(d){for(var v=s.length;v--;){var t=s[v],g=t.getParentCtrl(d.target);if(t.settings.autohide){if(g&&(p(g,t)||t.parent()===g))continue;(d=t.fire("autohide",{target:d.target})).isDefaultPrevented()||t.hide()}}}(v)},l(document).on("click touchstart",f))}(),function h(){if(!r){var d=document.documentElement,v=d.clientWidth,t=d.clientHeight;r=function(){(!document.all||v!=d.clientWidth||t!=d.clientHeight)&&(v=d.clientWidth,t=d.clientHeight,i.hideAll())},l(window).on("resize",r)}}(),s.push(t)),v.autofix&&(function y(){o||(o=function(){var v;for(v=s.length;v--;)b(s[v])},l(window).on("scroll",o))}(),t.on("move",function(){b(this)})),t.on("postrender show",function(g){if(g.control==t){var w,E=t.classPrefix;t.modal&&!n&&((w=l("#"+E+"modal-block",t.getContainerElm()))[0]||(w=l('<div id="'+E+'modal-block" class="'+E+"reset "+E+'fade"></div>').appendTo(t.getContainerElm())),u.setTimeout(function(){w.addClass(E+"in"),l(t.getEl()).addClass(E+"in")}),n=!0),m(!0,t)}}),t.on("show",function(){t.parents().each(function(g){if(g.state.get("fixed"))return t.fixed(!0),!1})}),v.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",v.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(v){var t=this;if(t.state.get("fixed")!=v){if(t.state.get("rendered")){var g=c.getViewPort();v?t.layoutRect().y-=g.y:t.layoutRect().y+=g.y}t.classes.toggle("fixed",v),t.state.set("fixed",v)}return t},show:function(){var t,v=this,g=v._super();for(t=s.length;t--&&s[t]!==v;);return-1===t&&s.push(v),g},hide:function(){return e(this),m(!1,this),this._super()},hideAll:function(){i.hideAll()},close:function(){var v=this;return v.fire("close").isDefaultPrevented()||(v.remove(),m(!1,v)),v},remove:function(){e(this),this._super()},postRender:function(){var v=this;return v.settings.bodyRole&&this.getEl("body").setAttribute("role",v.settings.bodyRole),v._super()}});function e(d){var v;for(v=s.length;v--;)s[v]===d&&s.splice(v,1);for(v=a.length;v--;)a[v]===d&&a.splice(v,1)}return i.hideAll=function(){for(var d=s.length;d--;){var v=s[d];v&&v.settings.autohide&&(v.hide(),s.splice(d,1))}},i}),V("tinymce.core.ui.Window",["tinymce.core.ui.FloatPanel","tinymce.core.ui.Panel","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper","tinymce.core.ui.BoxUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(T,S,C,c,l,u,f,o){"use strict";var r=[],s="";function a(y){var m,b=c("meta[name=viewport]")[0];!1!==f.overrideViewPort&&(b||((b=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(b)),(m=b.getAttribute("content"))&&void 0!==s&&(s=m),b.setAttribute("content",y?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":s))}var x=T.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(h){var b=this;b._super(h),b.isRtl()&&b.classes.add("rtl"),b.classes.add("window"),b.bodyClasses.add("window-body"),b.state.set("fixed",!0),h.buttons&&(b.statusbar=new S({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:h.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b)),b.on("click",function(m){var i=b.classPrefix+"close";(C.hasClass(m.target,i)||C.hasClass(m.target.parentNode,i))&&b.close()}),b.on("cancel",function(){b.close()}),b.aria("describedby",b.describedBy||b._id+"-none"),b.aria("label",h.title),b._fullscreen=!1},recalc:function(){var m,i,e,d,h=this,b=h.statusbar;h._fullscreen&&(h.layoutRect(C.getWindowSize()),h.layoutRect().contentH=h.layoutRect().innerH),h._super(),m=h.layoutRect(),h.settings.title&&!h._fullscreen&&(i=m.headerW)>m.w&&(e=m.x-Math.max(0,i/2),h.layoutRect({w:i,x:e}),d=!0),b&&(b.layoutRect({w:h.layoutRect().innerW}).recalc(),(i=b.layoutRect().minW+m.deltaW)>m.w&&(e=m.x-Math.max(0,i-m.w),h.layoutRect({w:i,x:e}),d=!0)),d&&h.recalc()},initLayoutRect:function(){var i,h=this,b=h._super(),m=0;if(h.settings.title&&!h._fullscreen){i=h.getEl("head");var e=C.getSize(i);b.headerW=e.width,b.headerH=e.height,m+=b.headerH}h.statusbar&&(m+=h.statusbar.layoutRect().h),b.deltaH+=m,b.minH+=m,b.h+=m;var d=C.getWindowSize();return b.x=h.settings.x||Math.max(0,d.w/2-b.w/2),b.y=h.settings.y||Math.max(0,d.h/2-b.h/2),b},renderHtml:function(){var h=this,b=h._layout,m=h._id,i=h.classPrefix,e=h.settings,d="",v="",t=e.html;return h.preRender(),b.preRender(h),e.title&&(d='<div id="'+m+'-head" class="'+i+'window-head"><div id="'+m+'-title" class="'+i+'title">'+h.encode(e.title)+'</div><div id="'+m+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),e.url&&(t='<iframe src="'+e.url+'" tabindex="-1"></iframe>'),void 0===t&&(t=b.renderHtml(h)),h.statusbar&&(v=h.statusbar.renderHtml()),'<div id="'+m+'" class="'+h.classes+'" hidefocus="1"><div class="'+h.classPrefix+'reset" role="application">'+d+'<div id="'+m+'-body" class="'+h.bodyClasses+'">'+t+"</div>"+v+"</div></div>"},fullscreen:function(h){var i,d,b=this,m=document.documentElement,e=b.classPrefix;if(h!=b._fullscreen)if(c(window).on("resize",function(){var t;if(b._fullscreen)if(i)b._timer||(b._timer=o.setTimeout(function(){var w=C.getWindowSize();b.moveTo(0,0).resizeTo(w.w,w.h),b._timer=0},50));else{t=(new Date).getTime();var g=C.getWindowSize();b.moveTo(0,0).resizeTo(g.w,g.h),(new Date).getTime()-t>50&&(i=!0)}}),d=b.layoutRect(),b._fullscreen=h,h){b._initial={x:d.x,y:d.y,w:d.w,h:d.h},b.borderBox=u.parseBox("0"),b.getEl("head").style.display="none",d.deltaH-=d.headerH+2,c([m,document.body]).addClass(e+"fullscreen"),b.classes.add("fullscreen");var v=C.getWindowSize();b.moveTo(0,0).resizeTo(v.w,v.h)}else b.borderBox=u.parseBox(b.settings.border),b.getEl("head").style.display="",d.deltaH+=d.headerH,c([m,document.body]).removeClass(e+"fullscreen"),b.classes.remove("fullscreen"),b.moveTo(b._initial.x,b._initial.y).resizeTo(b._initial.w,b._initial.h);return b.reflow()},postRender:function(){var b,h=this;setTimeout(function(){h.classes.add("in"),h.fire("open")},0),h._super(),h.statusbar&&h.statusbar.postRender(),h.focus(),this.dragHelper=new l(h._id+"-dragh",{start:function(){b={x:h.layoutRect().x,y:h.layoutRect().y}},drag:function(i){h.moveTo(b.x+i.deltaX,b.y+i.deltaY)}}),h.on("submit",function(m){m.isDefaultPrevented()||h.close()}),r.push(h),a(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var b,h=this;for(h.dragHelper.destroy(),h._super(),h.statusbar&&this.statusbar.remove(),function n(y,h){(function p(){for(var y=0;y<r.length;y++)if(r[y]._fullscreen)return!0;return!1})()&&!1===h&&c([document.documentElement,document.body]).removeClass(y+"fullscreen")}(h.classPrefix,!1),b=r.length;b--;)r[b]===h&&r.splice(b,1);a(r.length>0)},getContentWindow:function(){var h=this.getEl().getElementsByTagName("iframe")[0];return h?h.contentWindow:null}});return function k(){if(!f.desktop){var y={w:window.innerWidth,h:window.innerHeight};o.setInterval(function(){var b=window.innerWidth,m=window.innerHeight;(y.w!=b||y.h!=m)&&(y={w:b,h:m},c(window).trigger("resize"))},100)}c(window).on("resize",function h(){var b,i,m=C.getWindowSize();for(b=0;b<r.length;b++)i=r[b].layoutRect(),r[b].moveTo(r[b].settings.x||Math.max(0,m.w/2-i.w/2),r[b].settings.y||Math.max(0,m.h/2-i.h/2))})}(),x}),V("tinymce.core.ui.MessageBox",["tinymce.core.ui.Window"],function(T){"use strict";var S=T.extend({init:function(c){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(c){var l,u=c.callback||function(){};function f(o,r,s){return{type:"button",text:o,subtype:s?"primary":"",onClick:function(n){n.control.parents()[1].close(),u(r)}}}switch(c.buttons){case S.OK_CANCEL:l=[f("Ok",!0,!0),f("Cancel",!1)];break;case S.YES_NO:case S.YES_NO_CANCEL:l=[f("Yes",1,!0),f("No",0)],c.buttons==S.YES_NO_CANCEL&&l.push(f("Cancel",-1));break;default:l=[f("Ok",!0,!0)]}return new T({padding:20,x:c.x,y:c.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:l,title:c.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:c.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:c.onClose,onCancel:function(){u(!1)}}).renderTo(document.body).reflow()},alert:function(c,l){return"string"==typeof c&&(c={text:c}),c.callback=l,S.msgBox(c)},confirm:function(c,l){return"string"==typeof c&&(c={text:c}),c.callback=l,c.buttons=S.OK_CANCEL,S.msgBox(c)}}});return S}),V("tinymce.core.WindowManager",["tinymce.core.ui.Window","tinymce.core.ui.MessageBox"],function(T,S){return function(C){var c=this,l=[];function u(){if(l.length)return l[l.length-1]}function f(r){C.fire("OpenWindow",{win:r})}function o(r){C.fire("CloseWindow",{win:r})}c.windows=l,C.on("remove",function(){for(var r=l.length;r--;)l[r].close()}),c.open=function(r,s){var a;return C.editorManager.setActive(C),r.title=r.title||" ",r.url=r.url||r.file,r.url&&(r.width=parseInt(r.width||320,10),r.height=parseInt(r.height||240,10)),r.body&&(r.items={defaults:r.defaults,type:r.bodyType||"form",items:r.body,data:r.data,callbacks:r.commands}),!r.url&&!r.buttons&&(r.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new T(r),l.push(a),a.on("close",function(){for(var n=l.length;n--;)l[n]===a&&l.splice(n,1);l.length||C.focus(),o(a)}),r.data&&a.on("postRender",function(){this.find("*").each(function(n){var p=n.name();p in r.data&&n.value(r.data[p])})}),a.features=r||{},a.params=s||{},1===l.length&&C.nodeChanged(),f(a=a.renderTo().reflow()),a},c.alert=function(r,s,a){var n;(n=S.alert(r,function(){s?s.call(a||this):C.focus()})).on("close",function(){o(n)}),f(n)},c.confirm=function(r,s,a){var n;(n=S.confirm(r,function(p){s.call(a||this,p)})).on("close",function(){o(n)}),f(n)},c.close=function(){u()&&u().close()},c.getParams=function(){return u()?u().params:null},c.setParams=function(r){u()&&(u().params=r)},c.getWindows=function(){return l}}}),V("tinymce.core.ui.Tooltip",["tinymce.core.ui.Control","tinymce.core.ui.Movable"],function(T,S){return T.extend({Mixins:[S],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var c=this,l=c.classPrefix;return'<div id="'+c._id+'" class="'+c.classes+'" role="presentation"><div class="'+l+'tooltip-arrow"></div><div class="'+l+'tooltip-inner">'+c.encode(c.state.get("text"))+"</div></div>"},bindStates:function(){var c=this;return c.state.on("change:text",function(l){c.getEl().lastChild.innerHTML=c.encode(l.value)}),c._super()},repaint:function(){var l,u;(l=this.getEl().style).left=(u=this._layoutRect).x+"px",l.top=u.y+"px",l.zIndex=131070}})}),V("tinymce.core.ui.Widget",["tinymce.core.ui.Control","tinymce.core.ui.Tooltip"],function(T,S){"use strict";var C,c=T.extend({init:function(u){var f=this;f._super(u),u=f.settings,f.canFocus=!0,u.tooltip&&!1!==c.tooltips&&(f.on("mouseenter",function(o){var r=f.tooltip().moveTo(-65535);if(o.control==f){var s=r.text(u.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==s),r.classes.toggle("tooltip-nw","bc-tl"==s),r.classes.toggle("tooltip-ne","bc-tr"==s),r.moveRel(f.getEl(),s)}else r.hide()}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",u.ariaLabel||u.tooltip)},tooltip:function(){return C||(C=new S({type:"tooltip"})).renderTo(),C},postRender:function(){var u=this,f=u.settings;u._super(),!u.parent()&&(f.width||f.height)&&(u.initLayoutRect(),u.repaint()),f.autofocus&&u.focus()},bindStates:function(){var u=this;function f(r){u.aria("disabled",r),u.classes.toggle("disabled",r)}function o(r){u.aria("pressed",r),u.classes.toggle("active",r)}return u.state.on("change:disabled",function(r){f(r.value)}),u.state.on("change:active",function(r){o(r.value)}),u.state.get("disabled")&&f(!0),u.state.get("active")&&o(!0),u._super()},remove:function(){this._super(),C&&(C.remove(),C=null)}});return c}),V("tinymce.core.ui.Progress",["tinymce.core.ui.Widget"],function(T){"use strict";return T.extend({Defaults:{value:0},init:function(C){var c=this;c._super(C),c.classes.add("progress"),c.settings.filter||(c.settings.filter=function(l){return Math.round(l)})},renderHtml:function(){var l=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+l+'bar-container"><div class="'+l+'bar"></div></div><div class="'+l+'text">0%</div></div>'},postRender:function(){var C=this;return C._super(),C.value(C.settings.value),C},bindStates:function(){var C=this;function c(l){l=C.settings.filter(l),C.getEl().lastChild.innerHTML=l+"%",C.getEl().firstChild.firstChild.style.width=l+"%"}return C.state.on("change:value",function(l){c(l.value)}),c(C.state.get("value")),C._super()}})}),V("tinymce.core.ui.Notification",["tinymce.core.ui.Control","tinymce.core.ui.Movable","tinymce.core.ui.Progress","tinymce.core.util.Delay"],function(T,S,C,c){return T.extend({Mixins:[S],Defaults:{classes:"widget notification"},init:function(u){var f=this;f._super(u),u.text&&f.text(u.text),u.icon&&(f.icon=u.icon),u.color&&(f.color=u.color),u.type&&f.classes.add("notification-"+u.type),u.timeout&&(u.timeout<0||u.timeout>0)&&!u.closeButton?f.closeButton=!1:(f.classes.add("has-close"),f.closeButton=!0),u.progressBar&&(f.progressBar=new C),f.on("click",function(o){-1!=o.target.className.indexOf(f.classPrefix+"close")&&f.close()})},renderHtml:function(){var u=this,f=u.classPrefix,o="",r="",s="",a="";return u.icon&&(o='<i class="'+f+"ico "+f+"i-"+u.icon+'"></i>'),u.color&&(a=' style="background-color: '+u.color+'"'),u.closeButton&&(r='<button type="button" class="'+f+'close" aria-hidden="true">\xd7</button>'),u.progressBar&&(s=u.progressBar.renderHtml()),'<div id="'+u._id+'" class="'+u.classes+'"'+a+' role="presentation">'+o+'<div class="'+f+'notification-inner">'+u.state.get("text")+"</div>"+s+r+"</div>"},postRender:function(){var u=this;return c.setTimeout(function(){u.$el.addClass(u.classPrefix+"in")}),u._super()},bindStates:function(){var u=this;return u.state.on("change:text",function(f){u.getEl().childNodes[1].innerHTML=f.value}),u.progressBar&&u.progressBar.bindStates(),u._super()},close:function(){var u=this;return u.fire("close").isDefaultPrevented()||u.remove(),u},repaint:function(){var f,o;(f=this.getEl().style).left=(o=this._layoutRect).x+"px",f.top=o.y+"px",f.zIndex=65534}})}),V("tinymce.core.NotificationManager",["tinymce.core.ui.Notification","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(T,S,C){return function(c){var l=this,u=[];function f(){if(u.length)return u[u.length-1]}function s(){if(u.length>0){var k=u.slice(0,1)[0],x=c.inline?c.getElement():c.getContentAreaContainer();if(k.moveRel(x,"tc-tc"),u.length>1)for(var y=1;y<u.length;y++)u[y].moveRel(u[y-1].getEl(),"bc-tc")}}l.notifications=u,c.on("remove",function(){for(var k=u.length;k--;)u[k].close()}),c.on("ResizeEditor",s),c.on("ResizeWindow",function o(){S.requestAnimationFrame(function(){(function r(){for(var k=0;k<u.length;k++)u[k].moveTo(0,0)})(),s()})}),l.open=function(k){if(!c.removed){var x;c.editorManager.setActive(c);var y=function a(k,x){if(!function p(k){return!k.progressBar&&!k.timeout}(x))return null;var y=C.grep(k,function(h){return function n(k,x){return k.type===x.settings.type&&k.text===x.settings.text}(x,h)});return 0===y.length?null:y[0]}(u,k);return null===y?(x=new T(k),u.push(x),k.timeout>0&&(x.timer=setTimeout(function(){x.close()},k.timeout)),x.on("close",function(){var h=u.length;for(x.timer&&c.getWin().clearTimeout(x.timer);h--;)u[h]===x&&u.splice(h,1);s()}),x.renderTo(),s()):x=y,x}},l.close=function(){f()&&f().close()},l.getNotifications=function(){return u},c.on("SkinLoaded",function(){var k=c.settings.service_message;k&&c.notificationManager.open({text:k,type:"warning",timeout:0,icon:""})})}}),V("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(T,S,C){var l,c=S.DOM;function u(r,s){return"selectionchange"==s?r.getDoc():!r.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(s)?r.getDoc().documentElement:r.settings.event_root?(r.eventRoot||(r.eventRoot=c.select(r.settings.event_root)[0]),r.eventRoot):r.getBody()}function f(r,s){var a,n;function p(k){return!k.hidden&&!k.readonly}if(r.delegates||(r.delegates={}),!r.delegates[s]&&!r.removed)if(a=u(r,s),r.settings.event_root){if(l||(l={},r.editorManager.on("removeEditor",function(){var k;if(!r.editorManager.activeEditor&&l){for(k in l)r.dom.unbind(u(r,k));l=null}})),l[s])return;l[s]=n=function(x){for(var y=x.target,h=r.editorManager.editors,b=h.length;b--;){var m=h[b].getBody();(m===y||c.isChildOf(y,m))&&p(h[b])&&h[b].fire(s,x)}},c.bind(a,s,n)}else c.bind(a,s,n=function(x){p(r)&&r.fire(s,x)}),r.delegates[s]=n}var o={bindPendingEventDelegates:function(){var s=this;C.each(s._pendingNativeEvents,function(a){f(s,a)})},toggleNativeEvent:function(s,a){var n=this;"focus"==s||"blur"==s||(a?n.initialized?f(n,s):n._pendingNativeEvents?n._pendingNativeEvents.push(s):n._pendingNativeEvents=[s]:n.initialized&&(n.dom.unbind(u(n,s),s,n.delegates[s]),delete n.delegates[s]))},unbindAllNativeEvents:function(){var a,s=this;if(s.delegates){for(a in s.delegates)s.dom.unbind(u(s,a),a,s.delegates[a]);delete s.delegates}s.inline||(s.getBody().onload=null,s.dom.unbind(s.getWin()),s.dom.unbind(s.getDoc())),s.dom.unbind(s.getBody()),s.dom.unbind(s.getContainer())}};return C.extend({},T,o)}),V("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],function(T,S){var C=T.each,c=T.explode,l={f9:120,f10:121,f11:122},u=T.makeMap("alt,ctrl,shift,meta,access");return function(f){var r={},s=[];function a(h){var b,m,i={};for(m in C(c(h,"+"),function(e){e in u?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=l[e]||e.toUpperCase().charCodeAt(0))}),b=[i.keyCode],u)i[m]?b.push(m):i[m]=!1;return i.id=b.join(","),i.access&&(i.alt=!0,S.mac?i.ctrl=!0:i.shift=!0),i.meta&&(S.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i}function n(h,b,m,i){var e;return(e=T.map(c(h,">"),a))[e.length-1]=T.extend(e[e.length-1],{func:m,scope:i||f}),T.extend(e[0],{desc:f.translate(b),subpatterns:e.slice(1)})}function x(h,b){return!(!b||b.ctrl!=h.ctrlKey||b.meta!=h.metaKey||b.alt!=h.altKey||b.shift!=h.shiftKey||!(h.keyCode==b.keyCode||h.charCode&&h.charCode==b.charCode)||(h.preventDefault(),0))}function y(h){return h.func?h.func.call(h.scope):null}f.on("keyup keypress keydown",function(h){(function p(h){return h.altKey||h.ctrlKey||h.metaKey}(h)||function k(h){return"keydown"===h.type&&h.keyCode>=112&&h.keyCode<=123}(h))&&!h.isDefaultPrevented()&&(C(r,function(b){if(x(h,b))return s=b.subpatterns.slice(0),"keydown"==h.type&&y(b),!0}),x(h,s[0])&&(1===s.length&&"keydown"==h.type&&y(s[0]),s.shift()))}),this.add=function(h,b,m,i){var e;return e=m,"string"==typeof m?m=function(){f.execCommand(e,!1,null)}:T.isArray(e)&&(m=function(){f.execCommand(e[0],e[1],e[2])}),C(c(T.trim(h.toLowerCase())),function(d){var v=n(d,b,m,i);r[v.id]=v}),!0},this.remove=function(h){var b=n(h);return!!r[b.id]&&(delete r[b.id],!0)}}}),tt("global!window",window),V("tinymce.core.ErrorReporter",["tinymce.core.AddOnManager"],function(T){var S=T.PluginManager,l=function(n,p){n.notificationManager.open({type:"error",text:p})},u=function(n,p){n._skinLoaded?l(n,p):n.on("SkinLoaded",function(){l(n,p)})};return{pluginLoadError:function(n,p){u(n,function(n,p){var k=function(n,p){for(var k in S.urls)if(S.urls[k]+"/plugin"+p+".js"===n)return k;return null}(p,n.suffix);return k?"Failed to load plugin: "+k+" from url "+p:"Failed to load plugin url: "+p}(n,p))},uploadError:function(n,p){u(n,"Failed to upload image: "+p)},displayError:u,contentCssError:function(n,p){u(n,"Failed to load content css: "+p[0])},initError:function(n){var p=window.console;p&&!window.test&&(p.error?p.error.apply(p,arguments):p.log.apply(p,arguments))}}}),V("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","tinymce.core.caret.CaretContainer"],function(T,S){var l=function(r,s){s.hasAttribute("data-mce-caret")&&(S.showCaretContainerBlock(s),function(r){r.selection.setRng(r.selection.getRng())}(r),r.selection.scrollIntoView(s))},u=function(r,s){var a=function(r){return r.dom.select("*[data-mce-caret]")[0]}(r);if(a){if("compositionstart"===s.type)return s.preventDefault(),s.stopPropagation(),void l(a);S.hasContent(a)&&l(r,a)}};return{setup:function(r){r.on("keyup compositionstart",T.curry(u,r))}}}),V("tinymce.core.file.Uploader",["tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.Fun"],function(T,S,C){return function(c,l){var u={};function o(b,m,i,e){var d,v;(d=new XMLHttpRequest).open("POST",l.url),d.withCredentials=l.credentials,d.upload.onprogress=function(t){e(t.loaded/t.total*100)},d.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+d.status)},d.onload=function(){var t;d.status<200||d.status>=300?i("HTTP Error: "+d.status):(t=JSON.parse(d.responseText))&&"string"==typeof t.location?m(function f(b,m){return b?b.replace(/\/$/,"")+"/"+m.replace(/^\//,""):m}(l.basePath,t.location)):i("Invalid JSON: "+d.responseText)},(v=new FormData).append("file",b.blob(),b.filename()),d.send(v)}function s(b,m){return{url:m,blobInfo:b,status:!0}}function a(b,m){return{url:"",blobInfo:b,status:!1,error:m}}function n(b,m){S.each(u[b],function(i){i(m)}),delete u[b]}return l=S.extend({credentials:!1,handler:o},l),{upload:function h(b,m){return!l.url&&function k(b){return b===o}(l.handler)?function r(){return new T(function(b){b([])})}():function y(b,m){return b=S.grep(b,function(i){return!c.isUploaded(i.blobUri())}),T.all(S.map(b,function(i){return c.isPending(i.blobUri())?function x(b){var m=b.blobUri();return new T(function(i){u[m]=u[m]||[],u[m].push(i)})}(i):function p(b,m,i){return c.markPending(b.blobUri()),new T(function(e){var d;try{var g=function(){d&&d.close()};m(b,function(R){g(),c.markUploaded(b.blobUri(),R),n(b.blobUri(),s(b,R)),e(s(b,R))},function(R){g(),c.removeFailed(b.blobUri()),n(b.blobUri(),a(b,R)),e(a(b,R))},function(R){R<0||R>100||(d||(d=i()),d.progressBar.value(R))})}catch(A){e(a(b,A.message))}})}(i,l.handler,m)}))}(b,m)}}}}),V("tinymce.core.file.Conversions",["tinymce.core.util.Promise"],function(T){function C(f){var o,r;return f=decodeURIComponent(f).split(","),(r=/data:([^;]+)/.exec(f[0]))&&(o=r[1]),{type:o,data:f[1]}}return{uriToBlob:function l(f){return 0===f.indexOf("blob:")?function S(f){return new T(function(o,r){var s=function(){r("Cannot convert "+f+" to Blob. Resource might not exist or is inaccessible.")};try{var a=new XMLHttpRequest;a.open("GET",f,!0),a.responseType="blob",a.onload=function(){200==this.status?o(this.response):s()},a.onerror=s,a.send()}catch(n){s()}})}(f):0===f.indexOf("data:")?function c(f){return new T(function(o){var r,s,a;f=C(f);try{r=atob(f.data)}catch(n){return void o(new Blob([]))}for(s=new Uint8Array(r.length),a=0;a<s.length;a++)s[a]=r.charCodeAt(a);o(new Blob([s],{type:f.type}))})}(f):null},blobToDataUri:function u(f){return new T(function(o){var r=new FileReader;r.onloadend=function(){o(r.result)},r.readAsDataURL(f)})},parseDataUri:C}}),V("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],function(T,S,C,c,l){var u=0,f=function(a){return(a||"blobid")+u++};return function(s,a){var n={};return{findAll:function p(k,x){var y,h;return x||(x=C.constant(!0)),y=S.filter(function(a){return a?a.getElementsByTagName("img"):[]}(k),function(b){var m=b.src;return!(!l.fileApi||b.hasAttribute("data-mce-bogus")||b.hasAttribute("data-mce-placeholder")||!m||m==l.transparentSrc)&&(0===m.indexOf("blob:")?!s.isUploaded(m):0===m.indexOf("data:")&&x(b))}),h=S.map(y,function(b){var m;return n[b.src]?new T(function(i){n[b.src].then(function(e){if("string"==typeof e)return e;i({image:b,blobInfo:e.blobInfo})})}):(m=new T(function(i,e){!function(a,n,p,k){var x,y;0!==n.src.indexOf("blob:")?(x=c.parseDataUri(n.src).data,(y=a.findFirst(function(h){return h.base64()===x}))?p({image:n,blobInfo:y}):c.uriToBlob(n.src).then(function(h){y=a.create(f(),h,x),a.add(y),p({image:n,blobInfo:y})},function(h){k(h)})):(y=a.getByUri(n.src))?p({image:n,blobInfo:y}):c.uriToBlob(n.src).then(function(h){c.blobToDataUri(h).then(function(b){x=c.parseDataUri(b).data,y=a.create(f(),h,x),a.add(y),p({image:n,blobInfo:y})})},function(h){k(h)})}(a,b,i,e)}).then(function(i){return delete n[i.image.src],i}).catch(function(i){return delete n[b.src],i}),n[b.src]=m,m)}),T.all(h)}}}}),V("tinymce.core.util.Uuid",[],function(){var T=0;return{uuid:function(l){return l+T+++function(){var l=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+l()+l()+l()}()}}}),tt("global!URL",URL),V("tinymce.core.file.BlobCache",["tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid","global!URL"],function(T,S,C,c){return function(){var l=[],u=S.constant;function f(y){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[y.toLowerCase()]||"dat"}function a(y){return n(function(h){return h.id()===y})}function n(y){return T.filter(l,y)[0]}return{create:function o(y,h,b,m){return function r(y){var h,b;if(!y.blob||!y.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return h=y.id||C.uuid("blobid"),b=y.name||h,{id:u(h),name:u(b),filename:u(b+"."+f(y.blob.type)),blob:u(y.blob),base64:u(y.base64),blobUri:u(y.blobUri||c.createObjectURL(y.blob)),uri:u(y.uri)}}("object"==typeof y?y:{id:y,name:m,blob:h,base64:b})},add:function s(y){a(y.id())||l.push(y)},get:a,getByUri:function p(y){return n(function(h){return h.blobUri()==y})},findFirst:n,removeByUri:function k(y){l=T.filter(l,function(h){return h.blobUri()!==y||(c.revokeObjectURL(h.blobUri()),!1)})},destroy:function x(){T.each(l,function(y){c.revokeObjectURL(y.blobUri())}),l=[]}}}}),V("tinymce.core.file.UploadStatus",[],function(){return function(){var C={};function c(p,k){return{status:p,resultUri:k}}function l(p){return p in C}return{hasBlobUri:l,getResultUri:function u(p){var k=C[p];return k?k.resultUri:null},isPending:function f(p){return!!l(p)&&1===C[p].status},isUploaded:function o(p){return!!l(p)&&2===C[p].status},markPending:function r(p){C[p]=c(1,null)},markUploaded:function s(p,k){C[p]=c(2,k)},removeFailed:function a(p){delete C[p]},destroy:function n(){C={}}}}}),V("tinymce.core.EditorUpload",["tinymce.core.util.Arr","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.ErrorReporter"],function(T,S,C,c,l,u){return function(f){var r,s,o=new c,a=f.settings,n=new l;function p(w){return function(E){return f.selection?w(E):[]}}function x(w,E,A){var R=0;do{-1!==(R=w.indexOf(E,R))&&(w=w.substring(0,R)+A+w.substr(R+E.length),R+=A.length-E.length+1)}while(-1!==R);return w}function y(w,E,A){return w=x(w,'src="'+E+'"','src="'+A+'"'),x(w,'data-mce-src="'+E+'"','data-mce-src="'+A+'"')}function h(w,E){T.each(f.undoManager.data,function(A){"fragmented"===A.type?A.fragments=T.map(A.fragments,function(R){return y(R,w,E)}):A.content=y(A.content,w,E)})}function b(){return f.notificationManager.open({text:f.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function i(w){return r||(r=new S(n,{url:a.images_upload_url,basePath:a.images_upload_base_path,credentials:a.images_upload_credentials,handler:a.images_upload_handler})),v().then(p(function(E){var A;return A=T.map(E,function(R){return R.blobInfo}),r.upload(A,b).then(p(function(R){var N=T.map(R,function(_,P){var M=E[P].image;return _.status&&!1!==f.settings.images_replace_blob_uris?function m(w,E){o.removeByUri(w.src),h(w.src,E),f.$(w).attr({src:a.images_reuse_filename?E+"?"+(new Date).getTime():E,"data-mce-src":f.convertURL(E,"src")})}(M,_.url):_.error&&u.uploadError(f,_.error),{element:M,status:_.status}});return w&&w(N),N}))}))}function e(w){if(!1!==a.automatic_uploads)return i(w)}function d(w){return!a.images_dataimg_filter||a.images_dataimg_filter(w)}function v(){return s||(s=new C(n,o)),s.findAll(f.getBody(),d).then(p(function(w){return w=T.filter(w,function(E){return"string"!=typeof E||(u.displayError(f,E),!1)}),T.each(w,function(E){h(E.image.src,E.blobInfo.blobUri()),E.image.src=E.blobInfo.blobUri(),E.image.removeAttribute("data-mce-src")}),w}))}function g(w){return w.replace(/src="(blob:[^"]+)"/g,function(E,A){var R=n.getResultUri(A);if(R)return'src="'+R+'"';var N=o.getByUri(A);return N||(N=T.reduce(f.editorManager.editors,function(_,P){return _||P.editorUpload&&P.editorUpload.blobCache.getByUri(A)},null)),N?'src="data:'+N.blob().type+";base64,"+N.base64()+'"':E})}return f.on("setContent",function(){!1!==f.settings.automatic_uploads?e():v()}),f.on("RawSaveContent",function(w){w.content=g(w.content)}),f.on("getContent",function(w){w.source_view||"raw"==w.format||(w.content=g(w.content))}),f.on("PostRender",function(){f.parser.addNodeFilter("img",function(w){T.each(w,function(E){var A=E.attr("src");if(!o.getByUri(A)){var R=n.getResultUri(A);R&&E.attr("src",R)}})})}),{blobCache:o,uploadImages:i,uploadImagesAuto:e,scanForImages:v,destroy:function t(){o.destroy(),n.destroy(),s=r=null}}}}),V("tinymce.core.ForceBlocks",["ephox.katamari.api.Fun"],function(T){var S=function(l){var p,k,x,y,h,b,m,e,d,v,t,g,u=l.settings,f=l.dom,o=l.selection,r=l.schema,s=r.getBlockElements(),a=o.getStart(),n=l.getBody(),i=-16777215;if(g=u.forced_root_block,a&&1===a.nodeType&&g){for(;a&&a!==n;){if(s[a.nodeName])return;a=a.parentNode}if((p=o.getRng()).setStart){k=p.startContainer,x=p.startOffset,y=p.endContainer,h=p.endOffset;try{d=l.getDoc().activeElement===n}catch(w){}}else p.item&&(a=p.item(0),(p=l.getDoc().body.createTextRange()).moveToElementText(a)),d=p.parentElement().ownerDocument===l.getDoc(),(v=p.duplicate()).collapse(!0),x=-1*v.move("character",i),v.collapsed||((v=p.duplicate()).collapse(!1),h=-1*v.move("character",i)-x);for(a=n.firstChild,t=n.nodeName.toLowerCase();a;)if((3===a.nodeType||1==a.nodeType&&!s[a.nodeName])&&r.isValidChild(t,g.toLowerCase())){if(3===a.nodeType&&0===a.nodeValue.length){m=a,a=a.nextSibling,f.remove(m);continue}b||(b=f.create(g,l.settings.forced_root_block_attrs),a.parentNode.insertBefore(b,a),e=!0),m=a,a=a.nextSibling,b.appendChild(m)}else b=null,a=a.nextSibling;if(e&&d){if(p.setStart)p.setStart(k,x),p.setEnd(y,h),o.setRng(p);else try{(p=l.getDoc().body.createTextRange()).moveToElementText(n),p.collapse(!0),p.moveStart("character",x),h>0&&p.moveEnd("character",h),p.select()}catch(w){}l.nodeChanged()}}};return{setup:function(l){l.settings.forced_root_block&&l.on("NodeChange",T.curry(S,l))}}}),V("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect"],function(T,S,C){return{getClientRects:function c(l){function u(o){return T.map(o,function(r){return(r=C.clone(r)).node=l,r})}if(T.isArray(l))return T.reduce(l,function(o,r){return o.concat(c(r))},[]);if(S.isElement(l))return u(l.getClientRects());if(S.isText(l)){var f=l.ownerDocument.createRange();return f.setStart(l,0),f.setEnd(l,l.data.length),u(f.getClientRects())}}}}),V("tinymce.core.caret.LineUtils",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.Dimensions","tinymce.core.geom.ClientRect","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretCandidate"],function(T,S,C,c,l,u,f){var o=C.isContentEditableFalse,r=u.findNode,s=T.curry;function a(m,i){return Math.abs(m.left-i)}function n(m,i){return Math.abs(m.right-i)}function p(m,i){function e(d,v){return d>=v.left&&d<=v.right}return S.reduce(m,function(d,v){var t,g;return t=Math.min(a(d,i),n(d,i)),g=Math.min(a(v,i),n(v,i)),e(i,v)?v:e(i,d)?d:g==t&&o(v.node)||g<t?v:d})}function k(m,i,e,d){for(;d=r(d,m,f.isEditableCaretCandidate,i);)if(e(d))return}function x(m,i){var e=[];function d(v,t){var g;return g=S.filter(c.getClientRects(t),function(w){return!v(w,i)}),e=e.concat(g),0===g.length}return e.push(i),k(-1,m,s(d,l.isAbove),i.node),k(1,m,s(d,l.isBelow),i.node),e}return{findClosestClientRect:p,findLineNodeRects:x,closestCaret:function b(m,i,e){var d,v;return d=c.getClientRects(function y(m){return S.filter(S.toArray(m.getElementsByTagName("*")),o)}(m)),(v=p(d=S.filter(d,function(t){return e>=t.top&&e<=t.bottom}),i))&&(v=p(x(m,v),i))&&o(v.node)?function h(m,i){return{node:m.node,before:a(m,i)<n(m,i)}}(v,i):null}}}),V("tinymce.core.caret.LineWalker",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.Dimensions","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition","tinymce.core.geom.ClientRect"],function(T,S,C,c,l,u,f,o){var r=T.curry;function a(h,b,m,i,e,d){var t,w,v=0,g=[];function E(A){var R,N,_;for(_=C.getClientRects(A),-1==h&&(_=_.reverse()),R=0;R<_.length;R++)if(!m(N=_[R],w)){if(g.length>0&&b(N,S.last(g))&&v++,N.line=v,e(N))return!0;g.push(N)}}return(w=S.last(d.getClientRects()))&&(E(t=d.getNode()),function s(h,b,m,i){for(;i=l.findNode(i,h,c.isEditableCaretCandidate,b);)if(m(i))return}(h,i,E,t)),g}return{upUntil:r(a,-1,o.isAbove,o.isBelow),downUntil:r(a,1,o.isBelow,o.isAbove),positionsUntil:function y(h,b,m,i){var d,v,t,g,A,R,e=new u(b),w=[],E=0;function N(_){return S.last(_.getClientRects())}1==h?(d=e.next,v=o.isBelow,t=o.isAbove,g=f.after(i)):(d=e.prev,v=o.isAbove,t=o.isBelow,g=f.before(i)),R=N(g);do{if(g.isVisible()&&!t(A=N(g),R)){if(w.length>0&&v(A,S.last(w))&&E++,(A=o.clone(A)).position=g,A.line=E,m(A))return w;w.push(A)}}while(g=d(g));return w},isAboveLine:r(function n(h,b){return b.line>h}),isLine:r(function p(h,b){return b.line===h})}}),V("tinymce.core.keyboard.CefUtils",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],function(T,S,C,c){var l=C.isContentEditableTrue,u=C.isContentEditableFalse,f=function(p,k,x,y){return k._selectionOverrides.showCaret(p,x,y)},s=function(p,k){var x,y;return k=S.normalizeRange(1,p.getBody(),k),x=T.fromRangeStart(k),u(x.getNode())?f(1,p,x.getNode(),!x.isAtEnd()):u(x.getNode(!0))?f(1,p,x.getNode(!0),!1):(y=p.dom.getParent(x.getNode(),c.or(u,l)),u(y)?f(1,p,y,!1):null)};return{showCaret:f,selectNode:function(p,k){return p.fire("BeforeObjectSelected",{target:k}).isDefaultPrevented()?null:function(p){var k=p.ownerDocument.createRange();return k.selectNode(p),k}(k)},renderCaretAtRange:s,renderRangeCaret:function(p,k){return k&&k.collapsed&&s(p,k)||k}}}),V("tinymce.core.keyboard.CefNavigation",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.LineUtils","tinymce.core.caret.LineWalker","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(T,S,C,c,l,u,f,o,r,s,a,n){var p=f.isContentEditableFalse,k=o.getSelectedNode,x=C.isAfterContentEditableFalse,y=C.isBeforeContentEditableFalse,h=function(N,_){for(;_=N(_);)if(_.isVisible())return _;return _},i=function(N,_,P){return P=C.normalizeRange(N,_,P),-1===N?S.fromRangeStart(P):S.fromRangeEnd(P)},t=function(N,_,P){var M,U,L=new c(N.getBody()),B=n.curry(h,L.next),I=n.curry(h,L.prev);if(P.collapsed&&N.settings.forced_root_block){if(!(M=N.dom.getParent(P.startContainer,"PRE")))return;(1===_?B(S.fromRangeStart(P)):I(S.fromRangeStart(P)))||(U=function(N){var _=N.dom.create(N.settings.forced_root_block);return(!r.ie||r.ie>=11)&&(_.innerHTML='<br data-mce-bogus="1">'),_}(N),1===_?N.$(M).after(U):N.$(M).before(U),N.selection.select(U,!0),N.selection.collapse())}};return{moveH:function(N,_){return function(){var P=function(N,_){var U,P=new c(N.getBody()),M=n.curry(h,P.next),D=n.curry(h,P.prev),L=_?1:-1,B=_?M:D,I=_?y:x,F=N.selection.getRng();return(U=function(N,_,P,M,D){var U,L,B,I;return!D.collapsed&&(U=k(D),p(U))?s.showCaret(N,_,U,-1===N):(I=function(N){return T.isCaretContainerBlock(N.startContainer)}(D),M(L=i(N,_.getBody(),D))?s.selectNode(_,L.getNode(-1===N)):(L=P(L))?M(L)?s.showCaret(N,_,L.getNode(-1===N),1===N):M(B=P(L))&&function(N,_){var P=C.isInSameBlock(N,_);return!(P||!f.isBr(N.getNode()))||P}(L,B)?s.showCaret(N,_,B.getNode(-1===N),1===N):I?s.renderRangeCaret(_,L.toRange()):null:I?D:null)}(L,N,B,I,F))||(U=t(N,L,F))?U:null}(N,_);return!!P&&(N.selection.setRng(P),!0)}},moveV:function(N,_){return function(){var P=function(N,_){var P,M=_?1:-1,D=_?u.downUntil:u.upUntil,U=N.selection.getRng();return P=function(N,_,P,M){var D,U,L,B,I,F,q,G,ne;if(ne=k(M),D=i(N,_.getBody(),M),U=P(_.getBody(),u.isAboveLine(1),D),L=a.filter(U,u.isLine(1)),I=a.last(D.getClientRects()),y(D)&&(ne=D.getNode()),x(D)&&(ne=D.getNode(!0)),!I)return null;if((B=l.findClosestClientRect(L,F=I.left))&&p(B.node))return q=Math.abs(F-B.left),G=Math.abs(F-B.right),s.showCaret(N,_,B.node,q<G);if(ne){var se=u.positionsUntil(N,_.getBody(),u.isAboveLine(1),ne);if((B=l.findClosestClientRect(a.filter(se,u.isLine(1)),F))||(B=a.last(a.filter(se,u.isLine(0)))))return s.renderRangeCaret(_,B.position.toRange())}}(M,N,D,U),P||(P=t(N,M,U))?P:null}(N,_);return!!P&&(N.selection.setRng(P),!0)}}}}),V("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(T,S,C){var u=function(s){return function(){for(var a=new S(arguments.length),n=0;n<a.length;n++)a[n]=arguments[n];if(0===a.length)throw new C("Can't merge zero objects");for(var p={},k=0;k<a.length;k++){var x=a[k];for(var y in x)x.hasOwnProperty(y)&&(p[y]=s(p[y],x[y]))}return p}},f=u(function(s,a){return T.isObject(s)&&T.isObject(a)?f(s,a):a}),o=u(function(s,a){return a});return{deepMerge:f,merge:o}}),V("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],function(T,S,C){return{match:function(r,s){return T.bind(function(r){return T.map(r,function(s){return C.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:S.noop},s)})}(r),function(a){return function(r,s){return s.keyCode===r.keyCode&&s.shiftKey===r.shiftKey&&s.altKey===r.altKey&&s.ctrlKey===r.ctrlKey&&s.metaKey===r.metaKey}(a,s)?[a]:[]})},action:function(r){var s=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,s)}}}}),V("tinymce.core.keyboard.ArrowKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(T,S,C,c,l,u){return{setup:function(s,a){s.on("keydown",function(n){!1===n.isDefaultPrevented()&&function(s,a,n){var p=l.match([{keyCode:u.RIGHT,action:c.moveH(s,!0)},{keyCode:u.LEFT,action:c.moveH(s,!1)},{keyCode:u.UP,action:c.moveV(s,!1)},{keyCode:u.DOWN,action:c.moveV(s,!0)},{keyCode:u.RIGHT,action:C.move(s,a,!0)},{keyCode:u.LEFT,action:C.move(s,a,!1)}],n);T.find(p,function(k){return k.action()}).each(function(k){n.preventDefault()})}(s,a,n)})}}}),V("tinymce.core.keyboard.DeleteBackspaceKeys",["ephox.katamari.api.Arr","tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(T,S,C,c,l,u,f){return{setup:function(n,p){n.on("keydown",function(k){!1===k.isDefaultPrevented()&&function(n,p,k){var x=u.match([{keyCode:f.BACKSPACE,action:u.action(c.backspaceDelete,n,!1)},{keyCode:f.DELETE,action:u.action(c.backspaceDelete,n,!0)},{keyCode:f.BACKSPACE,action:u.action(l.backspaceDelete,n,p,!1)},{keyCode:f.DELETE,action:u.action(l.backspaceDelete,n,p,!0)},{keyCode:f.BACKSPACE,action:u.action(C.backspaceDelete,n,!1)},{keyCode:f.DELETE,action:u.action(C.backspaceDelete,n,!0)},{keyCode:f.BACKSPACE,action:u.action(S.backspaceDelete,n,!1)},{keyCode:f.DELETE,action:u.action(S.backspaceDelete,n,!0)}],k);T.find(x,function(y){return y.action()}).each(function(y){k.preventDefault()})}(n,p,k)}),n.on("keyup",function(k){!1===k.isDefaultPrevented()&&function(n,p){var k=u.match([{keyCode:f.BACKSPACE,action:u.action(c.paddEmptyElement,n)},{keyCode:f.DELETE,action:u.action(c.paddEmptyElement,n)}],p);T.find(k,function(x){return x.action()})}(n,k)})}}}),V("tinymce.core.keyboard.EnterKey",["tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f){var o=l.ie&&l.ie<11,r=function(e){return e&&"A"===e.nodeName&&0===f.trim(u.trim(e.innerText||e.textContent)).length},a=function(e){e.innerHTML=o?"":'<br data-mce-bogus="1">'},n=function(e,d){return e.nodeName===d||e.previousSibling&&e.previousSibling.nodeName===d},p=function(e,d){return d&&e.isBlock(d)&&!/^(TD|TH|CAPTION|FORM)$/.test(d.nodeName)&&!/^(fixed|absolute)/i.test(d.style.position)&&"true"!==e.getContentEditable(d)},k=function(e,d,v){var t;e.isBlock(v)&&(t=d.getRng(),v.appendChild(e.create("span",null,"\xa0")),d.select(v),v.lastChild.outerHTML="",d.setRng(t))},y=function(e,d,v){return!1===S.isText(d)?v:e?1===v&&d.data.charAt(v-1)===u.ZWSP?0:v:v===d.data.length-1&&d.data.charAt(v)===u.ZWSP?d.data.length:v};return{setup:function(e){var d=e.dom,v=e.selection,t=e.settings,g=e.undoManager,w=e.schema,E=w.getNonEmptyElements(),A=w.getMoveCaretBeforeOnEnterElements();e.on("keydown",function(N){13==N.keyCode&&!1!==function R(N){var _,P,M,D,U,L,B,I,F,q,G,ne,se,de,ue;function Se(te){var Te,xe,Ae,Fe,ve=te;if(te){if(l.ie&&l.ie<9&&L&&L.firstChild&&L.firstChild==L.lastChild&&"BR"==L.firstChild.tagName&&d.remove(L.firstChild),/^(LI|DT|DD)$/.test(te.nodeName)){var Ue=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(te.firstChild);Ue&&/^(UL|OL|DL)$/.test(Ue.nodeName)&&te.insertBefore(d.doc.createTextNode("\xa0"),te.firstChild)}if(Ae=d.createRng(),l.ie||te.normalize(),te.hasChildNodes()){for(Te=new c(te,te);xe=Te.current();){if(3==xe.nodeType){Ae.setStart(xe,0),Ae.setEnd(xe,0);break}if(A[xe.nodeName.toLowerCase()]){Ae.setStartBefore(xe),Ae.setEndBefore(xe);break}ve=xe,xe=Te.next()}xe||(Ae.setStart(ve,0),Ae.setEnd(ve,0))}else"BR"==te.nodeName?te.nextSibling&&d.isBlock(te.nextSibling)?((!B||B<9)&&(Fe=d.create("br"),te.parentNode.insertBefore(Fe,te)),Ae.setStartBefore(te),Ae.setEndBefore(te)):(Ae.setStartAfter(te),Ae.setEndAfter(te)):(Ae.setStart(te,0),Ae.setEnd(te,0));v.setRng(Ae),d.remove(Fe),v.scrollIntoView(te)}}function me(te){var Te=t.forced_root_block;Te&&Te.toLowerCase()===te.tagName.toLowerCase()&&d.setAttribs(te,t.forced_root_block_attrs)}function X(te){var xe,Ae,ve,Te=D,Fe=w.getTextInlineElements();if(te||"TABLE"==ne||"HR"==ne?me(xe=d.create(te||de)):xe=L.cloneNode(!1),ve=xe,!1===t.keep_styles)d.setAttrib(xe,"style",null),d.setAttrib(xe,"class",null);else do{if(Fe[Te.nodeName]){if("_mce_caret"==Te.id)continue;Ae=Te.cloneNode(!1),d.setAttrib(Ae,"id",""),xe.hasChildNodes()?(Ae.appendChild(xe.firstChild),xe.appendChild(Ae)):(ve=Ae,xe.appendChild(Ae))}}while((Te=Te.parentNode)&&Te!=M);return o||(ve.innerHTML='<br data-mce-bogus="1">'),xe}function Z(te){var Te,xe,Ae,ve;if(ve=y(te,D,U),3==D.nodeType&&(te?ve>0:ve<D.nodeValue.length))return!1;if(D.parentNode==L&&ue&&!te||te&&1==D.nodeType&&D==L.firstChild)return!0;if(n(D,"TABLE")||n(D,"HR"))return ue&&!te||!ue&&te;for(Te=new c(D,L),3==D.nodeType&&(te&&0===ve?Te.prev():!te&&ve==D.nodeValue.length&&Te.next());xe=Te.current();){if(1===xe.nodeType){if(!xe.getAttribute("data-mce-bogus")&&(Ae=xe.nodeName.toLowerCase(),E[Ae]&&"br"!==Ae))return!1}else if(3===xe.nodeType&&!/^[ \t\r\n]*$/.test(xe.nodeValue))return!1;te?Te.prev():Te.next()}return!0}function re(){e.execCommand("InsertLineBreak",!1,N)}function oe(){F=/^(H[1-6]|PRE|FIGURE)$/.test(ne)&&"HGROUP"!=se?X(de):X(),t.end_container_on_empty_block&&p(d,G)&&d.isEmpty(L)?F=d.split(G,L):d.insertAfter(F,L),Se(F)}if(_=v.getRng(!0),!N.isDefaultPrevented()){if(!_.collapsed)return void e.execCommand("Delete");if(new C(d).normalize(_),D=_.startContainer,U=_.startOffset,de=(de=(t.force_p_newlines?"p":"")||t.forced_root_block)?de.toUpperCase():"",B=d.doc.documentMode,I=N.shiftKey,1==D.nodeType&&D.hasChildNodes()&&(ue=U>D.childNodes.length-1,D=D.childNodes[Math.min(U,D.childNodes.length-1)]||D,U=ue&&3==D.nodeType?D.nodeValue.length:0),M=function we(te){var xe,Ae,Te=d.getRoot();for(xe=te;xe!==Te&&"false"!==d.getContentEditable(xe);)"true"===d.getContentEditable(xe)&&(Ae=xe),xe=xe.parentNode;return xe!==Te?Ae:Te}(D)){if(g.beforeChange(),!d.isBlock(M)&&M!=d.getRoot())return void((!de||I)&&re());if((de&&!I||!de&&I)&&(D=function $(te,Te){var xe,Ae,ve,Fe,Ue,Ve,K=de||"P";if(!(Ae=d.getParent(te,d.isBlock))||!p(d,Ae)){if(Ve=(Ae=Ae||M)==e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(Ae)?Ae.nodeName.toLowerCase():Ae.parentNode.nodeName.toLowerCase(),!Ae.hasChildNodes())return me(xe=d.create(K)),Ae.appendChild(xe),_.setStart(xe,0),_.setEnd(xe,0),xe;for(Fe=te;Fe.parentNode!=Ae;)Fe=Fe.parentNode;for(;Fe&&!d.isBlock(Fe);)ve=Fe,Fe=Fe.previousSibling;if(ve&&w.isValidChild(Ve,K.toLowerCase())){for(me(xe=d.create(K)),ve.parentNode.insertBefore(xe,ve),Fe=ve;Fe&&!d.isBlock(Fe);)Ue=Fe.nextSibling,xe.appendChild(Fe),Fe=Ue;_.setStart(te,Te),_.setEnd(te,Te)}}return te}(D,U)),L=d.getParent(D,d.isBlock),G=L?d.getParent(L.parentNode,d.isBlock):null,ne=L?L.nodeName.toUpperCase():"","LI"==(se=G?G.nodeName.toUpperCase():"")&&!N.ctrlKey&&(L=G,ne=se),e.undoManager.typing&&(e.undoManager.typing=!1,e.undoManager.add()),/^(LI|DT|DD)$/.test(ne)){if(!de&&I)return void re();if(d.isEmpty(L))return void function J(){function te(Ae){for(var ve=G[Ae?"firstChild":"lastChild"];ve&&1!=ve.nodeType;)ve=ve[Ae?"nextSibling":"previousSibling"];return ve===L}function Te(){var Ae=G.parentNode;return/^(LI|DT|DD)$/.test(Ae.nodeName)?Ae:G}if(G!=e.getBody()){var xe=G.parentNode.nodeName;/^(OL|UL|LI)$/.test(xe)&&(de="LI"),F=de?X(de):d.create("BR"),te(!0)&&te()?"LI"==xe?d.insertAfter(F,Te()):d.replace(F,G):te(!0)?"LI"==xe?(d.insertAfter(F,Te()),F.appendChild(d.doc.createTextNode(" ")),F.appendChild(G)):G.parentNode.insertBefore(F,G):te()?(d.insertAfter(F,Te()),k(d,v,F)):(G=Te(),(P=_.cloneRange()).setStartAfter(L),P.setEndAfter(G),q=P.extractContents(),"LI"==de&&"LI"==q.firstChild.nodeName?(F=q.firstChild,d.insertAfter(q,G)):(d.insertAfter(q,G),d.insertAfter(F,G))),d.remove(L),Se(F),g.add()}}()}if("PRE"==ne&&!1!==t.br_in_pre){if(!I)return void re()}else if(!de&&!I&&"LI"!=ne||de&&I)return void re();de&&L===e.getBody()||(de=de||"P",T.isCaretContainerBlock(L)?(F=T.showCaretContainerBlock(L),d.isEmpty(L)&&a(L),Se(F)):Z()?oe():Z(!0)?(F=L.parentNode.insertBefore(X(),L),k(d,v,F),n(L,"HR")?Se(F):Se(L)):(P=function(e){var d=e.cloneRange();return d.setStart(e.startContainer,y(!0,e.startContainer,e.startOffset)),d.setEnd(e.endContainer,y(!1,e.endContainer,e.endOffset)),d}(_).cloneRange(),P.setEndAfter(L),function ye(te){do{3===te.nodeType&&(te.nodeValue=te.nodeValue.replace(/^[\r\n]+/,"")),te=te.firstChild}while(te)}(q=P.extractContents()),F=q.firstChild,d.insertAfter(q,L),function(e,d,v){var w,t=v,g=[];if(t){for(;t=t.firstChild;){if(e.isBlock(t))return;1==t.nodeType&&!d[t.nodeName.toLowerCase()]&&g.push(t)}for(w=g.length;w--;)(!(t=g[w]).hasChildNodes()||t.firstChild==t.lastChild&&""===t.firstChild.nodeValue||r(t))&&e.remove(t)}}(d,E,F),function ae(te){var Te;o||(te.normalize(),(!(Te=te.lastChild)||/^(left|right)$/gi.test(d.getStyle(Te,"float",!0)))&&d.add(te,"br"))}(L),d.isEmpty(L)&&a(L),F.normalize(),d.isEmpty(F)?(d.remove(F),oe()):Se(F)),d.setAttrib(F,"id",""),e.fire("NewBlock",{newBlock:F}),g.typing=!1,g.add())}}}(N)&&N.preventDefault()})}}}),V("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation"],function(T,S,C,c){var f=function(n,p,k){return!!function(n,p){return r(n)&&C.isText(p.container())}(k,p)&&(function(n,p){var k=p.container(),x=p.offset();k.insertData(x,"\xa0"),n.selection.setCursorLocation(k,x+1)}(n,p),!0)},r=function(n){return n.fold(T.constant(!1),T.constant(!0),T.constant(!0),T.constant(!1))};return{insertAtSelection:function(n){return!!n.selection.isCollapsed()&&function(n){var p=S.fromRangeStart(n.selection.getRng());return c.readLocation(n.getBody(),p).map(T.curry(f,n,p)).getOr(!1)}(n)}}}),V("tinymce.core.keyboard.SpaceKey",["ephox.katamari.api.Arr","tinymce.core.keyboard.InsertSpace","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(T,S,C,c){return{setup:function(o){o.on("keydown",function(r){!1===r.isDefaultPrevented()&&function(o,r){var s=C.match([{keyCode:c.SPACEBAR,action:C.action(S.insertAtSelection,o)}],r);T.find(s,function(a){return a.action()}).each(function(a){r.preventDefault()})}(o,r)})}}}),V("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],function(T,S,C,c,l){return{setup:function(o){var r=S.setupSelectedState(o);T.setup(o,r),C.setup(o,r),c.setup(o),l.setup(o)}}}),V("tinymce.core.NodeChange",["tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(T,S,C){return function(c){var l,u=[];"onselectionchange"in c.getDoc()||c.on("NodeChange Click MouseUp KeyUp Focus",function(o){var r,s;s={startContainer:(r=c.selection.getRng()).startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},("nodechange"==o.type||!T.compareRanges(s,l))&&c.fire("SelectionChange"),l=s}),c.on("contextmenu",function(){c.fire("SelectionChange")}),c.on("SelectionChange",function(){var o=c.selection.getStart(!0);!S.range&&c.selection.isCollapsed()||!function f(o){var r,s;if((s=c.$(o).parentsUntil(c.getBody()).add(o)).length===u.length){for(r=s.length;r>=0&&s[r]===u[r];r--);if(-1===r)return u=s,!0}return u=s,!1}(o)&&c.dom.isChildOf(o,c.getBody())&&c.nodeChanged({selectionChange:!0})}),c.on("MouseUp",function(o){o.isDefaultPrevented()||("IMG"==c.selection.getNode().nodeName?C.setEditorTimeout(c,function(){c.nodeChanged()}):c.nodeChanged())}),this.nodeChanged=function(o){var s,a,n,r=c.selection;c.initialized&&r&&!c.settings.disable_nodechange&&!c.readonly&&(n=c.getBody(),((s=r.getStart(!0)||n).ownerDocument!=c.getDoc()||!c.dom.isChildOf(s,n))&&(s=n),a=[],c.dom.getParent(s,function(p){if(p===n)return!0;a.push(p)}),(o=o||{}).element=s,o.parents=a,c.fire("NodeChange",o))}}}),V("tinymce.core.caret.FakeCaret",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.DomQuery","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.geom.ClientRect","tinymce.core.util.Delay"],function(T,S,C,c,l,u,f,o){var r=l.isContentEditableFalse;return function(a,n){var p,k,x;function m(){(function h(){var v,t,g,w,E;for(v=c("*[contentEditable=false]",a),w=0;w<v.length;w++)T.endsWithCaretContainer(g=(t=v[w]).previousSibling)&&(1==(E=g.data).length?g.parentNode.removeChild(g):g.deleteData(E.length-1,1)),T.startsWithCaretContainer(g=t.nextSibling)&&(1==(E=g.data).length?g.parentNode.removeChild(g):g.deleteData(0,1))})(),x&&(S.remove(x),x=null),k&&(k.remove(),k=null),clearInterval(p)}return{show:function b(v,t){var g,w;return m(),function(n){return n&&/^(TD|TH)$/i.test(n.nodeName)}(t)?null:n(t)?(x=T.insertBlock("p",t,v),g=function y(v,t){var w,E,A,R,N,g=f.collapse(v.getBoundingClientRect(),t);return"BODY"==a.tagName?(w=a.ownerDocument.documentElement,E=a.scrollLeft||w.scrollLeft,A=a.scrollTop||w.scrollTop):(N=a.getBoundingClientRect(),E=a.scrollLeft-N.left,A=a.scrollTop-N.top),g.left+=E,g.right+=E,g.top+=A,g.bottom+=A,g.width=1,(R=v.offsetWidth-v.clientWidth)>0&&(t&&(R*=-1),g.left+=R,g.right+=R),g}(t,v),c(x).css("top",g.top),k=c('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(g).appendTo(a),v&&k.addClass("mce-visual-caret-before"),function i(){p=o.setInterval(function(){c("div.mce-visual-caret",a).toggleClass("mce-visual-caret-hidden")},500)}(),(w=t.ownerDocument.createRange()).setStart(x,0),w.setEnd(x,0),w):(x=T.insertInline(t,v),w=t.ownerDocument.createRange(),r(x.nextSibling)?(w.setStart(x,0),w.setEnd(x,0)):(w.setStart(x,1),w.setEnd(x,1)),w)},hide:m,getCss:function d(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function e(){o.clearInterval(p)}}}}),V("tinymce.core.dom.MousePosition",[],function(){var T=function(r){var s,a,n,p;return{top:(p=r.getBoundingClientRect()).top+(n=(s=r.ownerDocument).defaultView).pageYOffset-(a=s.documentElement).clientTop,left:p.left+n.pageXOffset-a.clientLeft}};return{calc:function(r,s){return function(r,s,a){return{pageX:a.left-r.left+s.left,pageY:a.top-r.top+s.top}}(function(r){return r.inline?T(r.getBody()):{left:0,top:0}}(r),function(r){var s=r.getBody();return r.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}}(r),function(r,s){if(s.target.ownerDocument!==r.getDoc()){var a=T(r.getContentAreaContainer()),n=function(r){var s=r.getBody(),a=r.getDoc().documentElement;return r.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:s.scrollLeft||a.scrollLeft,top:s.scrollTop||a.scrollTop}}(r);return{left:s.pageX-a.left+n.left,top:s.pageY-a.top+n.top}}return{left:s.pageX,top:s.pageY}}(r,s))}}}),V("tinymce.core.DragDropOverrides",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Delay","tinymce.core.dom.DOMUtils","tinymce.core.dom.MousePosition"],function(T,S,C,c,l,u){var f=T.isContentEditableFalse,o=T.isContentEditableTrue,x=function(R){R&&R.parentNode&&R.parentNode.removeChild(R)},t=function(R){R.dragging=!1,R.element=null,x(R.ghost)},g=function(R){var _,P,M,D,U,L,N={};_=l.DOM,L=document,P=function(R,N){return function(_){if(function(R){return 0===R.button}(_)){var P=S.find(N.dom.getParents(_.target),C.or(f,o));if(function(R,N){return f(N)&&N!==R}(N.getBody(),P)){var M=N.dom.getPos(P),D=N.getBody(),U=N.getDoc().documentElement;R.element=P,R.screenX=_.screenX,R.screenY=_.screenY,R.maxX=(N.inline?D.scrollWidth:U.offsetWidth)-2,R.maxY=(N.inline?D.scrollHeight:U.offsetHeight)-2,R.relX=_.pageX-M.x,R.relY=_.pageY-M.y,R.width=P.offsetWidth,R.height=P.offsetHeight,R.ghost=function(R,N,_,P){var M=N.cloneNode(!0);R.dom.setStyles(M,{width:_,height:P}),R.dom.setAttrib(M,"data-mce-selected",null);var D=R.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return R.dom.setStyles(D,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:_,height:P}),R.dom.setStyles(M,{margin:0,boxSizing:"border-box"}),D.appendChild(M),D}(N,P,R.width,R.height)}}}}(N,R),M=function(R,N){var _=c.throttle(function(P,M){N._selectionOverrides.hideFakeCaret(),N.selection.placeCaretAt(P,M)},0);return function(P){var M=Math.max(Math.abs(P.screenX-R.screenX),Math.abs(P.screenY-R.screenY));if(function(R){return R.element}(R)&&!R.dragging&&M>10){if(N.fire("dragstart",{target:R.element}).isDefaultPrevented())return;R.dragging=!0,N.focus()}if(R.dragging){var U=function(R,N){return{pageX:N.pageX-R.relX,pageY:N.pageY+5}}(R,u.calc(N,P));(function(R,N){R.parentNode!==N&&N.appendChild(R)})(R.ghost,N.getBody()),function(R,N,_,P,M,D){var U=0,L=0;R.style.left=N.pageX+"px",R.style.top=N.pageY+"px",N.pageX+_>M&&(U=N.pageX+_-M),N.pageY+P>D&&(L=N.pageY+P-D),R.style.width=_-U+"px",R.style.height=P-L+"px"}(R.ghost,U,R.width,R.height,R.maxX,R.maxY),_(P.clientX,P.clientY)}}}(N,R),D=function(R,N){return function(_){if(R.dragging&&function(R,N,_){return!(N===_||R.dom.isChildOf(N,_)||f(N))}(N,function(R){var _=R.getSel().getRangeAt(0).startContainer;return 3===_.nodeType?_.parentNode:_}(N.selection),R.element)){var P=function(R){var N=R.cloneNode(!0);return N.removeAttribute("data-mce-selected"),N}(R.element),M=N.fire("drop",{targetClone:P,clientX:_.clientX,clientY:_.clientY});M.isDefaultPrevented()||(P=M.targetClone,N.undoManager.transact(function(){x(R.element),N.insertContent(N.dom.getOuterHTML(P)),N._selectionOverrides.hideFakeCaret()}))}t(R)}}(N,R),U=function(R,N){return function(){t(R),R.dragging&&N.fire("dragend")}}(N,R),R.on("mousedown",P),R.on("mousemove",M),R.on("mouseup",D),_.bind(L,"mousemove",M),_.bind(L,"mouseup",U),R.on("remove",function(){_.unbind(L,"mousemove",M),_.unbind(L,"mouseup",U)})};return{init:function(R){g(R),function(R){R.on("drop",function(N){var _=void 0!==N.clientX?R.getDoc().elementFromPoint(N.clientX,N.clientY):null;(f(_)||f(R.dom.getContentEditableParent(_)))&&N.preventDefault()})}(R)}}}),V("tinymce.core.SelectionOverrides",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.dom.NodeType","tinymce.core.DragDropOverrides","tinymce.core.Env","tinymce.core.geom.ClientRect","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Delay","tinymce.core.util.Fun","tinymce.core.util.VK"],function(T,S,C,c,l,u,f,o,r,s,a,n,p,k,x){var y=f.isContentEditableTrue,h=f.isContentEditableFalse,b=C.isAfterContentEditableFalse,m=C.isBeforeContentEditableFalse;return function i(e){var g,d=e.getBody(),v=new l(e.getBody(),function A(se){return e.dom.isBlock(se)}),t="sel-"+e.dom.uniqueId();function R(se){se&&e.selection.setRng(se)}function N(){return e.selection.getRng()}function _(se,de){e.selection.scrollIntoView(se,de)}function P(se,de,ue){return e.fire("ShowCaret",{target:de,direction:se,before:ue}).isDefaultPrevented()?null:(_(de,-1===se),v.show(ue,de))}function M(se,de){return de=C.normalizeRange(se,d,de),-1==se?S.fromRangeStart(de):S.fromRangeEnd(de)}function B(se){return T.isCaretContainer(se)||T.startsWithCaretContainer(se)||T.endsWithCaretContainer(se)}function I(se){return B(se.startContainer)||B(se.endContainer)}function F(se,de){var ue,X,Z,$,J,re,ye,we,ae,oe,Se=e.$,me=e.dom;if(!se)return null;if(se.collapsed){if(!I(se))if(!1===de){if(we=M(-1,se),h(we.getNode(!0)))return P(-1,we.getNode(!0),!1);if(h(we.getNode()))return P(-1,we.getNode(),!we.isAtEnd())}else{if(we=M(1,se),h(we.getNode()))return P(1,we.getNode(),!we.isAtEnd());if(h(we.getNode(!0)))return P(1,we.getNode(!0),!1)}return null}return J=se.startOffset,re=se.endOffset,3==($=se.startContainer).nodeType&&0==J&&h($.parentNode)&&(J=me.nodeIndex($=$.parentNode),$=$.parentNode),1!=$.nodeType||(re==J+1&&(ue=$.childNodes[J]),!h(ue))||(ae=oe=ue.cloneNode(!0),(ye=e.fire("ObjectSelected",{target:ue,targetClone:ae})).isDefaultPrevented())?null:(ae=ye.targetClone,0===(X=Se("#"+t)).length&&(X=Se('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",t)).appendTo(e.getBody()),se=e.dom.createRng(),ae===oe&&r.ie?(X.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(ae),se.setStartAfter(X[0].firstChild.firstChild),se.setEndAfter(ae)):(X.empty().append("\xa0").append(ae).append("\xa0"),se.setStart(X[0].firstChild,1),se.setEnd(X[0].lastChild,0)),X.css({top:me.getPos(ue,e.getBody()).y}),X[0].focus(),(Z=e.selection.getSel()).removeAllRanges(),Z.addRange(se),e.$("*[data-mce-selected]").removeAttr("data-mce-selected"),ue.setAttribute("data-mce-selected",1),g=ue,ne(),se)}function q(){g&&(g.removeAttribute("data-mce-selected"),e.$("#"+t).remove(),g=null)}function ne(){v.hide()}return r.ceFalse&&(function U(){function se(Z){for(var $=e.getBody();Z&&Z!=$;){if(y(Z)||h(Z))return Z;Z=Z.parentNode}return null}e.on("mouseup",function(){var Z=N();Z.collapsed&&R(a.renderCaretAtRange(e,Z))}),e.on("click",function(Z){var $;($=se(Z.target))&&(h($)&&(Z.preventDefault(),e.focus()),y($)&&e.dom.isChildOf($,e.selection.getNode())&&q())}),e.on("blur NewBlock",function(){q(),ne()});(function ue(Z){var $=!1;Z.on("touchstart",function(){$=!1}),Z.on("touchmove",function(){$=!0}),Z.on("touchend",function(J){var re=se(J.target);h(re)&&($||(J.preventDefault(),F(a.selectNode(Z,re))))})})(e),e.on("mousedown",function(Z){var $;if($=se(Z.target))h($)?(Z.preventDefault(),F(a.selectNode(e,$))):(q(),(!y($)||!Z.shiftKey)&&!function de(Z,$,J){return!J.collapsed&&n.reduce(J.getClientRects(),function(re,ye){return re||s.containsXY(ye,Z,$)},!1)}(Z.clientX,Z.clientY,e.selection.getRng())&&e.selection.placeCaretAt(Z.clientX,Z.clientY));else{q(),ne();var J=u.closestCaret(d,Z.clientX,Z.clientY);J&&(function($,J){var re=e.dom.getParent($,e.dom.isBlock),ye=e.dom.getParent(J,e.dom.isBlock);return re&&!function($,J){return e.dom.getParent($,e.dom.isBlock)===e.dom.getParent(J,e.dom.isBlock)}(re,ye)&&function($){var J=new c($);if(!$.firstChild)return!1;var re=S.before($.firstChild),ye=J.next(re);return ye&&!m(ye)&&!b(ye)}(re)}(Z.target,J.node)||(Z.preventDefault(),e.getBody().focus(),R(P(1,J.node,J.before))))}}),e.on("keypress",function(Z){x.modifierPressed(Z)||h(e.selection.getNode())&&Z.preventDefault()}),e.on("getSelectionRange",function(Z){var $=Z.range;if(g){if(!g.parentNode)return void(g=null);($=$.cloneRange()).selectNode(g),Z.range=$}}),e.on("setSelectionRange",function(Z){var $;($=F(Z.range,Z.forward))&&(Z.range=$)}),e.on("AfterSetSelectionRange",function(Z){var $=Z.range;I($)||ne(),function w(se){return e.dom.hasClass(se,"mce-offscreen-selection")}($.startContainer.parentNode)||q()}),e.on("focus",function(){p.setEditorTimeout(e,function(){e.selection.setRng(a.renderRangeCaret(e,e.selection.getRng()))},0)}),e.on("copy",function(Z){var $=Z.clipboardData;if(!Z.isDefaultPrevented()&&Z.clipboardData&&!r.ie){var J=function E(){var se=e.dom.get(t);return se&&se.getElementsByTagName("*")[0]}();J&&(Z.preventDefault(),$.clearData(),$.setData("text/html",J.outerHTML),$.setData("text/plain",J.outerText))}}),o.init(e)}(),function L(){var se=e.contentStyles,de=".mce-content-body";se.push(v.getCss()),se.push(de+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+de+" *[contentEditable=false] {cursor: default;}"+de+" *[contentEditable=true] {cursor: text;}")}()),{showCaret:P,showBlockCaretContainer:function D(se){se.hasAttribute("data-mce-caret")&&(T.showCaretContainerBlock(se),R(N()),_(se[0]))},hideFakeCaret:ne,destroy:function G(){v.destroy(),g=null}}}}),V("tinymce.core.dom.NodePath",["tinymce.core.dom.DOMUtils"],function(T){return{create:function S(c,l,u){for(var f=[];l&&l!=c;l=l.parentNode)f.push(T.nodeIndex(l,u));return f},resolve:function C(c,l){var u,f,o;for(f=c,u=l.length-1;u>=0;u--){if(l[u]>(o=f.childNodes).length-1)return null;f=o[l[u]]}return f}}}),V("tinymce.core.util.Quirks",["tinymce.core.util.VK","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodePath","tinymce.core.html.Node","tinymce.core.html.Entities","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker"],function(T,S,C,c,l,u,f,o,r,s,a,n){return function(p){var k=o.each,x=T.BACKSPACE,y=T.DELETE,h=p.dom,b=p.selection,m=p.settings,i=p.parser,e=p.serializer,d=f.gecko,v=f.ie,t=f.webkit,g="data:text/mce-internal,",w=v?"Text":"URL";function E(K,fe){try{p.getDoc().execCommand(K,!1,fe)}catch(Ee){}}function A(){return p.getDoc().documentMode||6}function R(K){return K.isDefaultPrevented()}function D(){p.shortcuts.add("meta+a",null,"SelectAll")}function L(){p.on("keydown",function(K){if(!R(K)&&K.keyCode===x){if(!p.getBody().getElementsByTagName("hr").length)return;if(b.isCollapsed()&&0===b.getRng(!0).startOffset){var fe=b.getNode(),Ee=fe.previousSibling;if("HR"==fe.nodeName)return h.remove(fe),void K.preventDefault();Ee&&Ee.nodeName&&"hr"===Ee.nodeName.toLowerCase()&&(h.remove(Ee),K.preventDefault())}}})}function G(){p.on("keydown",function(K){if(!R(K)&&K.keyCode===x&&b.isCollapsed()&&0===b.getRng(!0).startOffset){var fe=b.getNode().previousSibling;if(fe&&fe.nodeName&&"table"===fe.nodeName.toLowerCase())return K.preventDefault(),!1}})}function ae(){p.inline||(p.contentStyles.push("body {min-height: 150px}"),p.on("click",function(K){var fe;if("HTML"==K.target.nodeName){if(f.ie>11)return void p.getBody().focus();fe=p.selection.getRng(),p.getBody().focus(),p.selection.setRng(fe),p.selection.normalize(),p.nodeChanged()}}))}function Ve(){function K(fe){var Ee=new n(fe.getBody()),Ne=fe.selection.getRng(),Ie=a.fromRangeStart(Ne),Oe=a.fromRangeEnd(Ne),Ye=Ee.prev(Ie),Ke=Ee.next(Oe);return!fe.selection.isCollapsed()&&(!Ye||Ye.isAtStart()&&Ie.isEqual(Ye))&&(!Ke||Ke.isAtEnd()&&Ie.isEqual(Ke))}p.on("keypress",function(fe){!R(fe)&&!b.isCollapsed()&&fe.charCode>31&&!T.metaKeyPressed(fe)&&K(p)&&(fe.preventDefault(),p.setContent(String.fromCharCode(fe.charCode)),p.selection.select(p.getBody(),!0),p.selection.collapse(!1),p.nodeChanged())}),p.on("keydown",function(fe){var Ee=fe.keyCode;!R(fe)&&(Ee==y||Ee==x)&&K(p)&&(fe.preventDefault(),p.setContent(""),p.nodeChanged())})}return function de(){p.on("keydown",function(K){var fe,Ee,Ne,Ie,Oe;if(!R(K)&&K.keyCode==T.BACKSPACE&&(Ee=(fe=b.getRng()).startContainer,Ne=fe.startOffset,Ie=h.getRoot(),Oe=Ee,fe.collapsed&&0===Ne)){for(;Oe&&Oe.parentNode&&Oe.parentNode.firstChild==Oe&&Oe.parentNode!=Ie;)Oe=Oe.parentNode;"BLOCKQUOTE"===Oe.tagName&&(p.formatter.toggle("blockquote",null,Oe),(fe=h.createRng()).setStart(Ee,0),fe.setEnd(Ee,0),b.setRng(fe))}})}(),function M(){function K(Ee){var Ne=h.create("body"),Ie=Ee.cloneContents();return Ne.appendChild(Ie),b.serializer.serialize(Ne,{format:"html"})}p.on("keydown",function(Ee){var Ie,Oe,Ne=Ee.keyCode;if(!R(Ee)&&(Ne==y||Ne==x)){if(Ie=p.selection.isCollapsed(),Oe=p.getBody(),Ie&&!h.isEmpty(Oe)||!Ie&&!function fe(Ee){if(!Ee.setStart){if(Ee.item)return!1;var Ne=Ee.duplicate();return Ne.moveToElementText(p.getBody()),S.compareRanges(Ee,Ne)}var Ie=K(Ee),Oe=h.createRng();return Oe.selectNode(p.getBody()),Ie===K(Oe)}(p.selection.getRng()))return;Ee.preventDefault(),p.setContent(""),Oe.firstChild&&h.isBlock(Oe.firstChild)?p.selection.setCursorLocation(Oe.firstChild,0):p.selection.setCursorLocation(Oe,0),p.nodeChanged()}})}(),f.windowsPhone||function re(){p.on("keyup focusin mouseup",function(K){(65!=K.keyCode||!T.metaKeyPressed(K))&&b.normalize()},!0)}(),t&&(Ve(),function U(){p.settings.content_editable||h.bind(p.getDoc(),"mousedown mouseup",function(K){var fe;if(K.target==p.getDoc().documentElement)if(fe=b.getRng(),p.getBody().focus(),"mousedown"==K.type){if(s.isCaretContainer(fe.startContainer))return;b.placeCaretAt(K.clientX,K.clientY)}else b.setRng(fe)})}(),function I(){p.on("click",function(K){var fe=K.target;/^(IMG|HR)$/.test(fe.nodeName)&&"false"!==h.getContentEditableParent(fe)&&(K.preventDefault(),p.selection.select(fe),p.nodeChanged()),"A"==fe.nodeName&&h.hasClass(fe,"mce-item-anchor")&&(K.preventDefault(),b.select(fe))})}(),function me(){m.forced_root_block&&p.on("init",function(){E("DefaultParagraphSeparator",m.forced_root_block)})}(),function xe(){p.on("init",function(){p.dom.bind(p.getBody(),"submit",function(K){K.preventDefault()})})}(),G(),function Ae(){i.addNodeFilter("br",function(K){for(var fe=K.length;fe--;)"Apple-interchange-newline"==K[fe].attr("class")&&K[fe].remove()})}(),f.iOS?(function we(){p.inline||p.on("keydown",function(){document.activeElement==document.body&&p.getWin().focus()})}(),ae(),function Te(){p.on("click",function(K){var fe=K.target;do{if("A"===fe.tagName)return void K.preventDefault()}while(fe=fe.parentNode)}),p.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):D()),v&&f.ie<11&&(L(),function q(){document.body.setAttribute("role","application")}(),function ne(){A()>7||(E("RespectVisibilityInDesign",!0),p.contentStyles.push(".mceHideBrInPre pre br {display: none}"),h.addClass(p.getBody(),"mceHideBrInPre"),i.addNodeFilter("pre",function(K){for(var Ee,Ne,Ie,Oe,fe=K.length;fe--;)for(Ne=(Ee=K[fe].getAll("br")).length;Ne--;)(Oe=(Ie=Ee[Ne]).prev)&&3===Oe.type&&"\n"!=Oe.value.charAt(Oe.value-1)?Oe.value+="\n":Ie.parent.insert(new l("#text",3),Ie,!0).value="\n"}),e.addNodeFilter("pre",function(K){for(var Ee,Ne,Oe,fe=K.length;fe--;)for(Ne=(Ee=K[fe].getAll("br")).length;Ne--;)(Oe=Ee[Ne].prev)&&3==Oe.type&&(Oe.value=Oe.value.replace(/\r?\n$/,""))}))}(),function se(){h.bind(p.getBody(),"mouseup",function(){var K,fe=b.getNode();"IMG"==fe.nodeName&&((K=h.getStyle(fe,"width"))&&(h.setAttrib(fe,"width",K.replace(/[^0-9%]+/g,"")),h.setStyle(fe,"width","")),(K=h.getStyle(fe,"height"))&&(h.setAttrib(fe,"height",K.replace(/[^0-9%]+/g,"")),h.setStyle(fe,"height","")))})}(),function X(){p.on("keydown",function(K){var fe;!R(K)&&K.keyCode==x&&(fe=p.getDoc().selection.createRange())&&fe.item&&(K.preventDefault(),p.undoManager.beforeChange(),h.remove(fe.item(0)),p.undoManager.add())})}(),function Z(){var K;A()>=10&&(K="",k("p div h1 h2 h3 h4 h5 h6".split(" "),function(fe,Ee){K+=(Ee>0?",":"")+fe+":empty"}),p.contentStyles.push(K+"{padding-right: 1px !important}"))}(),function $(){A()<9&&(i.addNodeFilter("noscript",function(K){for(var Ee,Ne,fe=K.length;fe--;)(Ne=(Ee=K[fe]).firstChild)&&Ee.attr("data-mce-innertext",Ne.value)}),e.addNodeFilter("noscript",function(K){for(var Ee,Ne,Ie,fe=K.length;fe--;)Ee=K[fe],(Ne=K[fe].firstChild)?Ne.value=u.decode(Ne.value):(Ie=Ee.attributes.map["data-mce-innertext"])&&(Ee.attr("data-mce-innertext",null),(Ne=new l("#text",3)).value=Ie,Ne.raw=!0,Ee.append(Ne))}))}(),function J(){var Ee,Ne,Ie,K=h.doc,fe=K.body;function Oe(je,Xe){var ot=fe.createTextRange();try{ot.moveToPoint(je,Xe)}catch(H){ot=null}return ot}function Ye(je){var Xe;je.button?(Xe=Oe(je.x,je.y))&&(Xe.compareEndPoints("StartToStart",Ne)>0?Xe.setEndPoint("StartToStart",Ne):Xe.setEndPoint("EndToEnd",Ne),Xe.select()):Ke()}function Ke(){var je=K.selection.createRange();Ne&&!je.item&&0===je.compareEndPoints("StartToEnd",je)&&Ne.select(),h.unbind(K,"mouseup",Ke),h.unbind(K,"mousemove",Ye),Ne=Ee=0}K.documentElement.unselectable=!0,h.bind(K,"mousedown contextmenu",function(je){if("HTML"===je.target.nodeName){if(Ee&&Ke(),(Ie=K.documentElement).scrollHeight>Ie.clientHeight)return;Ee=1,(Ne=Oe(je.x,je.y))&&(h.bind(K,"mouseup",Ke),h.bind(K,"mousemove",Ye),h.getRoot().focus(),Ne.select())}})}()),f.ie>=11&&(ae(),G()),f.ie&&(D(),function te(){E("AutoUrlDetect",!1)}(),function ve(){p.on("dragstart",function(K){!function N(K){var fe,Ee;K.dataTransfer&&(p.selection.isCollapsed()&&"IMG"==K.target.tagName&&b.select(K.target),(fe=p.selection.getContent()).length>0&&(Ee=g+escape(p.id)+","+escape(fe),K.dataTransfer.setData(w,Ee)))}(K)}),p.on("drop",function(K){if(!R(K)){var fe=function _(K){var fe;return K.dataTransfer&&(fe=K.dataTransfer.getData(w))&&fe.indexOf(g)>=0?(fe=fe.substr(g.length).split(","),{id:unescape(fe[0]),html:unescape(fe[1])}):null}(K);if(fe&&fe.id!=p.id){K.preventDefault();var Ee=S.getCaretRangeFromPoint(K.x,K.y,p.getDoc());b.setRng(Ee),function P(K,fe){p.queryCommandSupported("mceInsertClipboardContent")?p.execCommand("mceInsertClipboardContent",!1,{content:K,internal:fe}):p.execCommand("mceInsertContent",!1,K)}(fe.html,!0)}}})}()),d&&(Ve(),L(),function B(){window.Range.prototype.getClientRects||p.on("mousedown",function(K){if(!R(K)&&"HTML"===K.target.nodeName){var fe=p.getBody();fe.blur(),r.setEditorTimeout(p,function(){fe.focus()})}})}(),function F(){function K(){var Ee=h.getAttribs(b.getStart().cloneNode(!1));return function(){var Ne=b.getStart();Ne!==p.getBody()&&(h.setAttrib(Ne,"style",null),k(Ee,function(Ie){Ne.setAttributeNode(Ie.cloneNode(!0))}))}}function fe(){return!b.isCollapsed()&&h.getParent(b.getStart(),h.isBlock)!=h.getParent(b.getEnd(),h.isBlock)}p.on("keypress",function(Ee){var Ne;if(!R(Ee)&&(8==Ee.keyCode||46==Ee.keyCode)&&fe())return Ne=K(),p.getDoc().execCommand("delete",!1,null),Ne(),Ee.preventDefault(),!1}),h.bind(p.getDoc(),"cut",function(Ee){var Ne;!R(Ee)&&fe()&&(Ne=K(),r.setEditorTimeout(p,function(){Ne()}))})}(),function ue(){m.readonly||p.on("BeforeExecCommand MouseDown",function K(){E("StyleWithCSS",!1),E("enableInlineTableEditing",!1),m.object_resizing||E("enableObjectResizing",!1)})}(),function Se(){p.on("SetContent ExecCommand",function(fe){("setcontent"==fe.type||"mceInsertLink"===fe.command)&&function K(){k(h.select("a"),function(fe){var Ee=fe.parentNode,Ne=h.getRoot();if(Ee.lastChild===fe){for(;Ee&&!h.isBlock(Ee);){if(Ee.parentNode.lastChild!==Ee||Ee===Ne)return;Ee=Ee.parentNode}h.add(Ee,"br",{"data-mce-bogus":1})}})}()})}(),function ye(){p.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function oe(){f.mac&&p.on("keydown",function(K){T.metaKeyPressed(K)&&!K.shiftKey&&(37==K.keyCode||39==K.keyCode)&&(K.preventDefault(),p.selection.getSel().modify("move",37==K.keyCode?"backward":"forward","lineboundary"))})}(),G()),{refreshContentEditable:function Fe(){},isHidden:function Ue(){var K;return!d||p.removed?0:!(K=p.selection.getSel())||!K.rangeCount||0===K.rangeCount}}}}),V("tinymce.core.init.InitContentBody",["global!document","global!window","tinymce.core.caret.CaretContainerInput","tinymce.core.dom.DOMUtils","tinymce.core.dom.Selection","tinymce.core.dom.Serializer","tinymce.core.EditorUpload","tinymce.core.ErrorReporter","tinymce.core.ForceBlocks","tinymce.core.Formatter","tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.UndoManager","tinymce.core.util.Delay","tinymce.core.util.Quirks","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f,o,r,s,a,n,p,k,x,y,h,b,m,i){var e=c.DOM,t=function(E){E.bindPendingEventDelegates(),E.initialized=!0,E.fire("init"),E.focus(!0),E.nodeChanged({initial:!0}),E.execCallback("init_instance_callback",E),function(E){E.settings.auto_focus&&b.setEditorTimeout(E,function(){var A;(A=!0===E.settings.auto_focus?E:E.editorManager.get(E.settings.auto_focus)).destroyed||A.focus()},100)}(E)};return{initContentBody:function(E,A){var P,M,R=E.settings,N=E.getElement(),_=E.getDoc();R.inline||(E.getElement().style.visibility=E.orgVisibility),!A&&!R.content_editable&&(_.open(),_.write(E.iframeHTML),_.close()),R.content_editable&&(E.on("remove",function(){var D=this.getBody();e.removeClass(D,"mce-content-body"),e.removeClass(D,"mce-edit-focus"),e.setAttrib(D,"contentEditable",null)}),e.addClass(N,"mce-content-body"),E.contentDocument=_=R.content_document||T,E.contentWindow=R.content_window||S,E.bodyElement=N,R.content_document=R.content_window=null,R.root_name=N.nodeName.toLowerCase()),(P=E.getBody()).disabled=!0,E.readonly=R.readonly,E.readonly||(E.inline&&"static"===e.getStyle(P,"position",!0)&&(P.style.position="relative"),P.contentEditable=E.getParam("content_editable_state",!0)),P.disabled=!1,E.editorUpload=new f(E),E.schema=new p(R),E.dom=new c(_,{keep_values:!0,url_converter:E.convertURL,url_converter_scope:E,hex_colors:R.force_hex_style_colors,class_filter:R.class_filter,update_styles:!0,root_element:E.inline?E.getBody():null,collect:R.content_editable,schema:E.schema,onSetAttrib:function(U){E.fire("SetAttrib",U)}}),E.parser=function(E){var A=new a(E.settings,E.schema);return A.addAttributeFilter("src,href,style,tabindex",function(R,N){for(var P,D,U,_=R.length,M=E.dom;_--;)if(D=(P=R[_]).attr(N),!P.attributes.map[U="data-mce-"+N]){if(0===D.indexOf("data:")||0===D.indexOf("blob:"))continue;"style"===N?((D=M.serializeStyle(M.parseStyle(D),P.name)).length||(D=null),P.attr(U,D),P.attr(N,D)):"tabindex"===N?(P.attr(U,D),P.attr(N,null)):P.attr(U,E.convertURL(D,N,P.name))}}),A.addNodeFilter("script",function(R){for(var _,P,N=R.length;N--;)0!==(P=(_=R[N]).attr("type")||"no/type").indexOf("mce-")&&_.attr("type","mce-"+P)}),A.addNodeFilter("#cdata",function(R){for(var _,N=R.length;N--;)(_=R[N]).type=8,_.name="#comment",_.value="[CDATA["+_.value+"]]"}),A.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(R){for(var _,N=R.length,P=E.schema.getNonEmptyElements();N--;)(_=R[N]).isEmpty(P)&&0===_.getAll("br").length&&(_.append(new n("br",1)).shortEnded=!0)}),A}(E),E.serializer=new u(R,E),E.selection=new l(E.dom,E.getWin(),E.serializer,E),E.formatter=new s(E),E.undoManager=new h(E),E._nodeChangeDispatcher=new x(E),E._selectionOverrides=new y(E),C.setup(E),k.setup(E),r.setup(E),E.fire("PreInit"),!R.browser_spellcheck&&!R.gecko_spellcheck&&(_.body.spellcheck=!1,e.setAttrib(P,"spellcheck","false")),E.quirks=new m(E),E.fire("PostRender"),R.directionality&&(P.dir=R.directionality),R.nowrap&&(P.style.whiteSpace="nowrap"),R.protect&&E.on("BeforeSetContent",function(D){i.each(R.protect,function(U){D.content=D.content.replace(U,function(L){return"\x3c!--mce:protected "+escape(L)+"--\x3e"})})}),E.on("SetContent",function(){E.addVisual(E.getBody())}),R.padd_empty_editor&&E.on("PostProcess",function(D){D.content=D.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),E.load({initial:!0,format:"html"}),E.startContent=E.getContent({format:"raw"}),E.on("compositionstart compositionend",function(D){E.composing="compositionstart"===D.type}),E.contentStyles.length>0&&(M="",i.each(E.contentStyles,function(D){M+=D+"\r\n"}),E.dom.addStyle(M)),E.dom.styleSheetLoader.loadAll(E.contentCSS,function(D){t(E)},function(D){t(E),o.contentCssError(E,D)})}}}),V("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],function(T){return T.PluginManager}),V("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],function(T){return T.ThemeManager}),V("tinymce.core.init.Init",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.init.InitContentBody","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(T,S,C,c,l,u,f,o,r){var s=C.DOM,a=function b(m,i,e){var v,t,d=u.get(e);if(v=u.urls[e]||m.documentBaseUrl.replace(/\/$/,""),e=o.trim(e),d&&-1===o.inArray(i,e)){if(o.each(u.dependencies(e),function(g){b(m,i,g)}),m.plugins[e])return;t=new d(m,v,m.$),m.plugins[e]=t,t.init&&(t.init(m,v),i.push(e))}},n=function(m){var i=[];o.each(m.settings.plugins.replace(/\-/g,"").split(/[ ,]/),function(e){a(m,i,e)})};return{init:function(m){var d,i=m.settings,e=m.getElement();if(m.rtl=i.rtl_ui||m.editorManager.i18n.rtl,m.editorManager.i18n.setCode(i.language),i.aria_label=i.aria_label||s.getAttrib(e,"aria-label",m.getLang("aria.rich_text_area")),m.fire("ScriptsLoaded"),function(m){var i,e=m.settings;e.theme&&("function"!=typeof e.theme?(e.theme=e.theme.replace(/-/,""),i=f.get(e.theme),m.theme=new i(m,f.urls[e.theme]),m.theme.init&&m.theme.init(m,f.urls[e.theme]||m.documentBaseUrl.replace(/\/$/,""),m.$)):m.theme=e.theme)}(m),n(m),d=function(m){var i,e,d,v,t,g=m.settings,w=m.getElement();return g.render_ui&&m.theme&&(m.orgDisplay=w.style.display,"function"!=typeof g.theme?(i=g.width||s.getStyle(w,"width")||"100%",e=g.height||s.getStyle(w,"height")||w.offsetHeight,d=g.min_height||100,(v=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),v.test(""+e)&&(e=Math.max(parseInt(e,10),d)),t=m.theme.renderUI({targetNode:w,width:i,height:e,deltaWidth:g.delta_width,deltaHeight:g.delta_height}),g.content_editable||(e=(t.iframeHeight||e)+("number"==typeof e?t.deltaHeight||0:""))<d&&(e=d)):((t=g.theme(m,w)).editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||m.id+"_parent"),t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||m.id+"_iframecontainer"),e=t.iframeHeight||w.offsetHeight),m.editorContainer=t.editorContainer,t.height=e),t}(m),i.content_css&&o.each(o.explode(i.content_css),function(t){m.contentCSS.push(m.documentBaseURI.toAbsolute(t))}),i.content_style&&m.contentStyles.push(i.content_style),i.content_editable)return l.initContentBody(m);var v=function(m,i){var d,v,e=m.settings;m.iframeHTML=e.doctype+"<html><head>",e.document_base_url!=m.documentBaseUrl&&(m.iframeHTML+='<base href="'+m.documentBaseURI.getURI()+'" />'),!c.caretAfter&&e.ie7_compat&&(m.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),m.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',-1!=(d=e.body_id||"tinymce").indexOf("=")&&(d=(d=m.getParam("body_id","","hash"))[m.id]||d),-1!=(v=e.body_class||"").indexOf("=")&&(v=(v=m.getParam("body_class","","hash"))[m.id]||""),e.content_security_policy&&(m.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+e.content_security_policy+'" />'),m.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+v+'" data-id="'+m.id+'"><br></body></html>';var t=s.create("iframe",{id:m.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:m.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:i.height,display:"block"}});t.onload=function(){t.onload=null,m.fire("load")};var g=function(m,i){if(T.domain!==S.location.hostname&&c.ie&&c.ie<12){var e=r.uuid("mce");return m[e]=function(){l.initContentBody(m)},s.setAttrib(i,"src",'javascript:(function(){document.open();document.domain="'+T.domain+'";var ed = window.parent.tinymce.get("'+m.id+'");document.write(ed.iframeHTML);document.close();ed.'+e+"(true);})()"),!0}return!1}(m,t);return m.contentAreaContainer=i.iframeContainer,m.iframeElement=t,s.add(i.iframeContainer,t),g}(m,d);d.editorContainer&&(s.get(d.editorContainer).style.display=m.orgDisplay,m.hidden=s.isHidden(d.editorContainer)),m.getElement().style.display="none",s.setAttrib(m.id,"aria-hidden",!0),v||l.initContentBody(m)}}}),V("tinymce.core.init.Render",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.init.Init","tinymce.core.NotificationManager","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.WindowManager"],function(T,S,C,c,l,u,f,o,r,s,a,n){var p=S.DOM;return{render:function(h){var b=h.settings,m=h.id;if(C.Event.domLoaded){if(h.getElement()&&l.contentEditable){b.inline?h.inline=!0:(h.orgVisibility=h.getElement().style.visibility,h.getElement().style.visibility="hidden");var e=h.getElement().form||p.getParent(m,"form");e&&(h.formElement=e,b.hidden_input&&!/TEXTAREA|INPUT/i.test(h.getElement().nodeName)&&(p.insertAfter(p.create("input",{type:"hidden",name:m}),m),h.hasHiddenInput=!0),h.formEventDelegate=function(d){h.fire(d.type,d)},p.bind(e,"submit reset",h.formEventDelegate),h.on("reset",function(){h.setContent(h.startContent,{format:"raw"})}),b.submit_patch&&!e.submit.nodeType&&!e.submit.length&&!e._mceOldSubmit&&(e._mceOldSubmit=e.submit,e.submit=function(){return h.editorManager.triggerSave(),h.setDirty(!1),e._mceOldSubmit(e)})),h.windowManager=new n(h),h.notificationManager=new o(h),"xml"===b.encoding&&h.on("GetContent",function(d){d.save&&(d.content=p.encode(d.content))}),b.add_form_submit_trigger&&h.on("submit",function(){h.initialized&&h.save()}),b.add_unload_trigger&&(h._beforeUnload=function(){h.initialized&&!h.destroyed&&!h.isHidden()&&h.save({format:"raw",no_events:!0,set_dirty:!1})},h.editorManager.on("BeforeUnload",h._beforeUnload)),h.editorManager.add(h),function(h,b){var m=h.settings,i=c.ScriptLoader;if(m.language&&"en"!=m.language&&!m.language_url&&(m.language_url=h.editorManager.baseURL+"/langs/"+m.language+".js"),m.language_url&&i.add(m.language_url),m.theme&&"function"!=typeof m.theme&&"-"!=m.theme.charAt(0)&&!s.urls[m.theme]){var e=m.theme_url;e=e?h.documentBaseURI.toAbsolute(e):"themes/"+m.theme+"/theme"+b+".js",s.load(m.theme,e)}a.isArray(m.plugins)&&(m.plugins=m.plugins.join(" ")),a.each(m.external_plugins,function(d,v){r.load(v,d),m.plugins+=" "+v}),a.each(m.plugins.split(/[ ,]/),function(d){if((d=a.trim(d))&&!r.urls[d])if("-"===d.charAt(0)){d=d.substr(1,d.length);var v=r.dependencies(d);a.each(v,function(t){t=r.createUrl({prefix:"plugins/",resource:t,suffix:"/plugin"+b+".js"},t),r.load(t.resource,t)})}else r.load(d,{prefix:"plugins/",resource:d,suffix:"/plugin"+b+".js"})}),i.loadQueue(function(){h.removed||f.init(h)},h,function(d){u.pluginLoadError(h,d[0]),h.removed||f.init(h)})}(h,h.suffix)}}else p.bind(T,"ready",function i(){p.unbind(T,"ready",i),h.render()})}}}),V("tinymce.core.Mode",[],function(){function T(l,u,f){try{l.getDoc().execCommand(u,!1,f)}catch(o){}}function C(l,u){l._clickBlocker&&(l._clickBlocker.unbind(),l._clickBlocker=null),u?(l._clickBlocker=function S(l){var u,f;return u=l.getBody(),f=function(r){l.dom.getParents(r.target,"a").length>0&&r.preventDefault()},l.dom.bind(u,"click",f),{unbind:function(){l.dom.unbind(u,"click",f)}}}(l),l.selection.controlSelection.hideResizeRect(),l.readonly=!0,l.getBody().contentEditable=!1):(l.readonly=!1,l.getBody().contentEditable=!0,T(l,"StyleWithCSS",!1),T(l,"enableInlineTableEditing",!1),T(l,"enableObjectResizing",!1),l.focus(),l.nodeChanged())}return{setMode:function c(l,u){u!=(l.readonly?"readonly":"design")&&(l.initialized?C(l,"readonly"==u):l.on("init",function(){C(l,"readonly"==u)}),l.fire("SwitchMode",{mode:u}))}}}),V("tinymce.core.ui.Sidebar",[],function(){return{add:function(C,c,l){var u=C.sidebars?C.sidebars:[];u.push({name:c,settings:l}),C.sidebars=u}}}),V("tinymce.core.Editor",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.EditorCommands","tinymce.core.EditorObservable","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.init.Render","tinymce.core.Mode","tinymce.core.Shortcuts","tinymce.core.ui.Sidebar","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.Uuid"],function(T,S,C,c,l,u,f,o,r,s,a,n,p,k){var x=C.DOM,y=n.extend,h=n.each,b=n.trim,m=n.resolve,i=u.gecko,e=u.ie;function d(v,t,g){var E,A,R,w=this;E=w.documentBaseUrl=g.documentBaseURL,A=g.baseURI,t=y({id:v,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:E,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:w.convertURL,url_converter_scope:w,ie7_compat:!0},R=g.defaultSettings,t),R&&R.external_plugins&&t.external_plugins&&(t.external_plugins=y({},R.external_plugins,t.external_plugins)),w.settings=t,T.language=t.language||"en",T.languageLoad=t.language_load,T.baseURL=g.baseURL,w.id=t.id=v,w.setDirty(!1),w.plugins={},w.documentBaseURI=new p(t.document_base_url||E,{base_uri:A}),w.baseURI=A,w.contentCSS=[],w.contentStyles=[],w.shortcuts=new s(w),w.loadedCSS={},w.editorCommands=new c(w),w.suffix=g.suffix,w.editorManager=g,w.inline=t.inline,w.settings.content_editable=w.inline,t.cache_suffix&&(u.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(u.overrideViewPort=!1),g.fire("SetupEditor",w),w.execCallback("setup",w),w.$=S.overrideDefaults(function(){return{context:w.inline?w.getBody():w.getDoc(),element:w.getBody()}})}return d.prototype={render:function(){o.render(this)},focus:function(t){var A,R,P,g=this,w=g.selection,E=g.settings.content_editable,N=g.getDoc(),_=g.getBody();if(!g.removed){if(!t){if((A=w.getRng()).item&&(R=A.item(0)),g.quirks.refreshContentEditable(),P=function M(D){return g.dom.getParent(D,function(U){return"true"===g.dom.getContentEditable(U)})}(w.getNode()),g.$.contains(_,P))return P.focus(),w.normalize(),void g.editorManager.setActive(g);if(E||(u.opera||g.getBody().focus(),g.getWin().focus()),i||E){if(_.setActive)try{_.setActive()}catch(D){_.focus()}else _.focus();E&&w.normalize()}R&&R.ownerDocument==N&&((A=N.body.createControlRange()).addElement(R),A.select())}g.editorManager.setActive(g)}},execCallback:function(t){var E,g=this,w=g.settings[t];if(w)return g.callbackLookup&&(E=g.callbackLookup[t])&&(w=E.func,E=E.scope),"string"==typeof w&&(E=(E=w.replace(/\.\w+$/,""))?m(E):0,w=m(w),g.callbackLookup=g.callbackLookup||{},g.callbackLookup[t]={func:w,scope:E}),w.apply(E||g,Array.prototype.slice.call(arguments,1))},translate:function(t){var g=this.settings.language||"en",w=this.editorManager.i18n;return t?(t=w.data[g+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(E,A){return w.data[g+"."+A]||"{#"+A+"}"}),this.editorManager.translate(t)):""},getLang:function(t,g){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(void 0!==g?g:"{#"+t+"}")},getParam:function(t,g,w){var A,E=t in this.settings?this.settings[t]:g;return"hash"===w?(A={},"string"==typeof E?h(E.indexOf("=")>0?E.split(/[;,](?![^=;,]*(?:[;,]|$))/):E.split(","),function(R){R=R.split("="),A[b(R[0])]=b(R.length>1?R[1]:R)}):A=E,A):E},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,g){var w=this;g.cmd&&(g.onclick=function(){w.execCommand(g.cmd)}),!g.text&&!g.icon&&(g.icon=t),w.buttons=w.buttons||{},g.tooltip=g.tooltip||g.title,w.buttons[t]=g},addSidebar:function(t,g){return a.add(this,t,g)},addMenuItem:function(t,g){var w=this;g.cmd&&(g.onclick=function(){w.execCommand(g.cmd)}),w.menuItems=w.menuItems||{},w.menuItems[t]=g},addContextToolbar:function(t,g){var E,w=this;w.contextToolbars=w.contextToolbars||[],"string"==typeof t&&(E=t,t=function(R){return w.dom.is(R,E)}),w.contextToolbars.push({id:k.uuid("mcet"),predicate:t,items:g})},addCommand:function(t,g,w){this.editorCommands.addCommand(t,g,w)},addQueryStateHandler:function(t,g,w){this.editorCommands.addQueryStateHandler(t,g,w)},addQueryValueHandler:function(t,g,w){this.editorCommands.addQueryValueHandler(t,g,w)},addShortcut:function(t,g,w,E){this.shortcuts.add(t,g,w,E)},execCommand:function(t,g,w,E){return this.editorCommands.execCommand(t,g,w,E)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(x.show(t.getContainer()),x.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,g=t.getDoc();t.hidden||(e&&g&&!t.inline&&g.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t==t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(x.hide(t.getContainer()),x.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,g){this.fire("ProgressState",{state:t,time:g})},load:function(t){var E,g=this,w=g.getElement();return g.removed?"":w?((t=t||{}).load=!0,E=g.setContent(void 0!==w.value?w.value:w.innerHTML,t),t.element=w,t.no_events||g.fire("LoadContent",t),t.element=w=null,E):void 0},save:function(t){var E,A,g=this,w=g.getElement();if(w&&g.initialized&&!g.removed)return(t=t||{}).save=!0,t.element=w,t.content=g.getContent(t),t.no_events||g.fire("SaveContent",t),"raw"==t.format&&g.fire("RawSaveContent",t),E=t.content,/TEXTAREA|INPUT/i.test(w.nodeName)?w.value=E:(g.inline||(w.innerHTML=E),(A=x.getParent(g.id,"form"))&&h(A.elements,function(R){if(R.name==g.id)return R.value=E,!1})),t.element=w=null,!1!==t.set_dirty&&g.setDirty(!1),E},setContent:function(t,g){var A,R,w=this,E=w.getBody();return(g=g||{}).format=g.format||"html",g.set=!0,g.content=t,g.no_events||w.fire("BeforeSetContent",g),0===(t=g.content).length||/^\s+$/.test(t)?(R=e&&e<11?"":'<br data-mce-bogus="1">',"TABLE"==E.nodeName?t="<tr><td>"+R+"</td></tr>":/^(UL|OL)$/.test(E.nodeName)&&(t="<li>"+R+"</li>"),(A=w.settings.forced_root_block)&&w.schema.isValidChild(E.nodeName.toLowerCase(),A.toLowerCase())?t=w.dom.createHTML(A,w.settings.forced_root_block_attrs,t=R):!e&&!t&&(t='<br data-mce-bogus="1">'),w.dom.setHTML(E,t),w.fire("SetContent",g)):("raw"!==g.format&&(t=new f({validate:w.validate},w.schema).serialize(w.parser.parse(t,{isRootContent:!0}))),g.content=b(t),w.dom.setHTML(E,g.content),g.no_events||w.fire("SetContent",g)),g.content},getContent:function(t){var w,g=this,E=g.getBody();return g.removed?"":((t=t||{}).format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||g.fire("BeforeGetContent",t),w="raw"==t.format?n.trim(g.serializer.getTrimmedContent()):"text"==t.format?E.innerText||E.textContent:g.serializer.serialize(E,t),t.content="text"!=t.format?b(w):w,t.no_events||g.fire("GetContent",t),t.content)},insertContent:function(t,g){g&&(t=y({content:t},g)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var g=!this.isNotDirty;this.isNotDirty=!t,t&&t!=g&&this.fire("dirty")},setMode:function(t){r.setMode(this,t)},getContainer:function(){var t=this;return t.container||(t.container=x.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=x.get(this.id)),this.targetElm},getWin:function(){var g,t=this;return t.contentWindow||(g=t.iframeElement)&&(t.contentWindow=g.contentWindow),t.contentWindow},getDoc:function(){var g,t=this;return t.contentDocument||(g=t.getWin())&&(t.contentDocument=g.document),t.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,g,w){var E=this,A=E.settings;return A.urlconverter_callback?E.execCallback("urlconverter_callback",t,w,!0,g):!A.convert_urls||w&&"LINK"==w.nodeName||0===t.indexOf("file:")||0===t.length?t:A.relative_urls?E.documentBaseURI.toRelative(t):t=E.documentBaseURI.toAbsolute(t,A.remove_script_host)},addVisual:function(t){var A,g=this,w=g.settings,E=g.dom;t=t||g.getBody(),void 0===g.hasVisual&&(g.hasVisual=w.visual),h(E.select("table,a",t),function(R){var N;switch(R.nodeName){case"TABLE":return A=w.visual_table_class||"mce-item-table",void((N=E.getAttrib(R,"border"))&&"0"!=N||!g.hasVisual?E.removeClass(R,A):E.addClass(R,A));case"A":return void(E.getAttrib(R,"href",!1)||(N=E.getAttrib(R,"name")||R.id,A=w.visual_anchor_class||"mce-item-anchor",N&&g.hasVisual?E.addClass(R,A):E.removeClass(R,A)))}}),g.fire("VisualAid",{element:t,hasVisual:g.hasVisual})},remove:function(){var t=this;t.removed||(t.save(),t.removed=1,t.unbindAllNativeEvents(),t.hasHiddenInput&&x.remove(t.getElement().nextSibling),t.inline||(e&&e<10&&t.getDoc().execCommand("SelectAll",!1,null),x.setStyle(t.id,"display",t.orgDisplay),t.getBody().onload=null),t.fire("remove"),t.editorManager.remove(t),x.remove(t.getContainer()),t._selectionOverrides.destroy(),t.editorUpload.destroy(),t.destroy())},destroy:function(t){var w,g=this;if(!g.destroyed){if(!t&&!g.removed)return void g.remove();t||(g.editorManager.off("beforeunload",g._beforeUnload),g.theme&&g.theme.destroy&&g.theme.destroy(),g.selection.destroy(),g.dom.destroy()),(w=g.formElement)&&(w._mceOldSubmit&&(w.submit=w._mceOldSubmit,w._mceOldSubmit=null),x.unbind(w,"submit reset",g.formEventDelegate)),g.contentAreaContainer=g.formElement=g.container=g.editorContainer=null,g.bodyElement=g.contentDocument=g.contentWindow=null,g.iframeElement=g.targetElm=null,g.selection&&(g.selection=g.selection.win=g.selection.dom=g.selection.dom.doc=null),g.destroyed=1}},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},y(d.prototype,l),d}),V("tinymce.core.util.I18n",["tinymce.core.util.Tools"],function(T){"use strict";var S={},C="en";return{setCode:function(l){l&&(C=l,this.rtl=!!this.data[l]&&"rtl"===this.data[l]._dir)},getCode:function(){return C},rtl:!1,add:function(l,u){var f=S[l];for(var o in f||(S[l]=f={}),u)f[o]=u[o];this.setCode(l)},translate:function(l){var u=S[C]||{};function f(a){return T.is(a,"function")?Object.prototype.toString.call(a):o(a)?"":""+a}function o(a){return""===a||null===a||T.is(a,"undefined")}function r(a){return a=f(a),T.hasOwn(u,a)?f(u[a]):a}if(o(l))return"";if(T.is(l,"object")&&T.hasOwn(l,"raw"))return f(l.raw);if(T.is(l,"array")){var s=l.slice(1);l=r(l[0]).replace(/\{([0-9]+)\}/g,function(a,n){return T.hasOwn(s,n)?f(s[n]):a})}return r(l).replace(/{context:\w+}$/,"")},data:S}}),V("tinymce.core.FocusManager",["tinymce.core.dom.DOMUtils","tinymce.core.util.Delay","tinymce.core.Env"],function(T,S,C){var c,l,u,f=T.DOM,o=function(p,k){var x=p?p.settings.custom_ui_selector:"";return null!==f.getParent(k,function(h){return a.isEditorUIElement(h)||!!x&&p.dom.is(h,x)})};function a(n){function p(){try{return document.activeElement}catch(b){return document.body}}n.on("AddEditor",function y(b){var m=b.editor;m.on("init",function(){(m.inline||C.ie)&&("onbeforedeactivate"in document&&C.ie<9?m.dom.bind(m.getBody(),"beforedeactivate",function(i){if(i.target==m.getBody())try{m.lastRng=m.selection.getRng()}catch(e){}}):m.on("nodechange mouseup keyup",function(i){var e=p();"nodechange"==i.type&&i.selectionChange||(e&&e.id==m.id+"_ifr"&&(e=m.getBody()),m.dom.isChildOf(e,m.getBody())&&(m.lastRng=m.selection.getRng()))}),C.webkit&&!c&&(c=function(){var e=n.activeEditor;if(e&&e.selection){var d=e.selection.getRng();d&&!d.collapsed&&(m.lastRng=d)}},f.bind(document,"selectionchange",c)))}),m.on("setcontent",function(){m.lastRng=null}),m.on("mousedown",function(){m.selection.lastFocusBookmark=null}),m.on("focusin",function(){var e,i=n.focusedEditor;m.selection.lastFocusBookmark&&(e=function x(b,m){var i;return m.startContainer?((i=b.getDoc().createRange()).setStart(m.startContainer,m.startOffset),i.setEnd(m.endContainer,m.endOffset)):i=m,i}(m,m.selection.lastFocusBookmark),m.selection.lastFocusBookmark=null,m.selection.setRng(e)),i!=m&&(i&&i.fire("blur",{focusedEditor:m}),n.setActive(m),n.focusedEditor=m,m.fire("focus",{blurredEditor:i}),m.focus(!0)),m.lastRng=null}),m.on("focusout",function(){S.setEditorTimeout(m,function(){var i=n.focusedEditor;!o(m,p())&&i==m&&(m.fire("blur",{focusedEditor:null}),n.focusedEditor=null,m.selection&&(m.selection.lastFocusBookmark=null))})}),l||(l=function(e){var v,d=n.activeEditor;v=e.target,d&&v.ownerDocument===document&&(d.selection&&v!==d.getBody()&&function(p,k){return!1===function(p){return!0===p.inline}(p)||!1===p.dom.isChildOf(k,p.getBody())}(m,v)&&(d.selection.lastFocusBookmark=function k(b,m){return m&&m.startContainer?b.isChildOf(m.startContainer,b.getRoot())&&b.isChildOf(m.endContainer,b.getRoot())?{startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset}:void 0:m}(d.dom,d.lastRng)),v!==document.body&&!o(d,v)&&n.focusedEditor===d&&(d.fire("blur",{focusedEditor:null}),n.focusedEditor=null))},f.bind(document,"focusin",l)),m.inline&&!u&&(u=function(e){var d=n.activeEditor,v=d.dom;if(d.inline&&v&&!v.isChildOf(e.target,d.getBody())){var t=d.selection.getRng();t.collapsed||(d.lastRng=t)}},f.bind(document,"mouseup",u))}),n.on("RemoveEditor",function h(b){n.focusedEditor==b.editor&&(n.focusedEditor=null),n.activeEditor||(f.unbind(document,"selectionchange",c),f.unbind(document,"focusin",l),f.unbind(document,"mouseup",u),c=l=u=null)})}return a.isEditorUIElement=function(n){return-1!==n.className.toString().indexOf("mce-")},a._isUIElement=o,a}),V("tinymce.core.LegacyInput",["tinymce.core.util.Tools"],function(T){var S=T.each,C=T.explode;return{register:function(u){u.on("AddEditor",function(f){var o=f.editor;o.on("preInit",function(){var r,s,a,n=o.settings;function p(x,y){S(y,function(h,b){h&&a.setStyle(x,b,h)}),a.rename(x,"span")}n.inline_styles&&(s=C(n.font_size_legacy_values),r={font:function(y,h){p(h,{backgroundColor:h.style.backgroundColor,color:h.color,fontFamily:h.face,fontSize:s[parseInt(h.size,10)-1]})},u:function(y,h){"html4"===o.settings.schema&&p(h,{textDecoration:"underline"})},strike:function(y,h){p(h,{textDecoration:"line-through"})}},o.on("PreProcess SetContent",function k(x){a=o.dom,n.convert_fonts_to_spans&&S(a.select("font,u,strike",x.node),function(y){r[y.nodeName.toLowerCase()](a,y)})}))})})}}}),V("tinymce.core.EditorManager",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.Editor","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.FocusManager","tinymce.core.LegacyInput","tinymce.core.util.I18n","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI"],function(T,S,C,c,l,u,f,o,r,s,a,n,p){var m,i,k=C.DOM,x=n.explode,y=n.each,h=n.extend,b=0,e=!1;function d(w){y(i.editors,function(E){E.fire("scroll"===w.type?"ScrollWindow":"ResizeWindow",w)})}function v(w,E){E!==e&&(E?S(window).on("resize scroll",d):S(window).off("resize scroll",d),e=E)}function t(w){var A,E=i.editors;delete E[w.id];for(var R=0;R<E.length;R++)if(E[R]==w){E.splice(R,1),A=!0;break}return i.activeEditor==w&&(i.activeEditor=E[0]),i.focusedEditor==w&&(i.focusedEditor=null),A}return i={$:S,majorVersion:"4",minorVersion:"6.3",releaseDate:"2017-05-30",editors:[],i18n:r,activeEditor:null,setup:function(){var A,R,_,P,E=this,N="";if(R=p.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(R)&&(R=R.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(R)||(R+="/")),_=window.tinymce||window.tinyMCEPreInit)A=_.base||_.baseURL,N=_.suffix;else{for(var M=document.getElementsByTagName("script"),D=0;D<M.length;D++){var U=(P=M[D].src).substring(P.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(P)){-1!=U.indexOf(".min")&&(N=".min"),A=P.substring(0,P.lastIndexOf("/"));break}}!A&&document.currentScript&&(-1!=(P=document.currentScript.src).indexOf(".min")&&(N=".min"),A=P.substring(0,P.lastIndexOf("/")))}E.baseURL=new p(R).toAbsolute(A),E.documentBaseURL=R,E.baseURI=new p(E.baseURL),E.suffix=N,E.focusManager=new f(E)},overrideDefaults:function(E){var A;(A=E.base_url)&&(this.baseURL=new p(this.documentBaseURL).toAbsolute(A.replace(/\/+$/,"")),this.baseURI=new p(this.baseURL)),E.suffix&&(this.suffix=E.suffix),this.defaultSettings=E;var N=E.plugin_base_urls;for(var _ in N)T.PluginManager.urls[_]=N[_]},init:function(E){var R,N,A=this;function P(I){var F=I.id;return F||(F=(F=I.name)&&!k.get(F)?I.name:k.uniqueId(),I.setAttribute("id",F)),F}function D(I,F){return F.constructor===RegExp?F.test(I.className):k.hasClass(I,F)}N=n.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var L=function(F){R=F};return A.settings=E,k.bind(window,"ready",function B(){var q,I=0,F=[];function G(ne,se,de){var ue=new c(ne,se,A);F.push(ue),ue.on("init",function(){++I===q.length&&L(F)}),ue.targetElm=ue.targetElm||de,ue.render()}k.unbind(window,"ready",B),function M(I){var F=E[I];if(F)F.apply(A,Array.prototype.slice.call(arguments,2))}("onpageload"),q=S.unique(function U(I){var F,q=[];if(l.ie&&l.ie<11)return u.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(I.types)return y(I.types,function(G){q=q.concat(k.select(G.selector))}),q;if(I.selector)return k.select(I.selector);if(I.target)return[I.target];switch(I.mode){case"exact":(F=I.elements||"").length>0&&y(x(F),function(G){var ne;(ne=k.get(G))?q.push(ne):y(document.forms,function(se){y(se.elements,function(de){de.name===G&&(G="mce_editor_"+b++,k.setAttrib(de,"id",G),q.push(de))})})});break;case"textareas":case"specific_textareas":y(k.select("textarea"),function(G){I.editor_deselector&&D(G,I.editor_deselector)||(!I.editor_selector||D(G,I.editor_selector))&&q.push(G)})}return q}(E)),E.types?y(E.types,function(ne){n.each(q,function(se){return!k.is(se,ne.selector)||(G(P(se),h({},E,ne),se),!1)})}):(n.each(q,function(ne){!function g(w){w&&w.initialized&&!(w.getContainer()||w.getBody()).parentNode&&(t(w),w.unbindAllNativeEvents(),w.destroy(!0),w.removed=!0,w=null)}(A.get(ne.id))}),0===(q=n.grep(q,function(ne){return!A.get(ne.id)})).length?L([]):y(q,function(ne){!function _(I,F){return I.inline&&F.tagName.toLowerCase()in N}(E,ne)?G(P(ne),E,ne):u.initError("Could not initialize inline editor on invalid inline target element",ne)}))}),new a(function(I){R?I(R):L=function(q){I(q)}})},get:function(E){return arguments.length?E in this.editors?this.editors[E]:null:this.editors},add:function(E){var A=this,R=A.editors;return R[E.id]=E,R.push(E),v(0,!0),A.activeEditor=E,A.fire("AddEditor",{editor:E}),m||(m=function(){A.fire("BeforeUnload")},k.bind(window,"beforeunload",m)),E},createEditor:function(E,A){return this.add(new c(E,A,this))},remove:function(E){var R,_,A=this,N=A.editors;if(E){if("string"!=typeof E)return N[(_=E).id]?(t(_)&&A.fire("RemoveEditor",{editor:_}),N.length||k.unbind(window,"beforeunload",m),_.remove(),v(0,N.length>0),_):null;y(k.select(E=E.selector||E),function(P){(_=N[P.id])&&A.remove(_)})}else for(R=N.length-1;R>=0;R--)A.remove(N[R])},execCommand:function(E,A,R){var N=this,_=N.get(R);switch(E){case"mceAddEditor":return N.get(R)||new c(R,N.settings,N).render(),!0;case"mceRemoveEditor":return _&&_.remove(),!0;case"mceToggleEditor":return _?(_.isHidden()?_.show():_.hide(),!0):(N.execCommand("mceAddEditor",0,R),!0)}return!!N.activeEditor&&N.activeEditor.execCommand(E,A,R)},triggerSave:function(){y(this.editors,function(E){E.save()})},addI18n:function(E,A){r.add(E,A)},translate:function(E){return r.translate(E)},setActive:function(E){var A=this.activeEditor;this.activeEditor!=E&&(A&&A.fire("deactivate",{relatedTarget:E}),E.fire("activate",{relatedTarget:A})),this.activeEditor=E}},h(i,s),i.setup(),o.register(i),i}),V("tinymce.core.util.XHR",["tinymce.core.util.Observable","tinymce.core.util.Tools"],function(T,S){var C={send:function(l){var u,f=0;function o(){!l.async||4==u.readyState||f++>1e4?(l.success&&f<1e4&&200==u.status?l.success.call(l.success_scope,""+u.responseText,u,l):l.error&&l.error.call(l.error_scope,f>1e4?"TIMED_OUT":"GENERAL",u,l),u=null):setTimeout(o,10)}if(l.scope=l.scope||this,l.success_scope=l.success_scope||l.scope,l.error_scope=l.error_scope||l.scope,l.async=!1!==l.async,l.data=l.data||"",C.fire("beforeInitialize",{settings:l}),u=new XMLHttpRequest){if(u.overrideMimeType&&u.overrideMimeType(l.content_type),u.open(l.type||(l.data?"POST":"GET"),l.url,l.async),l.crossDomain&&(u.withCredentials=!0),l.content_type&&u.setRequestHeader("Content-Type",l.content_type),l.requestheaders&&S.each(l.requestheaders,function(r){u.setRequestHeader(r.key,r.value)}),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),(u=C.fire("beforeSend",{xhr:u,settings:l}).xhr).send(l.data),!l.async)return o();setTimeout(o,10)}}};return S.extend(C,T),C}),V("tinymce.core.util.JSON",[],function(){return{serialize:function T(S,C){var c,l,u,f;if(C=C||'"',null===S)return"null";if("string"==(u=typeof S))return l="\bb\tt\nn\ff\rr\"\"''\\\\",C+S.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(o,r){return'"'===C&&"'"===o?o:(c=l.indexOf(r))+1?"\\"+l.charAt(c+1):(o=r.charCodeAt().toString(16),"\\u"+"0000".substring(o.length)+o)})+C;if("object"==u){if(S.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(S)){for(c=0,l="[";c<S.length;c++)l+=(c>0?",":"")+T(S[c],C);return l+"]"}for(f in l="{",S)S.hasOwnProperty(f)&&(l+="function"!=typeof S[f]?(l.length>1?","+C:C)+f+C+":"+T(S[f],C):"");return l+"}"}return""+S},parse:function(C){try{return window[String.fromCharCode(101)+"val"]("("+C+")")}catch(c){}}}}),V("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],function(T,S,C){var c=C.extend;function l(u){this.settings=c({},u),this.count=0}return l.sendRPC=function(u){return(new l).send(u)},l.prototype={send:function(f){var o=f.error,r=f.success;(f=c(this.settings,f)).success=function(s,a){void 0===(s=T.parse(s))&&(s={error:"JSON Parse error."}),s.error?o.call(f.error_scope||f.scope,s.error,a):r.call(f.success_scope||f.scope,s.result)},f.error=function(s,a){o&&o.call(f.error_scope||f.scope,s,a)},f.data=T.serialize({id:f.id||"c"+this.count++,method:f.method,params:f.params}),f.content_type="application/json",S.send(f)}},l}),V("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],function(T){return{callbacks:{},count:0,send:function(C){var c=this,l=T.DOM,u=void 0!==C.count?C.count:c.count,f="tinymce_jsonp_"+u;c.callbacks[u]=function(o){l.remove(f),delete c.callbacks[u],C.callback(o)},l.add(l.doc.body,"script",{id:f,src:C.url,type:"text/javascript"}),c.count++}}}),V("tinymce.core.util.LocalStorage",[],function(){var T,S,C,c,l,u;try{if(window.localStorage)return localStorage}catch(s){}function f(){for(var s in c=[],C)c.push(s);T.length=c.length}function r(){var s,a="";if(u){for(var n in C)s=C[n],a+=(a?",":"")+n.length.toString(32)+","+n+","+s.length.toString(32)+","+s;S.setAttribute(l,a);try{S.save(l)}catch(p){}f()}}return l="tinymce",S=document.documentElement,(u=!!S.addBehavior)&&S.addBehavior("#default#userData"),T={key:function(a){return c[a]},getItem:function(a){return a in C?C[a]:null},setItem:function(a,n){C[a]=""+n,r()},removeItem:function(a){delete C[a],r()},clear:function(){C={},r()}},function o(){var s,a,n,p=0;if(C={},u){S.load(l),a=S.getAttribute(l)||"";do{var x=k();if(null===x)break;if(null!==(s=k(parseInt(x,32)||0))){if(null===(x=k()))break;n=k(parseInt(x,32)||0),s&&(C[s]=n)}}while(null!==s);f()}function k(y){var h,b;return-1===(b=void 0!==y?p+y:a.indexOf(",",p))||b>a.length?null:(h=a.substring(p,b),p=b+1,h)}}(),T}),V("tinymce.core.api.Compat",["tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.AddOnManager","tinymce.core.util.Tools","tinymce.core.Env"],function(T,S,C,c,l,u){return{register:function(r){r.DOM=T.DOM,r.ScriptLoader=C.ScriptLoader,r.PluginManager=c.PluginManager,r.ThemeManager=c.ThemeManager,r.dom=r.dom||{},r.dom.Event=S.Event,l.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(s){r[s]=l[s]}),l.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(s){r[s]=u[s.substr(2).toLowerCase()]})}}}),V("tinymce.core.util.Color",[],function(){var T=Math.min,S=Math.max,C=Math.round;return function c(l){var u=this,f=0,o=0,r=0;function x(y){var h;return"object"==typeof y?"r"in y?(f=y.r,o=y.g,r=y.b):"v"in y&&function a(y,h,b){var m,i,e,d;if(y=(parseInt(y,10)||0)%360,h=parseInt(h,10)/100,b=parseInt(b,10)/100,h=S(0,T(h,1)),b=S(0,T(b,1)),0!==h){switch(m=y/60,e=(i=b*h)*(1-Math.abs(m%2-1)),d=b-i,Math.floor(m)){case 0:f=i,o=e,r=0;break;case 1:f=e,o=i,r=0;break;case 2:f=0,o=i,r=e;break;case 3:f=0,o=e,r=i;break;case 4:f=e,o=0,r=i;break;case 5:f=i,o=0,r=e;break;default:f=o=r=0}f=C(255*(f+d)),o=C(255*(o+d)),r=C(255*(r+d))}else f=o=r=C(255*b)}(y.h,y.s,y.v):(h=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(y))?(f=parseInt(h[1],10),o=parseInt(h[2],10),r=parseInt(h[3],10)):(h=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(y))?(f=parseInt(h[1],16),o=parseInt(h[2],16),r=parseInt(h[3],16)):(h=/#([0-F])([0-F])([0-F])/gi.exec(y))&&(f=parseInt(h[1]+h[1],16),o=parseInt(h[2]+h[2],16),r=parseInt(h[3]+h[3],16)),f=f<0?0:f>255?255:f,o=o<0?0:o>255?255:o,r=r<0?0:r>255?255:r,u}l&&x(l),u.toRgb=function p(){return{r:f,g:o,b:r}},u.toHsv=function k(){return function s(y,h,b){var i,e,v,t;return i=0,e=0,(v=T(y/=255,T(h/=255,b/=255)))==(t=S(y,S(h,b)))?{h:0,s:0,v:100*(e=v)}:(i=(t-v)/t,e=t,{h:C(60*((y==v?3:b==v?1:5)-(y==v?h-b:b==v?y-h:b-y)/(t-v))),s:C(100*i),v:C(100*e)})}(f,o,r)},u.toHex=function n(){function y(h){return(h=parseInt(h,10).toString(16)).length>1?h:"0"+h}return"#"+y(f)+y(o)+y(r)},u.parse=x}}),V("tinymce.core.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(T,S){"use strict";return T.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=S.extend({},this.Defaults,c)},preRender:function(c){c.bodyClasses.add(this.settings.containerClass)},applyClasses:function(c){var f,o,r,s,u=this.settings;f=u.firstControlClass,o=u.lastControlClass,c.each(function(a){a.classes.remove(f).remove(o).add(u.controlClass),a.visible()&&(r||(r=a),s=a)}),r&&r.classes.add(f),s&&s.classes.add(o)},renderHtml:function(c){var u="";return this.applyClasses(c.items()),c.items().each(function(f){u+=f.renderHtml()}),u},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),V("tinymce.core.ui.AbsoluteLayout",["tinymce.core.ui.Layout"],function(T){"use strict";return T.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(C){C.items().filter(":visible").each(function(c){var l=c.settings;c.layoutRect({x:l.x,y:l.y,w:l.w,h:l.h}),c.recalc&&c.recalc()})},renderHtml:function(C){return'<div id="'+C._id+'-absend" class="'+C.classPrefix+'abs-end"></div>'+this._super(C)}})}),V("tinymce.core.ui.Button",["tinymce.core.ui.Widget"],function(T){"use strict";return T.extend({Defaults:{classes:"widget btn",role:"button"},init:function(C){var l,c=this;c._super(C),C=c.settings,l=c.settings.size,c.on("click mousedown",function(u){u.preventDefault()}),c.on("touchstart",function(u){c.fire("click",u),u.preventDefault()}),C.subtype&&c.classes.add(C.subtype),l&&c.classes.add("btn-"+l),C.icon&&c.icon(C.icon)},icon:function(C){return arguments.length?(this.state.set("icon",C),this):this.state.get("icon")},repaint:function(){var c,C=this.getEl().firstChild;C&&((c=C.style).width=c.height="100%"),this._super()},renderHtml:function(){var f,C=this,c=C._id,l=C.classPrefix,u=C.state.get("icon"),o=C.state.get("text"),r="";return(f=C.settings.image)?(u="none","string"!=typeof f&&(f=window.getSelection?f[0]:f[1]),f=" style=\"background-image: url('"+f+"')\""):f="",o&&(C.classes.add("btn-has-text"),r='<span class="'+l+'txt">'+C.encode(o)+"</span>"),'<div id="'+c+'" class="'+C.classes+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+((u=u?l+"ico "+l+"i-"+u:"")?'<i class="'+u+'"'+f+"></i>":"")+r+"</button></div>"},bindStates:function(){var C=this,c=C.$,l=C.classPrefix+"txt";function u(f){var o=c("span."+l,C.getEl());f?(o[0]||(c("button:first",C.getEl()).append('<span class="'+l+'"></span>'),o=c("span."+l,C.getEl())),o.html(C.encode(f))):o.remove(),C.classes.toggle("btn-has-text",!!f)}return C.state.on("change:text",function(f){u(f.value)}),C.state.on("change:icon",function(f){var o=f.value,r=C.classPrefix;C.settings.icon=o,o=o?r+"ico "+r+"i-"+C.settings.icon:"";var s=C.getEl().firstChild,a=s.getElementsByTagName("i")[0];o?((!a||a!=s.firstChild)&&(a=document.createElement("i"),s.insertBefore(a,s.firstChild)),a.className=o):a&&s.removeChild(a),u(C.state.get("text"))}),C._super()}})}),V("tinymce.core.ui.ButtonGroup",["tinymce.core.ui.Container"],function(T){"use strict";return T.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var C=this,c=C._layout;return C.classes.add("btn-group"),C.preRender(),c.preRender(C),'<div id="'+C._id+'" class="'+C.classes+'"><div id="'+C._id+'-body">'+(C.settings.html||"")+c.renderHtml(C)+"</div></div>"}})}),V("tinymce.core.ui.Checkbox",["tinymce.core.ui.Widget"],function(T){"use strict";return T.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(C){var c=this;c._super(C),c.on("click mousedown",function(l){l.preventDefault()}),c.on("click",function(l){l.preventDefault(),c.disabled()||c.checked(!c.checked())}),c.checked(c.settings.checked)},checked:function(C){return arguments.length?(this.state.set("checked",C),this):this.state.get("checked")},value:function(C){return arguments.length?this.checked(C):this.checked()},renderHtml:function(){var C=this,c=C._id,l=C.classPrefix;return'<div id="'+c+'" class="'+C.classes+'" unselectable="on" aria-labelledby="'+c+'-al" tabindex="-1"><i class="'+l+"ico "+l+'i-checkbox"></i><span id="'+c+'-al" class="'+l+'label">'+C.encode(C.state.get("text"))+"</span></div>"},bindStates:function(){var C=this;function c(l){C.classes.toggle("checked",l),C.aria("checked",l)}return C.state.on("change:text",function(l){C.getEl("al").firstChild.data=C.translate(l.value)}),C.state.on("change:checked change:value",function(l){C.fire("change"),c(l.value)}),C.state.on("change:icon",function(l){var u=l.value,f=C.classPrefix;if(void 0===u)return C.settings.icon;C.settings.icon=u,u=u?f+"ico "+f+"i-"+C.settings.icon:"";var o=C.getEl().firstChild,r=o.getElementsByTagName("i")[0];u?((!r||r!=o.firstChild)&&(r=document.createElement("i"),o.insertBefore(r,o.firstChild)),r.className=u):r&&o.removeChild(r)}),C.state.get("checked")&&c(!0),C._super()}})}),V("tinymce.core.ui.ComboBox",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.VK","tinymce.core.util.Tools"],function(T,S,C,c,l,u){"use strict";return T.extend({init:function(o){var r=this;r._super(o),o=r.settings,r.classes.add("combobox"),r.subinput=!0,r.ariaTarget="inp",o.menu=o.menu||o.values,o.menu&&(o.icon="caret"),r.on("click",function(s){var a=s.target,n=r.getEl();if(c.contains(n,a)||a==n)for(;a&&a!=n;)a.id&&-1!=a.id.indexOf("-open")&&(r.fire("action"),o.menu&&(r.showMenu(),s.aria&&r.menu.items()[0].focus())),a=a.parentNode}),r.on("keydown",function(s){var a;13==s.keyCode&&"INPUT"===s.target.nodeName&&(s.preventDefault(),r.parents().reverse().each(function(n){if(n.toJSON)return a=n,!1}),r.fire("submit",{data:a.toJSON()}))}),r.on("keyup",function(s){if("INPUT"==s.target.nodeName){var a=r.state.get("value"),n=s.target.value;n!==a&&(r.state.set("value",n),r.fire("autocomplete",s))}}),r.on("mouseover",function(s){var a=r.tooltip().moveTo(-65535);if(r.statusLevel()&&-1!==s.target.className.indexOf(r.classPrefix+"status")){var n=r.statusMessage()||"Ok",p=a.text(n).show().testMoveRel(s.target,["bc-tc","bc-tl","bc-tr"]);a.classes.toggle("tooltip-n","bc-tc"==p),a.classes.toggle("tooltip-nw","bc-tl"==p),a.classes.toggle("tooltip-ne","bc-tr"==p),a.moveRel(s.target,p)}})},statusLevel:function(o){return arguments.length>0&&this.state.set("statusLevel",o),this.state.get("statusLevel")},statusMessage:function(o){return arguments.length>0&&this.state.set("statusMessage",o),this.state.get("statusMessage")},showMenu:function(){var s,o=this;o.menu||((s=o.settings.menu||[]).length?s={type:"menu",items:s}:s.type=s.type||"menu",o.menu=S.create(s).parent(o).renderTo(o.getContainerElm()),o.fire("createmenu"),o.menu.reflow(),o.menu.on("cancel",function(a){a.control===o.menu&&o.focus()}),o.menu.on("show hide",function(a){a.control.items().each(function(n){n.active(n.value()==o.value())})}).fire("show"),o.menu.on("select",function(a){o.value(a.control.value())}),o.on("focusin",function(a){"INPUT"==a.target.tagName.toUpperCase()&&o.menu.hide()}),o.aria("expanded",!0)),o.menu.show(),o.menu.layoutRect({w:o.layoutRect().w}),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var n,p,o=this,r=o.getEl(),s=o.getEl("open"),a=o.layoutRect(),k=0,x=r.firstChild;o.statusLevel()&&"none"!==o.statusLevel()&&(k=parseInt(C.getRuntimeStyle(x,"padding-right"),10)-parseInt(C.getRuntimeStyle(x,"padding-left"),10)),n=s?a.w-C.getSize(s).width-10:a.w-10;var y=document;return y.all&&(!y.documentMode||y.documentMode<=8)&&(p=o.layoutRect().h-2+"px"),c(x).css({width:n-k,lineHeight:p}),o._super(),o},postRender:function(){var o=this;return c(this.getEl("inp")).on("change",function(r){o.state.set("value",r.target.value),o.fire("change",r)}),o._super()},renderHtml:function(){var p,k,h,o=this,r=o._id,s=o.settings,a=o.classPrefix,n=o.state.get("value")||"",x="",y="";return"spellcheck"in s&&(y+=' spellcheck="'+s.spellcheck+'"'),s.maxLength&&(y+=' maxlength="'+s.maxLength+'"'),s.size&&(y+=' size="'+s.size+'"'),s.subtype&&(y+=' type="'+s.subtype+'"'),h='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',o.disabled()&&(y+=' disabled="disabled"'),(p=s.icon)&&"caret"!=p&&(p=a+"ico "+a+"i-"+s.icon),k=o.state.get("text"),(p||k)&&(x='<div id="'+r+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=p?'<i class="'+p+'"></i>':'<i class="'+a+'caret"></i>')+(k?(p?" ":"")+k:"")+"</button></div>",o.classes.add("has-open")),'<div id="'+r+'" class="'+o.classes+'"><input id="'+r+'-inp" class="'+a+'textbox" value="'+o.encode(n,!1)+'" hidefocus="1"'+y+' placeholder="'+o.encode(s.placeholder)+'" />'+h+x+"</div>"},value:function(o){return arguments.length?(this.state.set("value",o),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(o,r){var s=this;if(0!==o.length){s.menu?s.menu.items().remove():s.menu=S.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(s).renderTo(),u.each(o,function(p){var k,x;s.menu.add({text:p.title,url:p.previewUrl,match:r,classes:"menu-item-ellipsis",onclick:(k=p.value,x=p.title,function(){s.fire("selectitem",{title:x,value:k})})})}),s.menu.renderNew(),s.hideMenu(),s.menu.on("cancel",function(p){p.control.parent()===s.menu&&(p.stopPropagation(),s.focus(),s.hideMenu())}),s.menu.on("select",function(){s.focus()});var n=s.layoutRect().w;s.menu.layoutRect({w:n,minW:0,maxW:n}),s.menu.reflow(),s.menu.show(),s.menu.moveRel(s.getEl(),s.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else s.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var o=this;o.state.on("change:value",function(s){o.getEl("inp").value!=s.value&&(o.getEl("inp").value=s.value)}),o.state.on("change:disabled",function(s){o.getEl("inp").disabled=s.value}),o.state.on("change:statusLevel",function(s){var a=o.getEl("status"),n=o.classPrefix,p=s.value;C.css(a,"display","none"===p?"none":""),C.toggleClass(a,n+"i-checkmark","ok"===p),C.toggleClass(a,n+"i-warning","warn"===p),C.toggleClass(a,n+"i-error","error"===p),o.classes.toggle("has-status","none"!==p),o.repaint()}),C.on(o.getEl("status"),"mouseleave",function(){o.tooltip().hide()}),o.on("cancel",function(s){o.menu&&o.menu.visible()&&(s.stopPropagation(),o.hideMenu())});var r=function(a,n){n&&n.items().length>0&&n.items().eq(a)[0].focus()};return o.on("keydown",function(s){var a=s.keyCode;"INPUT"===s.target.nodeName&&(a===l.DOWN?(s.preventDefault(),o.fire("autocomplete"),r(0,o.menu)):a===l.UP&&(s.preventDefault(),r(-1,o.menu)))}),o._super()},remove:function(){c(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),V("tinymce.core.ui.ColorBox",["tinymce.core.ui.ComboBox"],function(T){"use strict";return T.extend({init:function(C){var c=this;C.spellcheck=!1,C.onaction&&(C.icon="none"),c._super(C),c.classes.add("colorbox"),c.on("change keyup postrender",function(){c.repaintColor(c.value())})},repaintColor:function(C){var c=this.getEl("open"),l=c?c.getElementsByTagName("i")[0]:null;if(l)try{l.style.background=C}catch(u){}},bindStates:function(){var C=this;return C.state.on("change:value",function(c){C.state.get("rendered")&&C.repaintColor(c.value)}),C._super()}})}),V("tinymce.core.ui.PanelButton",["tinymce.core.ui.Button","tinymce.core.ui.FloatPanel"],function(T,S){"use strict";return T.extend({showPanel:function(){var c=this,l=c.settings;if(c.active(!0),c.panel)c.panel.show();else{var u=l.panel;u.type&&(u={layout:"grid",items:u}),u.role=u.role||"dialog",u.popover=!0,u.autohide=!0,u.ariaRoot=!0,c.panel=new S(u).on("hide",function(){c.active(!1)}).on("cancel",function(f){f.stopPropagation(),c.focus(),c.hidePanel()}).parent(c).renderTo(c.getContainerElm()),c.panel.fire("show"),c.panel.reflow()}c.panel.moveRel(c.getEl(),l.popoverAlign||(c.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(l){l.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!l.aria)))}),c._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),V("tinymce.core.ui.ColorButton",["tinymce.core.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(T,S){"use strict";var C=S.DOM;return T.extend({init:function(l){this._super(l),this.classes.add("colorbutton")},color:function(l){return l?(this._color=l,this.getEl("preview").style.backgroundColor=l,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var l=this,u=l._id,f=l.classPrefix,o=l.state.get("text"),r=l.settings.icon?f+"ico "+f+"i-"+l.settings.icon:"",s=l.settings.image?" style=\"background-image: url('"+l.settings.image+"')\"":"",a="";return o&&(l.classes.add("btn-has-text"),a='<span class="'+f+'txt">'+l.encode(o)+"</span>"),'<div id="'+u+'" class="'+l.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+s+"></i>":"")+'<span id="'+u+'-preview" class="'+f+'preview"></span>'+a+'</button><button type="button" class="'+f+'open" hidefocus="1" tabindex="-1"> <i class="'+f+'caret"></i></button></div>'},postRender:function(){var l=this,u=l.settings.onclick;return l.on("click",function(f){f.aria&&"down"==f.aria.key||f.control==l&&!C.getParent(f.target,"."+l.classPrefix+"open")&&(f.stopImmediatePropagation(),u.call(l,f))}),delete l.settings.onclick,l._super()}})}),V("tinymce.core.ui.ColorPicker",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils","tinymce.core.util.Color"],function(T,S,C,c){"use strict";return T.extend({Defaults:{classes:"widget colorpicker"},init:function(u){this._super(u)},postRender:function(){var o,r,s,a,n,u=this,f=u.color();function p(h,b){var i,e,m=C.getPos(h);return i=b.pageX-m.x,e=b.pageY-m.y,{x:i=Math.max(0,Math.min(i/h.clientWidth,1)),y:e=Math.max(0,Math.min(e/h.clientHeight,1))}}function k(h,b){C.css(s,{top:(360-h.h)/360*100+"%"}),b||C.css(n,{left:h.s+"%",top:100-h.v+"%"}),a.style.background=new c({s:100,v:100,h:h.h}).toHex(),u.color().parse({s:h.s,v:h.v,h:h.h})}function x(h){var b;b=p(a,h),o.s=100*b.x,o.v=100*(1-b.y),k(o),u.fire("change")}function y(h){var b;b=p(r,h),(o=f.toHsv()).h=360*(1-b.y),k(o,!0),u.fire("change")}r=u.getEl("h"),s=u.getEl("hp"),a=u.getEl("sv"),n=u.getEl("svp"),u._repaint=function(){k(o=f.toHsv())},u._super(),u._svdraghelper=new S(u._id+"-sv",{start:x,drag:x}),u._hdraghelper=new S(u._id+"-h",{start:y,drag:y}),u._repaint()},rgb:function(){return this.color().toRgb()},value:function(u){var f=this;if(!arguments.length)return f.color().toHex();f.color().parse(u),f._rendered&&f._repaint()},color:function(){return this._color||(this._color=new c),this._color},renderHtml:function(){var r,u=this,f=u._id,o=u.classPrefix;return r='<div id="'+f+'-h" class="'+o+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+function a(){var p,k,y,h,x="";for(y="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",p=0,k=(h="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000".split(",")).length-1;p<k;p++)x+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/k+"%;"+y+h[p]+",endColorstr="+h[p+1]+");-ms-"+y+h[p]+",endColorstr="+h[p+1]+')"></div>';return x}()+'<div id="'+f+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+f+'" class="'+u.classes+'"><div id="'+f+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+f+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+r+"</div>"}})}),V("tinymce.core.ui.Path",["tinymce.core.ui.Widget"],function(T){"use strict";return T.extend({init:function(C){var c=this;C.delimiter||(C.delimiter="\xbb"),c._super(C),c.classes.add("path"),c.canFocus=!0,c.on("click",function(l){var u;(u=l.target.getAttribute("data-index"))&&c.fire("select",{value:c.row()[u],index:u})}),c.row(c.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(C){return arguments.length?(this.state.set("row",C),this):this.state.get("row")},renderHtml:function(){var C=this;return'<div id="'+C._id+'" class="'+C.classes+'">'+C._getDataPathHtml(C.state.get("row"))+"</div>"},bindStates:function(){var C=this;return C.state.on("change:row",function(c){C.innerHtml(C._getDataPathHtml(c.value))}),C._super()},_getDataPathHtml:function(C){var u,f,c=this,l=C||[],o="",r=c.classPrefix;for(u=0,f=l.length;u<f;u++)o+=(u>0?'<div class="'+r+'divider" aria-hidden="true"> '+c.settings.delimiter+" </div>":"")+'<div role="button" class="'+r+"path-item"+(u==f-1?" "+r+"last":"")+'" data-index="'+u+'" tabindex="-1" id="'+c._id+"-"+u+'" aria-level="'+(u+1)+'">'+l[u].name+"</div>";return o||(o='<div class="'+r+'path-item">\xa0</div>'),o}})}),V("tinymce.core.ui.ElementPath",["tinymce.core.ui.Path"],function(T){return T.extend({postRender:function(){var C=this,c=C.settings.editor;function l(u){return 1===u.nodeType&&("BR"==u.nodeName||!!u.getAttribute("data-mce-bogus")||"bookmark"===u.getAttribute("data-mce-type"))}return!1!==c.settings.elementpath&&(C.on("select",function(u){c.focus(),c.selection.select(this.row()[u.index].element),c.nodeChanged()}),c.on("nodeChange",function(u){for(var f=[],o=u.parents,r=o.length;r--;)if(1==o[r].nodeType&&!l(o[r])){var s=c.fire("ResolveName",{name:o[r].nodeName.toLowerCase(),target:o[r]});if(s.isDefaultPrevented()||f.push({name:s.name,element:o[r]}),s.isPropagationStopped())break}C.row(f)})),C._super()}})}),V("tinymce.core.ui.FormItem",["tinymce.core.ui.Container"],function(T){"use strict";return T.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var C=this,c=C._layout,l=C.classPrefix;return C.classes.add("formitem"),c.preRender(C),'<div id="'+C._id+'" class="'+C.classes+'" hidefocus="1" tabindex="-1">'+(C.settings.title?'<div id="'+C._id+'-title" class="'+l+'title">'+C.settings.title+"</div>":"")+'<div id="'+C._id+'-body" class="'+C.bodyClasses+'">'+(C.settings.html||"")+c.renderHtml(C)+"</div></div>"}})}),V("tinymce.core.ui.Form",["tinymce.core.ui.Container","tinymce.core.ui.FormItem","tinymce.core.util.Tools"],function(T,S,C){"use strict";return T.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var l=this,u=l.items();l.settings.formItemDefaults||(l.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),u.each(function(f){var o,r=f.settings.label;r&&((o=new S(C.extend({items:{type:"label",id:f._id+"-l",text:r,flex:0,forId:f._id,disabled:f.disabled()}},l.settings.formItemDefaults))).type="formitem",f.aria("labelledby",f._id+"-l"),void 0===f.settings.flex&&(f.settings.flex=1),l.replace(f,o),o.add(f))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var l=this;l._super(),l.fromJSON(l.settings.data)},bindStates:function(){var l=this;function u(){var r,s,f=0,o=[];if(!1!==l.settings.labelGapCalc)for(("children"==l.settings.labelGapCalc?l.find("formitem"):l.items()).filter("formitem").each(function(n){var p=n.items()[0],k=p.getEl().clientWidth;f=k>f?k:f,o.push(p)}),s=l.settings.labelGap||0,r=o.length;r--;)o[r].settings.minWidth=f+s}l._super(),l.on("show",u),u()}})}),V("tinymce.core.ui.FieldSet",["tinymce.core.ui.Form"],function(T){"use strict";return T.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var C=this,c=C._layout,l=C.classPrefix;return C.preRender(),c.preRender(C),'<fieldset id="'+C._id+'" class="'+C.classes+'" hidefocus="1" tabindex="-1">'+(C.settings.title?'<legend id="'+C._id+'-title" class="'+l+'fieldset-title">'+C.settings.title+"</legend>":"")+'<div id="'+C._id+'-body" class="'+C.bodyClasses+'">'+(C.settings.html||"")+c.renderHtml(C)+"</div></fieldset>"}})}),V("tinymce.core.content.LinkTargets",["tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(T,S,C,c,l,u){var f=l.trim,o=function(E,A,R,N,_){return{type:E,title:A,url:R,level:N,attach:_}},a=function(E){return E.innerText||E.textContent},k=function(E){return function(E){return E&&"A"===E.nodeName&&(E.id||E.name)}(E)&&y(E)},x=function(E){return E&&/^(H[1-6])$/.test(E.nodeName)},y=function(E){return function(E){for(;E=E.parentNode;){var A=E.contentEditable;if(A&&"inherit"!==A)return S.isContentEditableTrue(E)}return!1}(E)&&!S.isContentEditableFalse(E)},h=function(E){return x(E)&&y(E)},m=function(E){var A=function(E){return E.id?E.id:u.uuid("h")}(E);return o("header",a(E),"#"+A,function(E){return x(E)?parseInt(E.nodeName.substr(1),10):0}(E),function(){E.id=A})},i=function(E){var A=E.id||E.name,R=a(E);return o("anchor",R||"#"+A,"#"+A,0,c.noop)},t=function(E){return f(E.title).length>0};return{find:function(E){var A=function(E){return function(E,A){return T.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",A)}(0,E)}(E);return C.filter(function(E){return C.map(C.filter(E,h),m)}(A).concat(function(E){return C.map(C.filter(E,k),i)}(A)),t)}}}),V("tinymce.core.ui.FilePicker",["global!window","tinymce.core.content.LinkTargets","tinymce.core.EditorManager","tinymce.core.ui.ComboBox","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools"],function(T,S,C,c,l,u,f){"use strict";var r={},a=function(t){return{title:t.title,value:{title:{raw:t.title},url:t.url,attach:t.attach}}},p=function(t,g){return{title:t,value:{title:t,url:g,attach:u.noop}}},x=function(t,g,w){var E=g in t?t[g]:w;return!1===E?null:E},b=function(t,g){var w=t.toLowerCase(),E=f.grep(g,function(A){return-1!==A.title.toLowerCase().indexOf(w)});return 1===E.length&&E[0].title===t?[]:E},i=function(t,g,w,E){var A=function(N){var P=function(t,g,w,E){var D,U,L,A={title:"-"},R=function(D){var U=l.filter(D[w],function(L){return function(t,g){return!l.find(g,function(E){return E.url===t})}(L,g)});return f.map(U,function(L){return{title:L,value:{title:L,url:L,attach:u.noop}}})},N=function(D){return function(t){return f.map(t,a)}(l.filter(g,function(L){return L.type==D}))};return!1===E.typeahead_urls?[]:"file"===w?function(D){return l.reduce(D,function(U,L){return 0===U.length||0===L.length?U.concat(L):U.concat(A,L)},[])}([b(t,R(r)),b(t,N("header")),b(t,(D=N("anchor"),U=x(E,"anchor_top","#top"),L=x(E,"anchor_bottom","#bottom"),null!==U&&D.unshift(p("<top>",U)),null!==L&&D.push(p("<bottom>",L)),D))]):b(t,R(r))}(N,S.find(w),E,g);t.showAutoComplete(P,N)};t.on("autocomplete",function(){A(t.value())}),t.on("selectitem",function(R){var N=R.value;t.value(N.url);var _=function(t){var g=t.title;return g.raw?g.raw:g}(N);t.fire("change","image"===E?{meta:{alt:_,attach:N.attach}}:{meta:{text:_,attach:N.attach}}),t.focus()}),t.on("click",function(R){0===t.value().length&&"INPUT"===R.target.nodeName&&A("")}),t.on("PostRender",function(){t.getRoot().on("submit",function(R){R.isDefaultPrevented()||function(t,g){var w=r[g];!/^https?/.test(t)||(w?-1===l.indexOf(w,t)&&(r[g]=w.slice(0,5).concat(t)):r[g]=[t])}(t.value(),E)})})};return c.extend({init:function(t){var A,R,N,g=this,w=T.tinymce?T.tinymce.activeEditor:C.activeEditor,E=w.settings,_=t.filetype;t.spellcheck=!1,(N=E.file_picker_types||E.file_browser_callback_types)&&(N=f.makeMap(N,/[, ]/)),(!N||N[_])&&(!(R=E.file_picker_callback)||N&&!N[_]?(R=E.file_browser_callback)&&(!N||N[_])&&(A=function(){R(g.getEl("inp").id,g.value(),_,T)}):A=function(){var M=g.fire("beforecall").meta;M=f.extend({filetype:_},M),R.call(w,function(D,U){g.value(D).fire("change",{meta:U})},g.value(),M)}),A&&(t.icon="browse",t.onaction=A),g._super(t),i(g,E,w.getBody(),_),function(t,g,w){var E=g.filepicker_validator_handler;E&&t.state.on("change:value",function(R){var N;0!==(N=R.value).length?E({url:N,type:w},function(_){var P=function(t){var g=t.status,w=t.message;return"valid"===g?{status:"ok",message:w}:"unknown"===g||"invalid"===g?{status:"warn",message:w}:{status:"none",message:""}}(_);t.statusMessage(P.message),t.statusLevel(P.status)}):t.statusLevel("none")})}(g,E,_)}})}),V("tinymce.core.ui.FitLayout",["tinymce.core.ui.AbsoluteLayout"],function(T){"use strict";return T.extend({recalc:function(C){var c=C.layoutRect(),l=C.paddingBox;C.items().filter(":visible").each(function(u){u.layoutRect({x:l.left,y:l.top,w:c.innerW-l.right-l.left,h:c.innerH-l.top-l.bottom}),u.recalc&&u.recalc()})}})}),V("tinymce.core.ui.FlexLayout",["tinymce.core.ui.AbsoluteLayout"],function(T){"use strict";return T.extend({recalc:function(C){var c,l,u,f,o,r,s,a,n,p,k,x,y,h,m,e,d,v,t,g,w,E,A,R,N,_,P,M,D,U,L,B,I,F,q,G,ne,i=[],se=Math.max,de=Math.min;for(u=C.items().filter(":visible"),f=C.layoutRect(),o=C.paddingBox,r=C.settings,x=C.isRtl()?r.direction||"row-reversed":r.direction,s=r.align,a=C.isRtl()?r.pack||"end":r.pack,n=r.spacing||0,("row-reversed"==x||"column-reverse"==x)&&(u=u.set(u.toArray().reverse()),x=x.split("-")[0]),"column"==x?(R="y",E="h",A="minH",N="maxH",P="innerH",_="top",M="deltaH",D="contentH",F="left",B="w",U="x",L="innerW",I="minW",q="right",G="deltaW",ne="contentW"):(R="x",E="w",A="minW",N="maxW",P="innerW",_="left",M="deltaW",D="contentW",F="top",B="h",U="y",L="innerH",I="minH",q="bottom",G="deltaH",ne="contentH"),k=f[P]-o[_]-o[_],w=p=0,c=0,l=u.length;c<l;c++)h=(y=u[c]).layoutRect(),k-=c<l-1?n:0,(m=y.settings.flex)>0&&(p+=m,h[N]&&i.push(y),h.flex=m),k-=h[A],(e=o[F]+h[I]+o[q])>w&&(w=e);if((t={})[A]=k<0?f[A]-k+f[M]:f[P]-k+f[M],t[I]=w+f[G],t[D]=f[P]-k,t[ne]=w,t.minW=de(t.minW,f.maxW),t.minH=de(t.minH,f.maxH),t.minW=se(t.minW,f.startMinWidth),t.minH=se(t.minH,f.startMinHeight),!f.autoResize||t.minW==f.minW&&t.minH==f.minH){for(v=k/p,c=0,l=i.length;c<l;c++)(e=(h=(y=i[c]).layoutRect())[A]+h.flex*v)>(d=h[N])?(k-=h[N]-h[A],p-=h.flex,h.flex=0,h.maxFlexSize=d):h.maxFlexSize=0;for(v=k/p,g=o[_],t={},0===p&&("end"==a?g=k+o[_]:"center"==a?(g=Math.round(f[P]/2-(f[P]-k)/2)+o[_])<0&&(g=o[_]):"justify"==a&&(g=o[_],n=Math.floor(k/(u.length-1)))),t[U]=o[F],c=0,l=u.length;c<l;c++)e=(h=(y=u[c]).layoutRect()).maxFlexSize||h[A],"center"===s?t[U]=Math.round(f[L]/2-h[B]/2):"stretch"===s?(t[B]=se(h[I]||0,f[L]-o[F]-o[q]),t[U]=o[F]):"end"===s&&(t[U]=f[L]-h[B]-o.top),h.flex>0&&(e+=h.flex*v),t[E]=e,t[R]=g,y.layoutRect(t),y.recalc&&y.recalc(),g+=e+n}else if(t.w=t.minW,t.h=t.minH,C.layoutRect(t),this.recalc(C),null===C._lastRect){var ue=C.parent();ue&&(ue._lastRect=null,ue.recalc())}}})}),V("tinymce.core.ui.FlowLayout",["tinymce.core.ui.Layout"],function(T){return T.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(C){C.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})},isNative:function(){return!0}})}),V("tinymce.core.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(T,S,C,c,l){var s=function(n){return function(p,k){return S.from(k).map(C.fromDom).filter(c.isElement).bind(function(x){return function(n,p,k){for(;k!==p;){if(k.style[n]){var x=k.style[n];return""!==x?S.some(x):S.none()}k=k.parentNode}return S.none()}(n,p,x.dom()).or(function(n,p){return S.from(l.DOM.getStyle(p,n,!0))}(n,x.dom()))}).getOr("")}};return{getFontSize:s("fontSize"),getFontFamily:T.compose(function(n){return n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},s("fontFamily")),toPt:function(n){return/[0-9.]+px$/.test(n)?Math.round(72*parseInt(n,10)/96)+"pt":n}}}),V("tinymce.core.ui.FormatControls",["tinymce.core.ui.Control","tinymce.core.ui.Widget","tinymce.core.ui.FloatPanel","tinymce.core.util.Tools","tinymce.core.util.Arr","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.fmt.FontInfo"],function(T,S,C,c,l,u,f,o,r){var s=c.each;return f.on("AddEditor",function(x){var y=x.editor;(function p(x){x.on("ScriptsLoaded",function(){x.rtl&&(T.rtl=!0)})})(y),function k(x){var y;function h(P,M){return function(){var D=this;x.on("nodeChange",function(U){var L=x.formatter,B=null;s(U.parents,function(I){if(s(P,function(F){if(M?L.matchNode(I,M,{value:F.value})&&(B=F.value):L.matchNode(I,F.value)&&(B=F.value),B)return!1}),B)return!1}),D.value(B)})}}function m(P){return function(){var M=this;x.on("nodeChange",function(D){var U,L,B=null;U=r.getFontSize(x.getBody(),D.element),L=r.toPt(U),s(P,function(I){I.value===U?B=U:I.value===L&&(B=L)}),M.value(B),B||M.text(L)})}}function i(P){for(var M=(P=P.replace(/;$/,"").split(";")).length;M--;)P[M]=P[M].split("=");return P}function d(P){return function(){var M=this;x.formatter?x.formatter.formatChanged(P,function(D){M.active(D)}):x.on("init",function(){x.formatter.formatChanged(P,function(D){M.active(D)})})}}function v(P){return function(){var M=this;function D(){return!!x.undoManager&&x.undoManager["redo"==P?"hasRedo":"hasUndo"]()}M.disabled(!D()),x.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){M.disabled(x.readonly||!D())})}}y=function e(){var P=0,M=[],D=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function U(B){var I=[];if(B)return s(B,function(F){var q={text:F.title,icon:F.icon};if(F.items)q.menu=U(F.items);else{var G=F.format||"custom"+P++;F.format||(F.name=G,M.push(F)),q.format=G,q.cmd=F.cmd}I.push(q)}),I}return x.on("init",function(){s(M,function(B){x.formatter.register(B.name,B)})}),{type:"menu",items:function L(){return U(x.settings.style_formats_merge?x.settings.style_formats?D.concat(x.settings.style_formats):D:x.settings.style_formats||D)}(),onPostRender:function(I){x.fire("renderFormatsMenu",{control:I.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return x.formatter.getCssText(this.settings.format)},onPostRender:function(){var I=this;I.parent().on("show",function(){var F,q;(F=I.settings.format)&&(I.disabled(!x.formatter.canApply(F)),I.active(x.formatter.match(F))),(q=I.settings.cmd)&&I.active(x.queryCommandState(q))})},onclick:function(){this.settings.format&&R(this.settings.format),this.settings.cmd&&x.execCommand(this.settings.cmd)}}}}(),s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(P,M){x.addButton(M,{tooltip:P,onPostRender:d(M),onclick:function(){R(M)}})}),s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(P,M){x.addButton(M,{tooltip:P[0],cmd:P[1]})}),s({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(P,M){x.addButton(M,{tooltip:P[0],cmd:P[1],onPostRender:d(M)})});var w=function P(M){var D,U;if("string"==typeof M)U=M.split(" ");else if(c.isArray(M))return function(y){return l.reduce(y,function(h,b){return h.concat(b)},[])}(c.map(M,P));return D=c.grep(U,function(L){return"|"===L||L in x.menuItems}),c.map(D,function(L){return"|"===L?{text:"-"}:x.menuItems[L]})},A=function(M){return function(M){var D=M;return D.length>0&&"-"===D[0].text&&(D=D.slice(1)),D.length>0&&"-"===D[D.length-1].text&&(D=D.slice(0,D.length-1)),D}(M.insert_button_items?w(M.insert_button_items):function(M){var D=[{text:"-"}],U=c.grep(x.menuItems,function(L){return L.context===M});return c.each(U,function(L){"before"==L.separator&&D.push({text:"|"}),L.prependToContext?D.unshift(L):D.push(L),"after"==L.separator&&D.push({text:"|"})}),D}("insert"))};function R(P){P.control&&(P=P.control.value()),P&&x.execCommand("mceToggleFormat",!1,P)}function N(P){var M=P.length;return c.each(P,function(D){D.menu&&(D.hidden=0===N(D.menu));var U=D.format;U&&(D.hidden=!x.formatter.canApply(U)),D.hidden&&M--}),M}function _(P){var M=P.items().length;return P.items().each(function(D){D.menu&&D.visible(_(D.menu)>0),!D.menu&&D.settings.menu&&D.visible(N(D.settings.menu)>0);var U=D.settings.format;U&&D.visible(x.formatter.canApply(U)),D.visible()||M--}),M}x.addButton("undo",{tooltip:"Undo",onPostRender:v("undo"),cmd:"undo"}),x.addButton("redo",{tooltip:"Redo",onPostRender:v("redo"),cmd:"redo"}),x.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),x.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:v("undo"),cmd:"undo"}),x.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:v("redo"),cmd:"redo"}),x.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function t(){var P=this;x.on("VisualAid",function(M){P.active(M.hasVisual)}),P.active(x.hasVisual)},cmd:"mceToggleVisualAid"}),x.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),x.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(A(x.settings)),this.menu.renderNew()}}),s({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(P,M){x.addMenuItem(M,{text:P[0],icon:M,shortcut:P[2],cmd:P[1]})}),x.on("mousedown",function(){C.hideAll()}),x.addButton("styleselect",{type:"menubutton",text:"Formats",menu:y,onShowMenu:function(){x.settings.style_formats_autohide&&_(this.menu)}}),x.addButton("formatselect",function(){var P=[],M=i(x.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return s(M,function(D){P.push({text:D[0],value:D[1],textStyle:function(){return x.formatter.getCssText(D[1])}})}),{type:"listbox",text:M[0][0],values:P,fixedWidth:!0,onselect:R,onPostRender:h(P)}}),x.addButton("fontselect",function(){var P,M=[],D=i(x.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return s(D,function(U){M.push({text:{raw:U[0]},value:U[1],textStyle:-1==U[1].indexOf("dings")?"font-family:"+U[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:M,fixedWidth:!0,onPostRender:(P=M,function(){var M=this,D=function(L){return L?L.split(",")[0]:""};x.on("nodeChange",function(U){var L,B=null;L=r.getFontFamily(x.getBody(),U.element),s(P,function(I){I.value.toLowerCase()===L.toLowerCase()&&(B=I.value)}),s(P,function(I){!B&&D(I.value).toLowerCase()===D(L).toLowerCase()&&(B=I.value)}),M.value(B),!B&&L&&M.text(D(L))})}),onselect:function(L){L.control.settings.value&&x.execCommand("FontName",!1,L.control.settings.value)}}}),x.addButton("fontsizeselect",function(){var P=[];return s((x.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(U){var L=U,B=U,I=U.split("=");I.length>1&&(L=I[0],B=I[1]),P.push({text:L,value:B})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:P,fixedWidth:!0,onPostRender:m(P),onclick:function(L){L.control.settings.value&&x.execCommand("FontSize",!1,L.control.settings.value)}}}),x.addMenuItem("formats",{text:"Formats",menu:y})}(y),function n(x){x.settings.ui_container&&(o.container=u.DOM.select(x.settings.ui_container)[0])}(y)}),T.translate=function(x){return f.translate(x)},S.tooltips=!o.iOS,{}}),V("tinymce.core.ui.GridLayout",["tinymce.core.ui.AbsoluteLayout"],function(T){"use strict";return T.extend({recalc:function(C){var c,l,u,f,o,r,s,a,n,p,k,x,y,h,b,m,i,e,d,v,t,g,w,R,N,_,P,M,E=[],A=[];for((c=C.settings,f=C.items().filter(":visible"),o=C.layoutRect(),u=c.columns||Math.ceil(Math.sqrt(f.length)),l=Math.ceil(f.length/u),e=c.spacingH||c.spacing||0,d=c.spacingV||c.spacing||0,v=c.alignH||c.align,t=c.alignV||c.align,m=C.paddingBox,M="reverseRows"in c?c.reverseRows:C.isRtl(),v&&"string"==typeof v&&(v=[v]),t&&"string"==typeof t&&(t=[t]),k=0);k<u;k++)E.push(0);for(x=0;x<l;x++)A.push(0);for(x=0;x<l;x++)for(k=0;k<u&&(p=f[x*u+k]);k++)N=(n=p.layoutRect()).minH,E[k]=(R=n.minW)>E[k]?R:E[k],A[x]=N>A[x]?N:A[x];for(_=o.innerW-m.left-m.right,g=0,k=0;k<u;k++)g+=E[k]+(k>0?e:0),_-=(k>0?e:0)+E[k];for(P=o.innerH-m.top-m.bottom,w=0,x=0;x<l;x++)w+=A[x]+(x>0?d:0),P-=(x>0?d:0)+A[x];if(w+=m.top+m.bottom,(a={}).minW=(g+=m.left+m.right)+(o.w-o.innerW),a.minH=w+(o.h-o.innerH),a.contentW=a.minW-o.deltaW,a.contentH=a.minH-o.deltaH,a.minW=Math.min(a.minW,o.maxW),a.minH=Math.min(a.minH,o.maxH),a.minW=Math.max(a.minW,o.startMinWidth),a.minH=Math.max(a.minH,o.startMinHeight),!o.autoResize||a.minW==o.minW&&a.minH==o.minH){var L;o.autoResize&&((a=C.layoutRect(a)).contentW=a.minW-o.deltaW,a.contentH=a.minH-o.deltaH),L="start"==c.packV?0:P>0?Math.floor(P/l):0;var B=0,I=c.flexWidths;if(I)for(k=0;k<I.length;k++)B+=I[k];else B=u;var F=_/B;for(k=0;k<u;k++)E[k]+=I?I[k]*F:F;for(h=m.top,x=0;x<l;x++){for(y=m.left,s=A[x]+L,k=0;k<u&&(p=f[M?x*u+u-1-k:x*u+k]);k++)b=p.settings,n=p.layoutRect(),r=Math.max(E[k],n.startMinWidth),n.x=y,n.y=h,"center"==(i=b.alignH||(v?v[k]||v[0]:null))?n.x=y+r/2-n.w/2:"right"==i?n.x=y+r-n.w:"stretch"==i&&(n.w=r),"center"==(i=b.alignV||(t?t[k]||t[0]:null))?n.y=h+s/2-n.h/2:"bottom"==i?n.y=h+s-n.h:"stretch"==i&&(n.h=s),p.layoutRect(n),y+=r+e,p.recalc&&p.recalc();h+=s+d}}else if(a.w=a.minW,a.h=a.minH,C.layoutRect(a),this.recalc(C),null===C._lastRect){var U=C.parent();U&&(U._lastRect=null,U.recalc())}}})}),V("tinymce.core.ui.Iframe",["tinymce.core.ui.Widget","tinymce.core.util.Delay"],function(T,S){"use strict";return T.extend({renderHtml:function(){var c=this;return c.classes.add("iframe"),c.canFocus=!1,'<iframe id="'+c._id+'" class="'+c.classes+'" tabindex="-1" src="'+(c.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(c){this.getEl().src=c},html:function(c,l){var u=this,f=this.getEl().contentWindow.document.body;return f?(f.innerHTML=c,l&&l()):S.setTimeout(function(){u.html(c)}),this}})}),V("tinymce.core.ui.InfoBox",["tinymce.core.ui.Widget"],function(T){"use strict";return T.extend({init:function(C){var c=this;c._super(C),c.classes.add("widget").add("infobox"),c.canFocus=!1},severity:function(C){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(C)},help:function(C){this.state.set("help",C)},renderHtml:function(){var C=this,c=C.classPrefix;return'<div id="'+C._id+'" class="'+C.classes+'"><div id="'+C._id+'-body">'+C.encode(C.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+c+"ico "+c+'i-help"></i></button></div></div>'},bindStates:function(){var C=this;return C.state.on("change:text",function(c){C.getEl("body").firstChild.data=C.encode(c.value),C.state.get("rendered")&&C.updateLayoutRect()}),C.state.on("change:help",function(c){C.classes.toggle("has-help",c.value),C.state.get("rendered")&&C.updateLayoutRect()}),C._super()}})}),V("tinymce.core.ui.Label",["tinymce.core.ui.Widget","tinymce.core.ui.DomUtils"],function(T,S){"use strict";return T.extend({init:function(c){var l=this;l._super(c),l.classes.add("widget").add("label"),l.canFocus=!1,c.multiline&&l.classes.add("autoscroll"),c.strong&&l.classes.add("strong")},initLayoutRect:function(){var c=this,l=c._super();return c.settings.multiline&&(S.getSize(c.getEl()).width>l.maxW&&(l.minW=l.maxW,c.classes.add("multiline")),c.getEl().style.width=l.minW+"px",l.startMinH=l.h=l.minH=Math.min(l.maxH,S.getSize(c.getEl()).height)),l},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},severity:function(c){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(c)},renderHtml:function(){var l,u,c=this,f=c.settings.forId,o=c.settings.html?c.settings.html:c.encode(c.state.get("text"));return!f&&(u=c.settings.forName)&&(l=c.getRoot().find("#"+u)[0])&&(f=l._id),f?'<label id="'+c._id+'" class="'+c.classes+'"'+(f?' for="'+f+'"':"")+">"+o+"</label>":'<span id="'+c._id+'" class="'+c.classes+'">'+o+"</span>"},bindStates:function(){var c=this;return c.state.on("change:text",function(l){c.innerHtml(c.encode(l.value)),c.state.get("rendered")&&c.updateLayoutRect()}),c._super()}})}),V("tinymce.core.ui.Toolbar",["tinymce.core.ui.Container"],function(T){"use strict";return T.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(C){this._super(C),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(c){c.classes.add("toolbar-item")}),this._super()}})}),V("tinymce.core.ui.MenuBar",["tinymce.core.ui.Toolbar"],function(T){"use strict";return T.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),V("tinymce.core.ui.MenuButton",["tinymce.core.ui.Button","tinymce.core.ui.Factory","tinymce.core.ui.MenuBar"],function(T,S,C){"use strict";var l=T.extend({init:function(f){var o=this;o._renderOpen=!0,o._super(f),f=o.settings,o.classes.add("menubtn"),f.fixedWidth&&o.classes.add("fixed-width"),o.aria("haspopup",!0),o.state.set("menu",f.menu||o.render())},showMenu:function(f){var r,o=this;if(o.menu&&o.menu.visible()&&!1!==f)return o.hideMenu();o.menu||((r=o.state.get("menu")||[]).length?r={type:"menu",items:r}:r.type=r.type||"menu",o.menu=r.renderTo?r.parent(o).show().renderTo():S.create(r).parent(o).renderTo(),o.fire("createmenu"),o.menu.reflow(),o.menu.on("cancel",function(s){s.control.parent()===o.menu&&(s.stopPropagation(),o.focus(),o.hideMenu())}),o.menu.on("select",function(){o.focus()}),o.menu.on("show hide",function(s){s.control==o.menu&&o.activeMenu("show"==s.type),o.aria("expanded","show"==s.type)}).fire("show")),o.menu.show(),o.menu.layoutRect({w:o.layoutRect().w}),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),o.fire("showmenu")},hideMenu:function(){var f=this;f.menu&&(f.menu.items().each(function(o){o.hideMenu&&o.hideMenu()}),f.menu.hide())},activeMenu:function(f){this.classes.toggle("active",f)},renderHtml:function(){var a,f=this,o=f._id,r=f.classPrefix,s=f.settings.icon,n=f.state.get("text"),p="";return(a=f.settings.image)?(s="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",n&&(f.classes.add("btn-has-text"),p='<span class="'+r+'txt">'+f.encode(n)+"</span>"),s=f.settings.icon?r+"ico "+r+"i-"+s:"",f.aria("role",f.parent()instanceof C?"menuitem":"button"),'<div id="'+o+'" class="'+f.classes+'" tabindex="-1" aria-labelledby="'+o+'"><button id="'+o+'-open" role="presentation" type="button" tabindex="-1">'+(s?'<i class="'+s+'"'+a+"></i>":"")+p+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var f=this;return f.on("click",function(o){o.control===f&&function c(u,f){for(;u;){if(f===u)return!0;u=u.parentNode}return!1}(o.target,f.getEl())&&(f.focus(),f.showMenu(!o.aria),o.aria&&f.menu.items().filter(":visible")[0].focus())}),f.on("mouseenter",function(o){var a,r=o.control,s=f.parent();r&&s&&r instanceof l&&r.parent()==s&&(s.items().filter("MenuButton").each(function(n){n.hideMenu&&n!=r&&(n.menu&&n.menu.visible()&&(a=!0),n.hideMenu())}),a&&(r.focus(),r.showMenu()))}),f._super()},bindStates:function(){var f=this;return f.state.on("change:menu",function(){f.menu&&f.menu.remove(),f.menu=null}),f._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return l}),V("tinymce.core.ui.MenuItem",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(T,S,C,c){"use strict";return T.extend({Defaults:{border:0,role:"menuitem"},init:function(u){var o,f=this;f._super(u),u=f.settings,f.classes.add("menu-item"),u.menu&&f.classes.add("menu-item-expand"),u.preview&&f.classes.add("menu-item-preview"),("-"===(o=f.state.get("text"))||"|"===o)&&(f.classes.add("menu-item-sep"),f.aria("role","separator"),f.state.set("text","-")),u.selectable&&(f.aria("role","menuitemcheckbox"),f.classes.add("menu-item-checkbox"),u.icon="selected"),!u.preview&&!u.selectable&&f.classes.add("menu-item-normal"),f.on("mousedown",function(r){r.preventDefault()}),u.menu&&!u.ariaHideMenu&&f.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var o,u=this,f=u.settings,r=u.parent();if(r.items().each(function(a){a!==u&&a.hideMenu()}),f.menu){(o=u.menu)?o.show():((o=f.menu).length?o={type:"menu",items:o}:o.type=o.type||"menu",r.settings.itemDefaults&&(o.itemDefaults=r.settings.itemDefaults),(o=u.menu=S.create(o).parent(u).renderTo()).reflow(),o.on("cancel",function(a){a.stopPropagation(),u.focus(),o.hide()}),o.on("show hide",function(a){a.control.items&&a.control.items().each(function(n){n.active(n.settings.selected)})}).fire("show"),o.on("hide",function(a){a.control===o&&u.classes.remove("selected")}),o.submenu=!0),o._parentMenu=r,o.classes.add("menu-sub");var s=o.testMoveRel(u.getEl(),u.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);o.moveRel(u.getEl(),s),o.rel=s,s="menu-sub-"+s,o.classes.remove(o._lastRel).add(s),o._lastRel=s,u.classes.add("selected"),u.aria("expanded",!0)}},hideMenu:function(){var u=this;return u.menu&&(u.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),u.menu.hide(),u.aria("expanded",!1)),u},renderHtml:function(){var x,u=this,f=u._id,o=u.settings,r=u.classPrefix,s=u.state.get("text"),a=u.settings.icon,n="",p=o.shortcut,k=u.encode(o.url);function h(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(i){var e=o.match||"";return e?i.replace(new RegExp(h(e),"gi"),function(d){return"!mce~match["+d+"]mce~match!"}):i}function m(i){return i.replace(new RegExp(h("!mce~match["),"g"),"<b>").replace(new RegExp(h("]mce~match!"),"g"),"</b>")}return a&&u.parent().classes.add("menu-has-icons"),o.image&&(n=" style=\"background-image: url('"+o.image+"')\""),p&&(p=function y(i){var e,d,v;for(v=C.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},i=i.split("+"),e=0;e<i.length;e++)(d=v[i[e].toLowerCase()])&&(i[e]=d);return i.join("+")}(p)),a=r+"ico "+r+"i-"+(u.settings.icon||"none"),x="-"!==s?'<i class="'+a+'"'+n+"></i>\xa0":"",s=m(u.encode(b(s))),k=m(u.encode(b(k))),'<div id="'+f+'" class="'+u.classes+'" tabindex="-1">'+x+("-"!==s?'<span id="'+f+'-text" class="'+r+'text">'+s+"</span>":"")+(p?'<div id="'+f+'-shortcut" class="'+r+'menu-shortcut">'+p+"</div>":"")+(o.menu?'<div class="'+r+'caret"></div>':"")+(k?'<div class="'+r+'menu-item-link">'+k+"</div>":"")+"</div>"},postRender:function(){var u=this,f=u.settings,o=f.textStyle;if("function"==typeof o&&(o=o.call(this)),o){var r=u.getEl("text");r&&r.setAttribute("style",o)}return u.on("mouseenter click",function(s){s.control===u&&(f.menu||"click"!==s.type?(u.showMenu(),s.aria&&u.menu.focus(!0)):(u.fire("select"),c.requestAnimationFrame(function(){u.parent().hideAll()})))}),u._super(),u},hover:function(){var u=this;return u.parent().items().each(function(f){f.classes.remove("selected")}),u.classes.toggle("selected",!0),u},active:function(u){return void 0!==u&&this.aria("checked",u),this._super(u)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),V("tinymce.core.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.core.ui.Control","tinymce.core.util.Delay"],function(T,S,C){"use strict";return function(c,l){var f,r,u=this,o=S.classPrefix;u.show=function(s,a){function n(){f&&(T(c).append('<div class="'+o+"throbber"+(l?" "+o+"throbber-inline":"")+'"></div>'),a&&a())}return u.hide(),f=!0,s?r=C.setTimeout(n,s):n(),u},u.hide=function(){var s=c.lastChild;return C.clearTimeout(r),s&&-1!=s.className.indexOf("throbber")&&s.parentNode.removeChild(s),f=!1,u}}}),V("tinymce.core.ui.Menu",["tinymce.core.ui.FloatPanel","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.util.Tools"],function(T,S,C,c){"use strict";return T.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(u){if(u.autohide=!0,u.constrainToViewport=!0,"function"==typeof u.items&&(u.itemsFactory=u.items,u.items=[]),u.itemDefaults)for(var o=u.items,r=o.length;r--;)o[r]=c.extend({},u.itemDefaults,o[r]);this._super(u),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var f,u=this;function r(){u.throbber&&(u.throbber.hide(),u.throbber=null)}u.settings.itemsFactory&&(u.throbber||(u.throbber=new C(u.getEl("body"),!0),0===u.items().length?(u.throbber.show(),u.fire("loading")):u.throbber.show(100,function(){u.items().remove(),u.fire("loading")}),u.on("hide close",r)),u.requestTime=f=(new Date).getTime(),u.settings.itemsFactory(function(s){0!==s.length?u.requestTime===f&&(u.getEl().style.width="",u.getEl("body").style.width="",r(),u.items().remove(),u.getEl("body").innerHTML="",u.add(s),u.renderNew(),u.fire("loaded")):u.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var u=this;return u.items().each(function(f){var o=f.settings;if(o.icon||o.image||o.selectable)return u._hasIcons=!0,!1}),u.settings.itemsFactory&&u.on("postrender",function(){u.settings.itemsFactory&&u.load()}),u._super()}})}),V("tinymce.core.ui.ListBox",["tinymce.core.ui.MenuButton","tinymce.core.ui.Menu"],function(T,S){"use strict";return T.extend({init:function(c){var u,f,o,r,l=this;l._super(c),l._values=u=(c=l.settings).values,u&&(void 0!==c.value&&function s(a){for(var n=0;n<a.length;n++){if(f=a[n].selected||c.value===a[n].value)return o=o||a[n].text,l.state.set("value",a[n].value),!0;if(a[n].menu&&s(a[n].menu))return!0}}(u),!f&&u.length>0&&(o=u[0].text,l.state.set("value",u[0].value)),l.state.set("menu",u)),l.state.set("text",c.text||o),l.classes.add("listbox"),l.on("select",function(a){var n=a.control;r&&(a.lastControl=r),c.multiple?n.active(!n.active()):l.value(a.control.value()),r=n})},bindStates:function(){var c=this;function u(f,o){var r;if(f)for(var s=0;s<f.length;s++){if(f[s].value===o)return f[s];if(f[s].menu&&(r=u(f[s].menu,o)))return r}}return c.on("show",function(f){!function l(f,o){f instanceof S&&f.items().each(function(r){r.hasMenus()||r.active(r.value()===o)})}(f.control,c.value())}),c.state.on("change:value",function(f){var o=u(c.state.get("menu"),f.value);c.text(o?o.text:c.settings.text)}),c._super()}})}),V("tinymce.core.ui.Radio",["tinymce.core.ui.Checkbox"],function(T){"use strict";return T.extend({Defaults:{classes:"radio",role:"radio"}})}),V("tinymce.core.ui.ResizeHandle",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper"],function(T,S){"use strict";return T.extend({renderHtml:function(){var c=this,l=c.classPrefix;return c.classes.add("resizehandle"),"both"==c.settings.direction&&c.classes.add("resizehandle-both"),c.canFocus=!1,'<div id="'+c._id+'" class="'+c.classes+'"><i class="'+l+"ico "+l+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new S(this._id,{start:function(){c.fire("ResizeStart")},drag:function(u){"both"!=c.settings.direction&&(u.deltaX=0),c.fire("Resize",u)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),V("tinymce.core.ui.SelectBox",["tinymce.core.ui.Widget"],function(T){"use strict";function S(C){var c="";if(C)for(var l=0;l<C.length;l++)c+='<option value="'+C[l]+'">'+C[l]+"</option>";return c}return T.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(c){var l=this;l._super(c),l.settings.size&&(l.size=l.settings.size),l.settings.options&&(l._options=l.settings.options),l.on("keydown",function(u){var f;13==u.keyCode&&(u.preventDefault(),l.parents().reverse().each(function(o){if(o.toJSON)return f=o,!1}),l.fire("submit",{data:f.toJSON()}))})},options:function(c){return arguments.length?(this.state.set("options",c),this):this.state.get("options")},renderHtml:function(){var l,c=this,u="";return l=S(c._options),c.size&&(u=' size = "'+c.size+'"'),'<select id="'+c._id+'" class="'+c.classes+'"'+u+">"+l+"</select>"},bindStates:function(){var c=this;return c.state.on("change:options",function(l){c.getEl().innerHTML=S(l.value)}),c._super()}})}),V("tinymce.core.ui.Slider",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils"],function(T,S,C){"use strict";function c(f,o,r){return f<o&&(f=o),f>r&&(f=r),f}function l(f,o,r){f.setAttribute("aria-"+o,r)}function u(f,o){var r,s,a,n,k;"v"==f.settings.orientation?(n="top",a="height",s="h"):(n="left",a="width",s="w"),k=f.getEl("handle"),r=(f.layoutRect()[s]||100)-C.getSize(k)[a],k.style[n]=r*((o-f._minValue)/(f._maxValue-f._minValue))+"px",k.style.height=f.layoutRect().h+"px",l(k,"valuenow",o),l(k,"valuetext",""+f.settings.previewFilter(o)),l(k,"valuemin",f._minValue),l(k,"valuemax",f._maxValue)}return T.extend({init:function(o){var r=this;o.previewFilter||(o.previewFilter=function(s){return Math.round(100*s)/100}),r._super(o),r.classes.add("slider"),"v"==o.orientation&&r.classes.add("vertical"),r._minValue=o.minValue||0,r._maxValue=o.maxValue||100,r._initValue=r.state.get("value")},renderHtml:function(){var o=this,r=o._id;return'<div id="'+r+'" class="'+o.classes+'"><div id="'+r+'-handle" class="'+o.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var r,s,a,n,p,k,o=this;r=o._minValue,s=o._maxValue,"v"==o.settings.orientation?(a="screenY",n="top",p="height",k="h"):(a="screenX",n="left",p="width",k="w"),o._super(),function h(m,i){function e(d){var v;v=o.value(),v=function y(m,i,e){return e*(i-m)-m}(m,i,function x(m,i,e){return(e+m)/(i-m)}(m,i,v)+.05*d),v=c(v,m,i),o.value(v),o.fire("dragstart",{value:v}),o.fire("drag",{value:v}),o.fire("dragend",{value:v})}o.on("keydown",function(d){switch(d.keyCode){case 37:case 38:e(-1);break;case 39:case 40:e(1)}})}(r,s,o.getEl("handle")),function b(m,i,e){var d,v,t,g,w;o._dragHelper=new S(o._id,{handle:o._id+"-handle",start:function(A){d=A[a],v=parseInt(o.getEl("handle").style[n],10),t=(o.layoutRect()[k]||100)-C.getSize(e)[p],o.fire("dragstart",{value:w})},drag:function(A){g=c(v+(A[a]-d),0,t),e.style[n]=g+"px",o.value(w=m+g/t*(i-m)),o.tooltip().text(""+o.settings.previewFilter(w)).show().moveRel(e,"bc tc"),o.fire("drag",{value:w})},stop:function(){o.tooltip().hide(),o.fire("dragend",{value:w})}})}(r,s,o.getEl("handle"))},repaint:function(){this._super(),u(this,this.value())},bindStates:function(){var o=this;return o.state.on("change:value",function(r){u(o,r.value)}),o._super()}})}),V("tinymce.core.ui.Spacer",["tinymce.core.ui.Widget"],function(T){"use strict";return T.extend({renderHtml:function(){var C=this;return C.classes.add("spacer"),C.canFocus=!1,'<div id="'+C._id+'" class="'+C.classes+'"></div>'}})}),V("tinymce.core.ui.SplitButton",["tinymce.core.ui.MenuButton","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery"],function(T,S,C){return T.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var r,l=this,u=l.getEl(),f=l.layoutRect();return l._super(),r=u.lastChild,C(u.firstChild).css({width:f.w-S.getSize(r).width,height:f.h-2}),C(r).css({height:f.h-2}),l},activeMenu:function(l){C(this.getEl().lastChild).toggleClass(this.classPrefix+"active",l)},renderHtml:function(){var o,l=this,u=l._id,f=l.classPrefix,r=l.state.get("icon"),s=l.state.get("text"),a="";return(o=l.settings.image)?(r="none","string"!=typeof o&&(o=window.getSelection?o[0]:o[1]),o=" style=\"background-image: url('"+o+"')\""):o="",r=l.settings.icon?f+"ico "+f+"i-"+r:"",s&&(l.classes.add("btn-has-text"),a='<span class="'+f+'txt">'+l.encode(s)+"</span>"),'<div id="'+u+'" class="'+l.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+a+'</button><button type="button" class="'+f+'open" hidefocus="1" tabindex="-1">'+(l._menuBtnText?(r?"\xa0":"")+l._menuBtnText:"")+' <i class="'+f+'caret"></i></button></div>'},postRender:function(){var l=this,u=l.settings.onclick;return l.on("click",function(f){var o=f.target;if(f.control==this)for(;o;){if(f.aria&&"down"!=f.aria.key||"BUTTON"==o.nodeName&&-1==o.className.indexOf("open"))return f.stopImmediatePropagation(),void(u&&u.call(this,f));o=o.parentNode}}),delete l.settings.onclick,l._super()}})}),V("tinymce.core.ui.StackLayout",["tinymce.core.ui.FlowLayout"],function(T){"use strict";return T.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),V("tinymce.core.ui.TabPanel",["tinymce.core.ui.Panel","tinymce.core.dom.DomQuery","tinymce.core.ui.DomUtils"],function(T,S,C){"use strict";return T.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(l){var u;this.activeTabId&&(u=this.getEl(this.activeTabId),S(u).removeClass(this.classPrefix+"active"),u.setAttribute("aria-selected","false")),this.activeTabId="t"+l,(u=this.getEl("t"+l)).setAttribute("aria-selected","true"),S(u).addClass(this.classPrefix+"active"),this.items()[l].show().fire("showtab"),this.reflow(),this.items().each(function(f,o){l!=o&&f.hide()})},renderHtml:function(){var l=this,u=l._layout,f="",o=l.classPrefix;return l.preRender(),u.preRender(l),l.items().each(function(r,s){var a=l._id+"-t"+s;r.aria("role","tabpanel"),r.aria("labelledby",a),f+='<div id="'+a+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+r._id+'" aria-selected="false" tabIndex="-1">'+l.encode(r.settings.title)+"</div>"}),'<div id="'+l._id+'" class="'+l.classes+'" hidefocus="1" tabindex="-1"><div id="'+l._id+'-head" class="'+o+'tabs" role="tablist">'+f+'</div><div id="'+l._id+'-body" class="'+l.bodyClasses+'">'+u.renderHtml(l)+"</div></div>"},postRender:function(){var l=this;l._super(),l.settings.activeTab=l.settings.activeTab||0,l.activateTab(l.settings.activeTab),this.on("click",function(u){var f=u.target.parentNode;if(f&&f.id==l._id+"-head")for(var o=f.childNodes.length;o--;)f.childNodes[o]==u.target&&l.activateTab(o)})},initLayoutRect:function(){var u,f,o,l=this;f=(f=C.getSize(l.getEl("head")).width)<0?0:f,o=0,l.items().each(function(s){f=Math.max(f,s.layoutRect().minW),o=Math.max(o,s.layoutRect().minH)}),l.items().each(function(s){s.settings.x=0,s.settings.y=0,s.settings.w=f,s.settings.h=o,s.layoutRect({x:0,y:0,w:f,h:o})});var r=C.getSize(l.getEl("head")).height;return l.settings.minWidth=f,l.settings.minHeight=o+r,(u=l._super()).deltaH+=r,u.innerH=u.h-u.deltaH,u}})}),V("tinymce.core.ui.TextBox",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils"],function(T,S,C){return T.extend({init:function(l){var u=this;u._super(l),u.classes.add("textbox"),l.multiline?u.classes.add("multiline"):(u.on("keydown",function(f){var o;13==f.keyCode&&(f.preventDefault(),u.parents().reverse().each(function(r){if(r.toJSON)return o=r,!1}),u.fire("submit",{data:o.toJSON()}))}),u.on("keyup",function(f){u.state.set("value",f.target.value)}))},repaint:function(){var u,f,o,r,a,l=this,s=0;u=l.getEl().style,f=l._layoutRect,a=l._lastRepaintRect||{};var n=document;return!l.settings.multiline&&n.all&&(!n.documentMode||n.documentMode<=8)&&(u.lineHeight=f.h-s+"px"),r=(o=l.borderBox).left+o.right+8,s=o.top+o.bottom+(l.settings.multiline?8:0),f.x!==a.x&&(u.left=f.x+"px",a.x=f.x),f.y!==a.y&&(u.top=f.y+"px",a.y=f.y),f.w!==a.w&&(u.width=f.w-r+"px",a.w=f.w),f.h!==a.h&&(u.height=f.h-s+"px",a.h=f.h),l._lastRepaintRect=a,l.fire("repaint",{},!1),l},renderHtml:function(){var f,o,l=this,u=l.settings;return f={id:l._id,hidefocus:"1"},S.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(r){f[r]=u[r]}),l.disabled()&&(f.disabled="disabled"),u.subtype&&(f.type=u.subtype),(o=C.create(u.multiline?"textarea":"input",f)).value=l.state.get("value"),o.className=l.classes,o.outerHTML},value:function(l){return arguments.length?(this.state.set("value",l),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var l=this;l.getEl().value=l.state.get("value"),l._super(),l.$el.on("change",function(u){l.state.set("value",u.target.value),l.fire("change",u)})},bindStates:function(){var l=this;return l.state.on("change:value",function(u){l.getEl().value!=u.value&&(l.getEl().value=u.value)}),l.state.on("change:disabled",function(u){l.getEl().disabled=u.value}),l._super()},remove:function(){this.$el.off(),this._super()}})}),V("tinymce.core.ui.Api",["tinymce.core.ui.Selector","tinymce.core.ui.Collection","tinymce.core.ui.ReflowQueue","tinymce.core.ui.Control","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.ui.Container","tinymce.core.ui.DragHelper","tinymce.core.ui.Scrollable","tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.FloatPanel","tinymce.core.ui.Window","tinymce.core.ui.MessageBox","tinymce.core.ui.Tooltip","tinymce.core.ui.Widget","tinymce.core.ui.Progress","tinymce.core.ui.Notification","tinymce.core.ui.Layout","tinymce.core.ui.AbsoluteLayout","tinymce.core.ui.Button","tinymce.core.ui.ButtonGroup","tinymce.core.ui.Checkbox","tinymce.core.ui.ComboBox","tinymce.core.ui.ColorBox","tinymce.core.ui.PanelButton","tinymce.core.ui.ColorButton","tinymce.core.ui.ColorPicker","tinymce.core.ui.Path","tinymce.core.ui.ElementPath","tinymce.core.ui.FormItem","tinymce.core.ui.Form","tinymce.core.ui.FieldSet","tinymce.core.ui.FilePicker","tinymce.core.ui.FitLayout","tinymce.core.ui.FlexLayout","tinymce.core.ui.FlowLayout","tinymce.core.ui.FormatControls","tinymce.core.ui.GridLayout","tinymce.core.ui.Iframe","tinymce.core.ui.InfoBox","tinymce.core.ui.Label","tinymce.core.ui.Toolbar","tinymce.core.ui.MenuBar","tinymce.core.ui.MenuButton","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.ui.Menu","tinymce.core.ui.ListBox","tinymce.core.ui.Radio","tinymce.core.ui.ResizeHandle","tinymce.core.ui.SelectBox","tinymce.core.ui.Slider","tinymce.core.ui.Spacer","tinymce.core.ui.SplitButton","tinymce.core.ui.StackLayout","tinymce.core.ui.TabPanel","tinymce.core.ui.TextBox"],function(T,S,C,c,l,u,f,o,r,s,a,n,p,k,x,y,h,b,m,i,e,d,v,t,g,w,E,A,R,N,_,P,M,D,U,L,B,I,F,q,G,ne,se,de,ue,Se,me,X,Z,$,J,re,ye,we,ae,oe,te,Te,xe){"use strict";var ve=function(K,fe,Ee){var Ne,Ie;for(Ie=fe.split(/[.\/]/),Ne=0;Ne<Ie.length-1;++Ne)void 0===K[Ie[Ne]]&&(K[Ie[Ne]]={}),K=K[Ie[Ne]];K[Ie[Ie.length-1]]=Ee,function(K,fe){l.add(K.split(".").pop(),fe)}(fe,Ee)},Ue={appendTo:function(K){ve(K,"ui.Selector",T),ve(K,"ui.Collection",S),ve(K,"ui.ReflowQueue",C),ve(K,"ui.Control",c),ve(K,"ui.Factory",l),ve(K,"ui.KeyboardNavigation",u),ve(K,"ui.Container",f),ve(K,"ui.DragHelper",o),ve(K,"ui.Scrollable",r),ve(K,"ui.Panel",s),ve(K,"ui.Movable",a),ve(K,"ui.Resizable",n),ve(K,"ui.FloatPanel",p),ve(K,"ui.Window",k),ve(K,"ui.MessageBox",x),ve(K,"ui.Tooltip",y),ve(K,"ui.Widget",h),ve(K,"ui.Progress",b),ve(K,"ui.Notification",m),ve(K,"ui.Layout",i),ve(K,"ui.AbsoluteLayout",e),ve(K,"ui.Button",d),ve(K,"ui.ButtonGroup",v),ve(K,"ui.Checkbox",t),ve(K,"ui.ComboBox",g),ve(K,"ui.ColorBox",w),ve(K,"ui.PanelButton",E),ve(K,"ui.ColorButton",A),ve(K,"ui.ColorPicker",R),ve(K,"ui.Path",N),ve(K,"ui.ElementPath",_),ve(K,"ui.FormItem",P),ve(K,"ui.Form",M),ve(K,"ui.FieldSet",D),ve(K,"ui.FilePicker",U),ve(K,"ui.FitLayout",L),ve(K,"ui.FlexLayout",B),ve(K,"ui.FlowLayout",I),ve(K,"ui.FormatControls",F),ve(K,"ui.GridLayout",q),ve(K,"ui.Iframe",G),ve(K,"ui.InfoBox",ne),ve(K,"ui.Label",se),ve(K,"ui.Toolbar",de),ve(K,"ui.MenuBar",ue),ve(K,"ui.MenuButton",Se),ve(K,"ui.MenuItem",me),ve(K,"ui.Throbber",X),ve(K,"ui.Menu",Z),ve(K,"ui.ListBox",$),ve(K,"ui.Radio",J),ve(K,"ui.ResizeHandle",re),ve(K,"ui.SelectBox",ye),ve(K,"ui.Slider",we),ve(K,"ui.Spacer",ae),ve(K,"ui.SplitButton",oe),ve(K,"ui.StackLayout",te),ve(K,"ui.TabPanel",Te),ve(K,"ui.TextBox",xe),ve(K,"ui.Api",Ue)}};return Ue}),V("tinymce.core.api.Tinymce",["tinymce.core.geom.Rect","tinymce.core.util.Promise","tinymce.core.util.Delay","tinymce.core.Env","tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.html.Styles","tinymce.core.dom.TreeWalker","tinymce.core.html.Entities","tinymce.core.dom.DOMUtils","tinymce.core.dom.ScriptLoader","tinymce.core.AddOnManager","tinymce.core.dom.RangeUtils","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.html.DomParser","tinymce.core.html.Writer","tinymce.core.html.Serializer","tinymce.core.dom.Serializer","tinymce.core.util.VK","tinymce.core.dom.ControlSelection","tinymce.core.dom.BookmarkManager","tinymce.core.dom.Selection","tinymce.core.Formatter","tinymce.core.UndoManager","tinymce.core.EditorCommands","tinymce.core.util.URI","tinymce.core.util.Class","tinymce.core.util.EventDispatcher","tinymce.core.util.Observable","tinymce.core.WindowManager","tinymce.core.NotificationManager","tinymce.core.EditorObservable","tinymce.core.Shortcuts","tinymce.core.Editor","tinymce.core.util.I18n","tinymce.core.FocusManager","tinymce.core.EditorManager","tinymce.core.util.XHR","tinymce.core.util.JSON","tinymce.core.util.JSONRequest","tinymce.core.util.JSONP","tinymce.core.util.LocalStorage","tinymce.core.api.Compat","tinymce.core.util.Color","tinymce.core.ui.Api"],function(T,S,C,c,l,u,f,o,r,s,a,n,p,k,x,y,h,b,m,i,e,d,v,t,g,w,E,A,R,N,_,P,M,D,U,L,B,I,F,q,G,ne,se,de,ue,Se,me,X,Z){var $=G,J=function(ye,we,ae){var oe,te;for(te=we.split(/[.\/]/),oe=0;oe<te.length-1;++oe)void 0===ye[te[oe]]&&(ye[te[oe]]={}),ye=ye[te[oe]];ye[te[te.length-1]]=ae};return J($,"geom.Rect",T),J($,"util.Promise",S),J($,"util.Delay",C),J($,"Env",c),J($,"dom.EventUtils",l),J($,"dom.Sizzle",u),J($,"util.Tools",f),J($,"dom.DomQuery",o),J($,"html.Styles",r),J($,"dom.TreeWalker",s),J($,"html.Entities",a),J($,"dom.DOMUtils",n),J($,"dom.ScriptLoader",p),J($,"AddOnManager",k),J($,"dom.RangeUtils",x),J($,"html.Node",y),J($,"html.Schema",h),J($,"html.SaxParser",b),J($,"html.DomParser",m),J($,"html.Writer",i),J($,"html.Serializer",e),J($,"dom.Serializer",d),J($,"util.VK",v),J($,"dom.ControlSelection",t),J($,"dom.BookmarkManager",g),J($,"dom.Selection",w),J($,"Formatter",E),J($,"UndoManager",A),J($,"EditorCommands",R),J($,"util.URI",N),J($,"util.Class",_),J($,"util.EventDispatcher",P),J($,"util.Observable",M),J($,"WindowManager",D),J($,"NotificationManager",U),J($,"EditorObservable",L),J($,"Shortcuts",B),J($,"Editor",I),J($,"util.I18n",F),J($,"FocusManager",q),J($,"EditorManager",G),J($,"util.XHR",ne),J($,"util.JSON",se),J($,"util.JSONRequest",de),J($,"util.JSONP",ue),J($,"util.LocalStorage",Se),J($,"Compat",me),J($,"util.Color",X),Z.appendTo($),me.register($),$}),V("tinymce.core.Register",[],function(){var T=this||window;return{exposeToModuleLoaders:function(c){"function"==typeof T.define&&(T.define.amd||(T.define("ephox/tinymce",[],function(){return c}),T.define("tinymce.core.EditorManager",[],function(){return c}))),lt.exports=c}}}),V("tinymce.core.api.Main",["tinymce.core.api.Tinymce","tinymce.core.Register"],function(T,S){return function(){return window.tinymce=T,window.tinyMCE=T,S.exposeToModuleLoaders(T),T}}),et("tinymce.core.api.Main")()},7081:function(lt,it,We){"use strict";We.d(it,{F:function(){return nt}});var nt=[We(8915).t]},8066:function(lt,it,We){"use strict";We.r(it),We.d(it,{NzDemoRichTextEditorModule:function(){return b}});var at=We(2042),nt=We(1783),et=We(4599),st=We(3238),ct=We(4515),V=We(7081),ut=We(1380),z=We(3497),tt=function(){var m=function(){function i(){(0,et.Z)(this,i),this.expanded=!1}return(0,nt.Z)(i,[{key:"goLink",value:function(d){window&&(window.location.hash=d)}},{key:"expandAllCode",value:function(){var d=this;this.expanded=!this.expanded,this.codeBoxes.forEach(function(v){v.nzExpanded=d.expanded,v.expandCode(d.expanded),v.check()})}}]),i}();return m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=z.Xpm({type:m,selectors:[["nz-demo-rich-text-editor"]],viewQuery:function(e,d){var v;1&e&&z.Gf(ut.G,5),2&e&&z.iGM(v=z.CRH())&&(d.codeBoxes=v)},decls:0,vars:0,template:function(e,d){},encapsulation:2}),m}(),T=We(3563),S=We(695),C=We(5760),c=We(8918),l=We(8741),u=We(5535),f=We(2552),r=(We(6708),We(1048)),s=We(7727),a=["editor"];function n(m,i){if(1&m){var e=z.EpF();z.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"editor",4,5),z.NdJ("ngModelChange",function(t){return z.CHM(e),z.oxw().textChanged(t)})("onKeyDown",function(t){return z.CHM(e),z.oxw().onKeyDown(t)}),z.qZA()()()()}if(2&m){var d=z.oxw();z.xp6(1),z.s9C("ngClass",d.options.wrapperClass),z.xp6(2),z.Q6J("init",d.initOptions)("ngModel",d.text)}}var p=function(){var m=function(){function i(e){(0,et.Z)(this,i),this.cdRef=e,this.text="",this.scContentEmpty=new z.vpe,this.fieldMenuMap=[],this.propagateChange=function(d){}}return(0,nt.Z)(i,[{key:"ngOnInit",value:function(){var v,t,g,w,d=this;tinymce.baseURL=this.options.baseUrl,this.options=this.options||{},this.initOptions={auto_focus:null!==(v=this.options.autoFocus)&&void 0!==v&&v,enableSpeechRecognition:!1,body_class:"",branding:!1,browser_spellcheck:!0,convert_fonts_to_spans:!0,convert_urls:!0,extended_valid_elements:"a[name|href|target=_blank|title]",font_formats:'Arial=arial,helvetica,sans-serif;Calibri=calibri;Courier New=courier new,courier;Georgia=georgia,\n      palatino;Tahoma=tahoma,arial,"helvetica,sans-serif;Times New Roman=times new roman,times;Verdana=verdana,geneva',fontsize_formats:"8pt 9pt 10pt 11pt 12pt 14pt 16pt 18pt 20pt 22pt 24pt 26pt 28pt 30pt 36pt 72pt",height:this.options.height||"100%",invalid_elements:"h1,h2,h3,h4,h5,h6,object,script",theme_url:this.options.baseUrl+"/themes/modern/theme.js",keep_styles:!0,menubar:!1,paste_data_images:!0,paste_word_valid_elements:"strong,b,em,i,span,p,ol,ul,li,table,tr,td[colspan|rowspan],th,thead,tfoot,tbody",plugins:"lists paste autolink link",relative_urls:!1,resize:null!==(g=null===(t=this.options)||void 0===t?void 0:t.resize)&&void 0!==g&&g,statusbar:!!(null===(w=this.options)||void 0===w?void 0:w.statusbar),table_clone_elements:"strong em b i span a font",toolbar:["bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent"],skin_url:this.options.baseUrl+"/styles",jobadder_fields:void 0,jobadder_images:this.options.sharedImages,setup:function(A){return d.editorSetup(A,d.options)}},this.options.minimalEditor||(this.initOptions.toolbar=["insertfield | fontselect jobadder_images | fontsizeselect | bold italic underline strikethrough | forecolor | alignmentsplit | bullist numlist outdent indent | link unlink table | removeformat | tinymoji | jobadder_code"],this.initOptions.plugins="".concat(this.initOptions.plugins," lists nonbreaking paste tabfocus textcolor table tinymoji"),this.initOptions.external_plugins={jobadder_linkcolorfix:this.options.baseUrl+"/scripts/linkcolorfix.js",jobadder_code:this.options.baseUrl+"/scripts/code.js",jobadder_images:this.options.baseUrl+"/scripts/images.js"},this.options.fonts&&this.options.fonts.length&&(this.initOptions.font_formats=this.options.fonts.map(function(E){return"".concat(E,"=").concat(E)}).join(";"))),this.options.insertableFields&&(this.initOptions.plugins="".concat(this.initOptions.plugins," mention"),this.initOptions.mentions={source:this.options.insertableFields.map(function(E){return{name:E}}),delimiter:["{"],insert:function(A){return"<span>{".concat(A.name,"}</span>")},default:20}),setTimeout(function(){d.editorEnabled=!0,d.cdRef.markForCheck()},0)}},{key:"writeValue",value:function(d){this.text=d,this.cdRef.markForCheck()}},{key:"registerOnChange",value:function(d){this.propagateChange=d}},{key:"registerOnTouched",value:function(){}},{key:"textChanged",value:function(d){!d&&this.text&&this.scContentEmpty.emit(),this.text=d,this.propagateChange(this.text)}},{key:"editorSetup",value:function(d,v){v.close&&d.on("keyDown",function(t){"Escape"===t.key&&v.close()}),this.setUpAlignmentButtons(d),this.options.insertableFields&&this.setupInsertFieldsButtons(d,this.options.insertableFields)}},{key:"setUpAlignmentButtons",value:function(d){var v={type:"menubutton",icon:"alignleft",size:"small",menu:[this.getAlignmentButton("alignleft","JustifyLeft","Justify Left"),this.getAlignmentButton("alignright","JustifyRight","Justify Right"),this.getAlignmentButton("aligncenter","JustifyCenter","Justify Center"),this.getAlignmentButton("alignjustify","JustifyFull","Justify Full")]};d.addButton("alignmentsplit",v)}},{key:"getAlignmentButton",value:function(d,v,t){return{icon:d,text:t,classes:"align-menu-item",size:"small",onclick:function(){window.tinyMCE.execCommand(v)}}}},{key:"setupInsertFieldsButtons",value:function(d,v){var t={type:"menubutton",text:"Insert Fields",menu:this.getInsertFieldButtons(v)};d.addButton("insertfield",t)}},{key:"getInsertFieldButtons",value:function(d){var v=this;return d.map(function(t){return{name:t,text:t,classes:"align-menu-item",size:"small",onclick:function(){v.myEditor.editor.insertContent("<span>{".concat(t,"}</span>"))}}})}},{key:"onKeyDown",value:function(d){var v=this;"Delete"===d.event.key&&(this.cdRef.markForCheck(),setTimeout(function(){var g=v.myEditor.editor.contentDocument.activeElement.innerText.replaceAll(/\s/g,"");!g&&v.text&&(v.text=g,v.scContentEmpty.emit())},5))}}]),i}();return m.\u0275fac=function(e){return new(e||m)(z.Y36(z.sBO))},m.\u0275cmp=z.Xpm({type:m,selectors:[["sc-rich-text-editor"]],viewQuery:function(e,d){var v;1&e&&z.Gf(a,5),2&e&&z.iGM(v=z.CRH())&&(d.myEditor=v.first)},inputs:{options:"options"},outputs:{scContentEmpty:"scContentEmpty"},features:[z._Bn([{provide:f.JU,useExisting:(0,z.Gpc)(function(){return m}),multi:!0}])],decls:1,vars:1,consts:[["class","editor-body h-100",4,"ngIf"],[1,"editor-body","h-100"],[1,"h-100",3,"ngClass"],[1,"rich-text-editor"],[3,"init","ngModel","ngModelChange","onKeyDown"],["editor",""]],template:function(e,d){1&e&&z.YNc(0,n,5,3,"div",0),2&e&&z.Q6J("ngIf",d.editorEnabled)},directives:[r.O5,r.mk,s.PG,f.JJ,f.On],styles:[".h-100{height:100%}\n"],encapsulation:2,changeDetection:0}),m}(),k=function(){var m=function(){function i(){(0,et.Z)(this,i)}return(0,nt.Z)(i,[{key:"ngOnInit",value:function(){this.initOptions={insertableFields:["name","Test1","test2"],baseUrl:"/tinymce"}}},{key:"contentEmpty",value:function(){console.log("Contents empty event fired.")}}]),i}();return m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=z.Xpm({type:m,selectors:[["nz-demo-rich-text-editor-basic"]],decls:1,vars:1,consts:[[3,"options","scContentEmpty"]],template:function(e,d){1&e&&(z.TgZ(0,"sc-rich-text-editor",0),z.NdJ("scContentEmpty",function(){return d.contentEmpty()}),z.qZA()),2&e&&z.Q6J("options",d.initOptions)},directives:[p],encapsulation:2,changeDetection:0}),m}(),x=We(4124),y=function(){var m=function(){function i(){(0,et.Z)(this,i),this.expanded=!1}return(0,nt.Z)(i,[{key:"goLink",value:function(d){window&&(window.location.hash=d)}},{key:"expandAllCode",value:function(){var d=this;this.expanded=!this.expanded,this.codeBoxes.forEach(function(v){v.nzExpanded=d.expanded,v.expandCode(d.expanded),v.check()})}}]),i}();return m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=z.Xpm({type:m,selectors:[["nz-demo-rich-text-editor"]],viewQuery:function(e,d){var v;1&e&&z.Gf(ut.G,5),2&e&&z.iGM(v=z.CRH())&&(d.codeBoxes=v)},decls:280,vars:8,consts:[[1,"toc-affix",3,"nzOffsetTop"],["nzShowInkInFixed","",3,"nzAffix","nzClick"],["nzHref","#components-rich-text-editor-demo-basic","nzTitle","Rich text editor"],["nzHref","#api","nzTitle","API"],[1,"markdown"],[1,"subtitle"],[1,"widget"],["aria-label","Edit this page on Github","href","https://github.com/JobAdder/scales-workspace/tree/dev/projects/scales-library/src/lib//rich-text-editor/doc/index.en-US.md","target","_blank","rel","noopener noreferrer",1,"edit-button"],["nz-icon","","nzType","edit"],["id","when-to-use"],["onclick","window.location.hash = 'when-to-use'",1,"anchor"],[1,"language-ts"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],["id","component-tab"],["nzTitle","Examples"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","Rich text editor","nzSelector","nz-demo-rich-text-editor-basic","nzGenerateCommand","ng g ng-zorro-antd:rich-text-editor-basic <name>","nzComponentName","NzDemoRichTextEditorBasicComponent","nzIframeSource","null",3,"nzId","nzLink","nzIframeHeight","nzHref"],["demo",""],["intro",""],["nzTitle","Usage"],["nzTitle","Installation"],[1,"markdown","api-container"],["id","api"],["onclick","window.location.hash = 'api'",1,"anchor"],["id","[sc-rich-text-editor]"],[1,"api-type-label","directive"],["onclick","window.location.hash = '[sc-rich-text-editor]'",1,"anchor"],["id","richtexteditoroptions"],["onclick","window.location.hash = 'richtexteditoroptions'",1,"anchor"],[1,"token","operator"],["id","usage-and-options"],["onclick","window.location.hash = 'usage-and-options'",1,"anchor"]],template:function(e,d){1&e&&(z.TgZ(0,"article")(1,"nz-affix",0)(2,"nz-anchor",1),z.NdJ("nzClick",function(t){return d.goLink(t)}),z._UZ(3,"nz-link",2)(4,"nz-link",3),z.qZA()(),z.TgZ(5,"section",4)(6,"h1"),z._uU(7,"Rich text editor"),z._UZ(8,"span",5)(9,"span",6),z.TgZ(10,"a",7),z._UZ(11,"i",8),z.qZA()(),z.TgZ(12,"section",4),z.IAx(),z.TgZ(13,"h2",9)(14,"span"),z._uU(15,"When To Use"),z.qZA(),z.TgZ(16,"a",10),z._uU(17,"#"),z.qZA()(),z.TgZ(18,"p"),z._uU(19,"This component is used as rich text editor."),z.qZA(),z.TgZ(20,"pre",11)(21,"code")(22,"span",12),z._uU(23,"import"),z.qZA(),z._uU(24," "),z.TgZ(25,"span",13),z._uU(26,"{"),z.qZA(),z._uU(27," ScalesLibraryModule "),z.TgZ(28,"span",13),z._uU(29,"}"),z.qZA(),z._uU(30," "),z.TgZ(31,"span",12),z._uU(32,"from"),z.qZA(),z._uU(33," "),z.TgZ(34,"span",14),z._uU(35,"'scales-library'"),z.qZA(),z.TgZ(36,"span",13),z._uU(37,";"),z.qZA()()(),z.fQ9(),z.qZA()(),z.TgZ(38,"nz-tabset",15)(39,"nz-tab",16)(40,"div",17)(41,"div",18)(42,"nz-code-box",19),z._UZ(43,"nz-demo-rich-text-editor-basic",20),z.TgZ(44,"div",21),z.IAx(),z.TgZ(45,"p")(46,"code"),z._uU(47,"A sample of rich text editor compomnent."),z.qZA()(),z.fQ9(),z.qZA()()()()(),z.TgZ(48,"nz-tab",22),z._uU(49," Content of Tab Pane 2 "),z.qZA(),z._UZ(50,"nz-tab",23),z.qZA(),z.TgZ(51,"section",24),z.IAx(),z.TgZ(52,"h2",25)(53,"span"),z._uU(54,"API"),z.qZA(),z.TgZ(55,"a",26),z._uU(56,"#"),z.qZA()(),z.TgZ(57,"h3",27)(58,"span"),z._uU(59,"[sc-rich-text-editor]"),z.qZA(),z.TgZ(60,"label",28),z._uU(61,"directive"),z.qZA(),z.TgZ(62,"a",29),z._uU(63,"#"),z.qZA()(),z.TgZ(64,"table")(65,"thead")(66,"tr")(67,"th"),z._uU(68,"Property"),z.qZA(),z.TgZ(69,"th"),z._uU(70,"Description"),z.qZA(),z.TgZ(71,"th"),z._uU(72,"Type"),z.qZA(),z.TgZ(73,"th"),z._uU(74,"Default"),z.qZA()()(),z.TgZ(75,"tbody")(76,"tr")(77,"td")(78,"code"),z._uU(79,"[scContentEmpty]"),z.qZA()(),z.TgZ(80,"td"),z._uU(81,"Contents empty event fired"),z.qZA(),z.TgZ(82,"td")(83,"code"),z._uU(84,"EventEmitter<Event>"),z.qZA()(),z._UZ(85,"td"),z.qZA(),z.TgZ(86,"tr")(87,"td")(88,"code"),z._uU(89,"[options]"),z.qZA()(),z.TgZ(90,"td"),z._uU(91,"RichTextEditorOptions"),z.qZA(),z.TgZ(92,"td")(93,"code"),z._uU(94,"RichTextEditorOptions"),z.qZA()(),z._UZ(95,"td"),z.qZA()()(),z.TgZ(96,"h3",30)(97,"span"),z._uU(98,"RichTextEditorOptions"),z.qZA(),z.TgZ(99,"a",31),z._uU(100,"#"),z.qZA()(),z.TgZ(101,"p"),z._uU(102,"This interface allows to set some options for [sc-rich-text-editor]"),z.qZA(),z.TgZ(103,"pre",11)(104,"code")(105,"span",13),z._uU(106,"{"),z.qZA(),z._uU(107,"\n  minimalEditor"),z.TgZ(108,"span",32),z._uU(109,"?"),z.qZA(),z.TgZ(110,"span",13),z._uU(111,":"),z.qZA(),z._uU(112," "),z.TgZ(113,"span",12),z._uU(114,"boolean"),z.qZA(),z.TgZ(115,"span",13),z._uU(116,";"),z.qZA(),z._uU(117,"\n  insertableFields"),z.TgZ(118,"span",32),z._uU(119,"?"),z.qZA(),z.TgZ(120,"span",13),z._uU(121,":"),z.qZA(),z._uU(122," "),z.TgZ(123,"span",12),z._uU(124,"string"),z.qZA(),z.TgZ(125,"span",13),z._uU(126,"["),z.qZA(),z.TgZ(127,"span",13),z._uU(128,"]"),z.qZA(),z.TgZ(129,"span",13),z._uU(130,";"),z.qZA(),z._uU(131,"\n  fonts"),z.TgZ(132,"span",32),z._uU(133,"?"),z.qZA(),z.TgZ(134,"span",13),z._uU(135,":"),z.qZA(),z._uU(136," "),z.TgZ(137,"span",12),z._uU(138,"string"),z.qZA(),z.TgZ(139,"span",13),z._uU(140,"["),z.qZA(),z.TgZ(141,"span",13),z._uU(142,"]"),z.qZA(),z.TgZ(143,"span",13),z._uU(144,";"),z.qZA(),z._uU(145,"\n  autoFocus"),z.TgZ(146,"span",32),z._uU(147,"?"),z.qZA(),z.TgZ(148,"span",13),z._uU(149,":"),z.qZA(),z._uU(150," "),z.TgZ(151,"span",12),z._uU(152,"boolean"),z.qZA(),z.TgZ(153,"span",13),z._uU(154,";"),z.qZA(),z._uU(155,"\n  sharedImages"),z.TgZ(156,"span",32),z._uU(157,"?"),z.qZA(),z.TgZ(158,"span",13),z._uU(159,":"),z.qZA(),z._uU(160," "),z.TgZ(161,"span",12),z._uU(162,"any"),z.qZA(),z.TgZ(163,"span",13),z._uU(164,";"),z.qZA(),z._uU(165,"\n  close"),z.TgZ(166,"span",32),z._uU(167,"?"),z.qZA(),z.TgZ(168,"span",13),z._uU(169,":"),z.qZA(),z._uU(170," "),z.TgZ(171,"span",13),z._uU(172,"("),z.qZA(),z.TgZ(173,"span",13),z._uU(174,")"),z.qZA(),z._uU(175," "),z.TgZ(176,"span",32),z._uU(177,"="),z.qZA(),z.TgZ(178,"span",32),z._uU(179,">"),z.qZA(),z._uU(180," "),z.TgZ(181,"span",12),z._uU(182,"void"),z.qZA(),z.TgZ(183,"span",13),z._uU(184,";"),z.qZA(),z._uU(185,"\n  baseUrl"),z.TgZ(186,"span",32),z._uU(187,"?"),z.qZA(),z.TgZ(188,"span",13),z._uU(189,":"),z.qZA(),z._uU(190," "),z.TgZ(191,"span",12),z._uU(192,"string"),z.qZA(),z.TgZ(193,"span",13),z._uU(194,";"),z.qZA(),z._uU(195,"\n  height"),z.TgZ(196,"span",32),z._uU(197,"?"),z.qZA(),z.TgZ(198,"span",13),z._uU(199,":"),z.qZA(),z._uU(200," "),z.TgZ(201,"span",12),z._uU(202,"string"),z.qZA(),z.TgZ(203,"span",13),z._uU(204,";"),z.qZA(),z._uU(205,"\n  wrapperClass"),z.TgZ(206,"span",32),z._uU(207,"?"),z.qZA(),z.TgZ(208,"span",13),z._uU(209,":"),z.qZA(),z._uU(210," "),z.TgZ(211,"span",12),z._uU(212,"string"),z.qZA(),z.TgZ(213,"span",13),z._uU(214,";"),z.qZA(),z._uU(215,"\n  resize"),z.TgZ(216,"span",32),z._uU(217,"?"),z.qZA(),z.TgZ(218,"span",13),z._uU(219,":"),z.qZA(),z._uU(220," "),z.TgZ(221,"span",12),z._uU(222,"boolean"),z.qZA(),z._uU(223," "),z.TgZ(224,"span",32),z._uU(225,"|"),z.qZA(),z._uU(226," "),z.TgZ(227,"span",14),z._uU(228,"'both'"),z.qZA(),z.TgZ(229,"span",13),z._uU(230,";"),z.qZA(),z._uU(231,"\n  statusbar"),z.TgZ(232,"span",32),z._uU(233,"?"),z.qZA(),z.TgZ(234,"span",13),z._uU(235,":"),z.qZA(),z._uU(236," "),z.TgZ(237,"span",12),z._uU(238,"boolean"),z.qZA(),z.TgZ(239,"span",13),z._uU(240,";"),z.qZA(),z._uU(241,"\n"),z.TgZ(242,"span",13),z._uU(243,"}"),z.qZA()()(),z.TgZ(244,"h3",33)(245,"span"),z._uU(246,"Usage and options"),z.qZA(),z.TgZ(247,"a",34),z._uU(248,"#"),z.qZA()(),z.TgZ(249,"p"),z._uU(250,"Since no model is provided as input for this component we need to specify attribute "),z.TgZ(251,"code"),z._uU(252,"formControlName"),z.qZA(),z._uU(253," in order to handle the value.\n"),z.TgZ(254,"code"),z._uU(255,"RichTextEditorOptions"),z.qZA(),z._uU(256," requires at least a baseUrl to be set in order to work properly as it's used to set some theme and style paths on bootstrap.\n"),z.TgZ(257,"strong"),z._uU(258,"For our application it should be set to "),z.TgZ(259,"code"),z._uU(260,"/assets/scales-library/tinymce/"),z.qZA()(),z._uU(261,".\n"),z.TgZ(262,"code"),z._uU(263,"height"),z.qZA(),z._uU(264," allows to set a fixed initial height for the textarea, "),z.TgZ(265,"code"),z._uU(266,"wrapperClass"),z.qZA(),z._uU(267," is useful to set class selectors and "),z.TgZ(268,"code"),z._uU(269,"resize"),z.qZA(),z._uU(270," allows to change editor's width and height, true allows\nvertical resizing, "),z.TgZ(271,"code"),z._uU(272,"both"),z.qZA(),z._uU(273," vertical and horizontal.\n"),z.TgZ(274,"strong"),z._uU(275,"NOTE"),z.qZA(),z._uU(276,": In order to allow resizing, "),z.TgZ(277,"code"),z._uU(278,"statusbar"),z.qZA(),z._uU(279," needs to be set to true as resizing icon is contained in it."),z.qZA(),z.fQ9(),z.qZA()()),2&e&&(z.xp6(1),z.Q6J("nzOffsetTop",16),z.xp6(1),z.Q6J("nzAffix",!1),z.xp6(38),z.Q6J("nzGutter",8),z.xp6(1),z.Q6J("nzSpan",24),z.xp6(1),z.Q6J("nzId","components-rich-text-editor-demo-basic")("nzLink","components-rich-text-editor-demo-basic")("nzIframeHeight",null)("nzHref","https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/rich-text-editor/demo/basic.md"))},directives:[T.$,S.IT,S.Fp,C.Ls,c.w,l.xH,l.xw,u.SK,u.t3,ut.G,k,x.Om,x.$Z,x.Uo,x._C,x.p0],encapsulation:2}),m}(),b=(We(8915),function(){var m=(0,nt.Z)(function i(){(0,et.Z)(this,i)});return m.\u0275fac=function(e){return new(e||m)},m.\u0275mod=z.oAB({type:m}),m.\u0275inj=z.cJS({imports:[[ct.G].concat((0,at.Z)(V.F),[st.Bz.forChild([{path:"en",component:y},{path:"zh",component:tt}])])]}),m}())}}]);