{"highlightCode":"<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\r\n\r\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'nz-demo-input-with-validator-template-form'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token styles-string\">styles: [<span class=\"token css\"><span class=\"token selector\">`<span class=\"token class\">.scales-input-validator-template-form</span> </span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">12</span>px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8</span>px<span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>px <span class=\"token number\">4</span>px <span class=\"token number\">8</span>px <span class=\"token number\">0</span>px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">34</span>, <span class=\"token number\">43</span>, <span class=\"token number\">61</span>, <span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> $color-grey-<span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>`</span>]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token template-string\">template: <span class=\"token html\">`\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>scales-input-validator-template-form<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">(ngSubmit)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>onSubmitWithTemplateForm()<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">nz-form</span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">></span></span>User Name *<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sc-input-with-validator</span>\r\n              <span class=\"token attr-name\">scPlaceHolder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">scType</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">scPrefixIcon</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>user<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">[scInvalid]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>isInvalid || InValidateName()<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">[(ngModel)]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>nameValue<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">required</span>\r\n          <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sc-input-with-validator</span><span class=\"token punctuation\">></span></span><span class=\"token entity\" title=\"&nbsp;\">&amp;nbsp;</span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">></span></span>Email *<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sc-input-with-validator</span>\r\n              <span class=\"token attr-name\">scPlaceHolder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Enter your email<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">scType</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">[(ngModel)]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>emailValue<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">[scInvalid]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>isInvalid || InValidateEmail()<span class=\"token punctuation\">\"</span></span>\r\n              <span class=\"token attr-name\">required</span>\r\n            <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sc-input-with-validator</span><span class=\"token punctuation\">></span></span><span class=\"token entity\" title=\"&nbsp;\">&amp;nbsp;</span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">></span></span>Phone *<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sc-input-with-validator</span>\r\n            <span class=\"token attr-name\">scType</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\r\n            <span class=\"token attr-name\">[ngModel]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>333333<span class=\"token punctuation\">\"</span></span>\r\n          <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sc-input-with-validator</span><span class=\"token punctuation\">></span></span><span class=\"token entity\" title=\"&nbsp;\">&amp;nbsp;</span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\r\n            <span class=\"token attr-name\">nz-button</span>\r\n            <span class=\"token attr-name\">nzType</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>primary<span class=\"token punctuation\">\"</span></span>\r\n            <span class=\"token attr-name\">(click)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>onSubmitWithTemplateForm()<span class=\"token punctuation\">\"</span></span>\r\n            <span class=\"token attr-name\">(focusout)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>lostFocus()<span class=\"token punctuation\">\"</span></span>\r\n          <span class=\"token punctuation\">></span></span>Submit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  `</span></span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NzDemoInputWithValidatorTemplateFormComponent</span> <span class=\"token punctuation\">{</span>\r\n  nameValue <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\r\n  emailValue <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\r\n  isInvalid <span class=\"token operator\">=</span> <span class=\"token keyword\">false</span><span class=\"token punctuation\">;</span>\r\n\r\n  InValidateName <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> v <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nameValue<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> v <span class=\"token operator\">&amp;&amp;</span> v<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">true</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">false</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  InValidateEmail <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> email <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>emailValue\r\n    <span class=\"token keyword\">const</span> EMAIL_REGEXP <span class=\"token operator\">=</span> <span class=\"token regex\">/^[a-z0-9!#$%&amp;'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>email<span class=\"token operator\">===</span><span class=\"token string\">''</span> <span class=\"token operator\">||</span> EMAIL_REGEXP<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span>  <span class=\"token keyword\">false</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">true</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token function\">onSubmitWithTemplateForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nameValue <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>emailValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isInvalid <span class=\"token operator\">=</span> <span class=\"token keyword\">true</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token function\">lostFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isInvalid<span class=\"token operator\">=</span><span class=\"token keyword\">false</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n","rawCode":"import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'nz-demo-input-with-validator-template-form',\r\n  styles: [`.scales-input-validator-template-form {\r\n    width: 200px;\r\n    padding: 12px;\r\n    border-radius: 8px;\r\n    box-shadow: 0px 4px 8px 0px rgba(34, 43, 61, 0.1);\r\n    background-color: $color-grey-0;\r\n  }`],\r\n  template: `\r\n      <div class=\"scales-input-validator-template-form\">\r\n        <div (ngSubmit)=\"onSubmitWithTemplateForm()\" nz-form>\r\n          <div>\r\n            <label>User Name *</label>\r\n            <sc-input-with-validator\r\n              scPlaceHolder=\"Enter your name\"\r\n              scType=\"text\"\r\n              scPrefixIcon=\"user\"\r\n              [scInvalid]=\"isInvalid || InValidateName()\"\r\n              [(ngModel)]=\"nameValue\"\r\n              required\r\n          ></sc-input-with-validator>&nbsp;\r\n          </div>\r\n          <div>\r\n            <label>Email *</label>\r\n            <sc-input-with-validator\r\n              scPlaceHolder=\"Enter your email\"\r\n              scType=\"text\"\r\n              [(ngModel)]=\"emailValue\"\r\n              [scInvalid]=\"isInvalid || InValidateEmail()\"\r\n              required\r\n            ></sc-input-with-validator>&nbsp;\r\n          </div>\r\n          <div>\r\n          <label>Phone *</label>\r\n          <sc-input-with-validator\r\n            scType=\"text\"\r\n            [ngModel]=\"333333\"\r\n          ></sc-input-with-validator>&nbsp;\r\n          </div>\r\n          <button\r\n            nz-button\r\n            nzType=\"primary\"\r\n            (click)=\"onSubmitWithTemplateForm()\"\r\n            (focusout)=\"lostFocus()\"\r\n          >Submit</button>\r\n        </div>\r\n      </div>\r\n  `\r\n})\r\nexport class NzDemoInputWithValidatorTemplateFormComponent {\r\n  nameValue = '';\r\n  emailValue = '';\r\n  isInvalid = false;\r\n\r\n  InValidateName = () => {\r\n    const v = this.nameValue;\r\n    if ( v && v.length < 3){\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  InValidateEmail = () => {\r\n    const email = this.emailValue\r\n    const EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;\r\n    return (email==='' || EMAIL_REGEXP.test(email)) ?  false : true\r\n  }\r\n\r\n  onSubmitWithTemplateForm() {\r\n    if(!this.nameValue && !this.emailValue){\r\n      this.isInvalid = true;\r\n    }\r\n  }\r\n\r\n  lostFocus(){\r\n    this.isInvalid=false\r\n  }\r\n}\r\n"}
